/*! For license information please see smart.editor.js.LICENSE.txt */
(()=>{var e={6731:function(e,t,n){var a,r,o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function n(e,n){var a;if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator])return(a=e[Symbol.iterator]()).next.bind(a);if(Array.isArray(e)||(a=function(e,n){if(e){if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(a="Object"===a&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e){return c[e]}var r,o=(function(e){e.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},changeDefaults:function(t){e.exports.defaults=t}}}(r={exports:{}}),r.exports),i=/[&<>"']/,l=/[&<>"']/g,s=/[<>"']|&(?!#?\w+;)/,u=/[<>"']|&(?!#?\w+;)/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function p(e){return e.replace(d,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var m=/(^|[^\[])\^/g,f=/[^\w:]/g,h=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,v={},g=/^[^:]+:\/*[^/]*$/,y=/^([^:]+:)[\s\S]*$/,b=/^([^:]+:\/*[^/]*)[\s\S]*$/;function w(e,t,n){var a=e.length;if(0===a)return"";for(var r=0;r<a;){var o=e.charAt(a-r-1);if(o!==t||n){if(o===t||!n)break;r++}else r++}return e.substr(0,a-r)}var _=function(e,t){if(t){if(i.test(e))return e.replace(l,a)}else if(s.test(e))return e.replace(u,a);return e},k=p,C=function(e,t){e=e.source||e,t=t||"";var n={replace:function(t,a){return a=(a=a.source||a).replace(m,"$1"),e=e.replace(t,a),n},getRegex:function(){return new RegExp(e,t)}};return n},D={exec:function(){}},x=function(e){for(var t,n,a=1;a<arguments.length;a++)for(n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},E=function(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var a=!1,r=t;0<=--r&&"\\"===n[r];)a=!a;return a?"|":" |"})).split(/ \|/),a=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;a<n.length;a++)n[a]=n[a].trim().replace(/\\\|/g,"|");return n},S=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,a=0,r=0;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])a++;else if(e[r]===t[1]&&--a<0)return r;return-1},A=o.defaults,T=w,$=E,F=_,L=S;function H(e,t,n){var a=t.href,r=t.title?F(t.title):null;return t=e[1].replace(/\\([\[\]])/g,"$1"),"!"!==e[0].charAt(0)?{type:"link",raw:n,href:a,title:r,text:t}:{type:"image",raw:n,href:a,title:r,text:F(t)}}var O=function(){function e(e){this.options=e||A}var t=e.prototype;return t.space=function(e){if(e=this.rules.block.newline.exec(e))return 1<e[0].length?{type:"space",raw:e[0]}:{raw:"\n"}},t.code=function(e){var t=this.rules.block.code.exec(e);if(t)return e=t[0].replace(/^ {1,4}/gm,""),{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:T(e,"\n")}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0];return e=function(e,t){if(null===(e=e.match(/^(\s+)(?:```)/)))return t;var n=e[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null!==t&&t[0].length>=n.length?e.slice(n.length):e})).join("\n")}(n,t[3]||""),{type:"code",raw:n,lang:t[2]&&t[2].trim(),text:e}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();return/#$/.test(n)&&(e=T(n,"#"),!this.options.pedantic&&e&&!/ $/.test(e)||(n=e.trim())),{type:"heading",raw:t[0],depth:t[1].length,text:n}}},t.nptable=function(e){if(e=this.rules.block.nptable.exec(e)){var t={type:"table",header:$(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[],raw:e[0]};if(t.header.length===t.align.length){for(var n=t.align.length,a=0;a<n;a++)/^ *-+: *$/.test(t.align[a])?t.align[a]="right":/^ *:-+: *$/.test(t.align[a])?t.align[a]="center":/^ *:-+ *$/.test(t.align[a])?t.align[a]="left":t.align[a]=null;for(n=t.cells.length,a=0;a<n;a++)t.cells[a]=$(t.cells[a],t.header.length);return t}}},t.hr=function(e){if(e=this.rules.block.hr.exec(e))return{type:"hr",raw:e[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t)return e=t[0].replace(/^ *> ?/gm,""),{type:"blockquote",raw:t[0],text:e}},t.list=function(e){if(e=this.rules.block.list.exec(e)){for(var t,n,a,r,o,i,l=e[0],s=e[2],u=1<s.length,c={type:"list",raw:l,ordered:u,start:u?+s.slice(0,-1):"",loose:!1,items:[]},d=e[0].match(this.rules.block.item),p=!1,m=d.length,f=this.rules.block.listItemStart.exec(d[0]),h=0;h<m;h++){if(l=t=d[h],this.options.pedantic||(i=t.match(new RegExp("\\n\\s*\\n {0,"+(f[0].length-1)+"}\\S")))&&(n=t.length-i.index+d.slice(h+1).join("\n").length,c.raw=c.raw.substring(0,c.raw.length-n),l=t=t.substring(0,i.index),m=h+1),h!==m-1){if(a=this.rules.block.listItemStart.exec(d[h+1]),this.options.pedantic?a[1].length>f[1].length:a[1].length>=f[0].length||3<a[1].length){d.splice(h,2,d[h]+(!this.options.pedantic&&a[1].length<f[0].length&&!d[h].match(/\n$/)?"":"\n")+d[h+1]),h--,m--;continue}(!this.options.pedantic||this.options.smartLists?a[2][a[2].length-1]!==s[s.length-1]:u==(1===a[2].length))&&(n=d.slice(h+1).join("\n").length,c.raw=c.raw.substring(0,c.raw.length-n),h=m-1),f=a}a=t.length,~(t=t.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(a-=t.length,t=this.options.pedantic?t.replace(/^ {1,4}/gm,""):t.replace(new RegExp("^ {1,"+a+"}","gm"),"")),t=T(t,"\n"),h!==m-1&&(l+="\n"),a=p||/\n\n(?!\s*$)/.test(l),h!==m-1&&(p="\n\n"===l.slice(-2),a=a||p),a&&(c.loose=!0),this.options.gfm&&(o=void 0,(r=/^\[[ xX]\] /.test(t))&&(o=" "!==t[1],t=t.replace(/^\[[ xX]\] +/,""))),c.items.push({type:"list_item",raw:l,task:r,checked:o,loose:a,text:t})}return c}},t.html=function(e){if(e=this.rules.block.html.exec(e))return{type:this.options.sanitize?"paragraph":"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):F(e[0]):e[0]}},t.def=function(e){if(e=this.rules.block.def.exec(e))return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}},t.table=function(e){if(e=this.rules.block.table.exec(e)){var t={type:"table",header:$(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[]};if(t.header.length===t.align.length){t.raw=e[0];for(var n=t.align.length,a=0;a<n;a++)/^ *-+: *$/.test(t.align[a])?t.align[a]="right":/^ *:-+: *$/.test(t.align[a])?t.align[a]="center":/^ *:-+ *$/.test(t.align[a])?t.align[a]="left":t.align[a]=null;for(n=t.cells.length,a=0;a<n;a++)t.cells[a]=$(t.cells[a].replace(/^ *\| *| *\| *$/g,""),t.header.length);return t}}},t.lheading=function(e){if(e=this.rules.block.lheading.exec(e))return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1]}},t.paragraph=function(e){if(e=this.rules.block.paragraph.exec(e))return{type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1]}},t.text=function(e){if(e=this.rules.block.text.exec(e))return{type:"text",raw:e[0],text:e[0]}},t.escape=function(e){if(e=this.rules.inline.escape.exec(e))return{type:"escape",raw:e[0],text:F(e[1])}},t.tag=function(e,t,n){if(e=this.rules.inline.tag.exec(e))return!t&&/^<a /i.test(e[0])?t=!0:t&&/^<\/a>/i.test(e[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):F(e[0]):e[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;if(e=T(n.slice(0,-1),"\\"),(n.length-e.length)%2==0)return}else-1<(r=L(t[2],"()"))&&(o=(0===t[0].indexOf("!")?5:4)+t[1].length+r,t[2]=t[2].substring(0,r),t[0]=t[0].substring(0,o).trim(),t[3]="");var a,r=t[2],o="";return this.options.pedantic?(a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r))&&(r=a[1],o=a[3]):o=t[3]?t[3].slice(1,-1):"",r=r.trim(),H(t,{href:(r=/^</.test(r)?this.options.pedantic&&!/>$/.test(n)?r.slice(1):r.slice(1,-1):r)&&r.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},t[0])}},t.reflink=function(e,t){if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){if((e=t[(e=(n[2]||n[1]).replace(/\s+/g," ")).toLowerCase()])&&e.href)return H(n,e,n[0]);var n=n[0].charAt(0);return{type:"text",raw:n,text:n}}},t.emStrong=function(e,t,n){void 0===n&&(n="");var a=this.rules.inline.emStrong.lDelim.exec(e);if(a&&(!a[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var r=a[1]||a[2]||"";if(!r||r&&(""===n||this.rules.inline.punctuation.exec(n))){var o,i=a[0].length-1,l=i,s=0,u="*"===a[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+i);null!=(a=u.exec(t));)if(o=a[1]||a[2]||a[3]||a[4]||a[5]||a[6])if(o=o.length,a[3]||a[4])l+=o;else if(!((a[5]||a[6])&&i%3)||(i+o)%3){if(!(0<(l-=o))){if(l+s-o<=0&&!t.slice(u.lastIndex).match(u)&&(o=Math.min(o,o+l+s)),Math.min(i,o)%2)return{type:"em",raw:e.slice(0,i+a.index+o+1),text:e.slice(1,i+a.index+o)};if(Math.min(i,o)%2==0)return{type:"strong",raw:e.slice(0,i+a.index+o+1),text:e.slice(2,i+a.index+o-1)}}}else s+=o}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),a=/[^ ]/.test(n);return e=/^ /.test(n)&&/ $/.test(n),a&&e&&(n=n.substring(1,n.length-1)),n=F(n,!0),{type:"codespan",raw:t[0],text:n}}},t.br=function(e){if(e=this.rules.inline.br.exec(e))return{type:"br",raw:e[0]}},t.del=function(e){if(e=this.rules.inline.del.exec(e))return{type:"del",raw:e[0],text:e[2]}},t.autolink=function(e,t){var n;if(e=this.rules.inline.autolink.exec(e))return t="@"===e[2]?"mailto:"+(n=F(this.options.mangle?t(e[1]):e[1])):n=F(e[1]),{type:"link",raw:e[0],text:n,href:t,tokens:[{type:"text",raw:n,text:n}]}},t.url=function(e,t){var n,a,r,o;if(n=this.rules.inline.url.exec(e)){if("@"===n[2])r="mailto:"+(a=F(this.options.mangle?t(n[0]):n[0]));else{for(;o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0],o!==n[0];);a=F(n[0]),r="www."===n[1]?"http://"+a:a}return{type:"link",raw:n[0],text:a,href:r,tokens:[{type:"text",raw:a,text:a}]}}},t.inlineText=function(e,t,n){if(e=this.rules.inline.text.exec(e))return n=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):F(e[0]):e[0]:F(this.options.smartypants?n(e[0]):e[0]),{type:"text",raw:e[0],text:n}},e}();E=D,S=C,D=x,(C={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:E,table:E,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/}).def=S(C.def).replace("label",C._label).replace("title",C._title).getRegex(),C.bullet=/(?:[*+-]|\d{1,9}[.)])/,C.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,C.item=S(C.item,"gm").replace(/bull/g,C.bullet).getRegex(),C.listItemStart=S(/^( *)(bull) */).replace("bull",C.bullet).getRegex(),C.list=S(C.list).replace(/bull/g,C.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+C.def.source+")").getRegex(),C._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",C._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,C.html=S(C.html,"i").replace("comment",C._comment).replace("tag",C._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),C.paragraph=S(C._paragraph).replace("hr",C.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",C._tag).getRegex(),C.blockquote=S(C.blockquote).replace("paragraph",C.paragraph).getRegex(),C.normal=D({},C),C.gfm=D({},C.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),C.gfm.nptable=S(C.gfm.nptable).replace("hr",C.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",C._tag).getRegex(),C.gfm.table=S(C.gfm.table).replace("hr",C.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",C._tag).getRegex(),C.pedantic=D({},C.normal,{html:S("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",C._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:E,paragraph:S(C.normal._paragraph).replace("hr",C.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",C.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),(E={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:E,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:E,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"}).punctuation=S(E.punctuation).replace(/punctuation/g,E._punctuation).getRegex(),E.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,E.escapedEmSt=/\\\*|\\_/g,E._comment=S(C._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),E.emStrong.lDelim=S(E.emStrong.lDelim).replace(/punct/g,E._punctuation).getRegex(),E.emStrong.rDelimAst=S(E.emStrong.rDelimAst,"g").replace(/punct/g,E._punctuation).getRegex(),E.emStrong.rDelimUnd=S(E.emStrong.rDelimUnd,"g").replace(/punct/g,E._punctuation).getRegex(),E._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,E._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,E._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,E.autolink=S(E.autolink).replace("scheme",E._scheme).replace("email",E._email).getRegex(),E._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,E.tag=S(E.tag).replace("comment",E._comment).replace("attribute",E._attribute).getRegex(),E._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,E._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,E._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,E.link=S(E.link).replace("label",E._label).replace("href",E._href).replace("title",E._title).getRegex(),E.reflink=S(E.reflink).replace("label",E._label).getRegex(),E.reflinkSearch=S(E.reflinkSearch,"g").replace("reflink",E.reflink).replace("nolink",E.nolink).getRegex(),E.normal=D({},E),E.pedantic=D({},E.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:S(/^!?\[(label)\]\((.*?)\)/).replace("label",E._label).getRegex(),reflink:S(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",E._label).getRegex()}),E.gfm=D({},E.normal,{escape:S(E.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),E.gfm.url=S(E.gfm.url,"i").replace("email",E.gfm._extended_email).getRegex(),E.breaks=D({},E.gfm,{br:S(E.br).replace("{2,}","*").getRegex(),text:S(E.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),E={block:C,inline:E};var P=o.defaults,B=E.block,I=E.inline,M=function(e,t){if(t<1)return"";for(var n="";1<t;)1&t&&(n+=e),t>>=1,e+=e;return n+e};function R(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function z(e){for(var t,n="",a=e.length,r=0;r<a;r++)t=e.charCodeAt(r),n+="&#"+(t=.5<Math.random()?"x"+t.toString(16):t)+";";return n}var N=function(){function t(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||P,this.options.tokenizer=this.options.tokenizer||new O,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,e={block:B.normal,inline:I.normal},this.options.pedantic?(e.block=B.pedantic,e.inline=I.pedantic):this.options.gfm&&(e.block=B.gfm,this.options.breaks?e.inline=I.breaks:e.inline=I.gfm),this.tokenizer.rules=e}t.lex=function(e,n){return new t(n).lex(e)},t.lexInline=function(e,n){return new t(n).inlineTokens(e)};var n,a,r=t.prototype;return r.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},r.blockTokens=function(e,t,n){var a,r,o,i;for(void 0===t&&(t=[]),void 0===n&&(n=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(a=this.tokenizer.space(e))e=e.substring(a.raw.length),a.type&&t.push(a);else if(a=this.tokenizer.code(e))e=e.substring(a.raw.length),(i=t[t.length-1])&&"paragraph"===i.type?(i.raw+="\n"+a.raw,i.text+="\n"+a.text):t.push(a);else if(a=this.tokenizer.fences(e))e=e.substring(a.raw.length),t.push(a);else if(a=this.tokenizer.heading(e))e=e.substring(a.raw.length),t.push(a);else if(a=this.tokenizer.nptable(e))e=e.substring(a.raw.length),t.push(a);else if(a=this.tokenizer.hr(e))e=e.substring(a.raw.length),t.push(a);else if(a=this.tokenizer.blockquote(e))e=e.substring(a.raw.length),a.tokens=this.blockTokens(a.text,[],n),t.push(a);else if(a=this.tokenizer.list(e)){for(e=e.substring(a.raw.length),o=a.items.length,r=0;r<o;r++)a.items[r].tokens=this.blockTokens(a.items[r].text,[],!1);t.push(a)}else if(a=this.tokenizer.html(e))e=e.substring(a.raw.length),t.push(a);else if(n&&(a=this.tokenizer.def(e)))e=e.substring(a.raw.length),this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});else if(a=this.tokenizer.table(e))e=e.substring(a.raw.length),t.push(a);else if(a=this.tokenizer.lheading(e))e=e.substring(a.raw.length),t.push(a);else if(n&&(a=this.tokenizer.paragraph(e)))e=e.substring(a.raw.length),t.push(a);else if(a=this.tokenizer.text(e))e=e.substring(a.raw.length),(i=t[t.length-1])&&"text"===i.type?(i.raw+="\n"+a.raw,i.text+="\n"+a.text):t.push(a);else if(e){var l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}throw new Error(l)}return t},r.inline=function(e){for(var t,n,a,r,o,i=e.length,l=0;l<i;l++)switch((o=e[l]).type){case"paragraph":case"text":case"heading":o.tokens=[],this.inlineTokens(o.text,o.tokens);break;case"table":for(o.tokens={header:[],cells:[]},a=o.header.length,t=0;t<a;t++)o.tokens.header[t]=[],this.inlineTokens(o.header[t],o.tokens.header[t]);for(a=o.cells.length,t=0;t<a;t++)for(r=o.cells[t],o.tokens.cells[t]=[],n=0;n<r.length;n++)o.tokens.cells[t][n]=[],this.inlineTokens(r[n],o.tokens.cells[t][n]);break;case"blockquote":this.inline(o.tokens);break;case"list":for(a=o.items.length,t=0;t<a;t++)this.inline(o.items[t].tokens)}return e},r.inlineTokens=function(e,t,n,a){var r;void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===a&&(a=!1);var o,i,l,s=e;if(this.tokens.links){var u=Object.keys(this.tokens.links);if(0<u.length)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(s));)u.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,o.index)+"["+M("a",o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,o.index)+"["+M("a",o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,o.index)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(i||(l=""),i=!1,r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e,n,a)){e=e.substring(r.raw.length),n=r.inLink,a=r.inRawBlock;var c=t[t.length-1];c&&"text"===r.type&&"text"===c.type?(c.raw+=r.raw,c.text+=r.text):t.push(r)}else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,a)),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),c=t[t.length-1],"link"===r.type?(r.tokens=this.inlineTokens(r.text,[],!0,a),t.push(r)):c&&"text"===r.type&&"text"===c.type?(c.raw+=r.raw,c.text+=r.text):t.push(r);else if(r=this.tokenizer.emStrong(e,s,l))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,a),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,a),t.push(r);else if(r=this.tokenizer.autolink(e,z))e=e.substring(r.raw.length),t.push(r);else if(n||!(r=this.tokenizer.url(e,z))){if(r=this.tokenizer.inlineText(e,a,R))e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(l=r.raw.slice(-1)),i=!0,(d=t[t.length-1])&&"text"===d.type?(d.raw+=r.raw,d.text+=r.text):t.push(r);else if(e){var d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}else e=e.substring(r.raw.length),t.push(r);return t},n=t,a=[{key:"rules",get:function(){return{block:B,inline:I}}}],(r=null)&&e(n.prototype,r),a&&e(n,a),t}(),V=o.defaults,W=function(e,t,n){if(e){var a;try{a=decodeURIComponent(p(n)).replace(f,"").toLowerCase()}catch(e){return null}if(0===a.indexOf("javascript:")||0===a.indexOf("vbscript:")||0===a.indexOf("data:"))return null}t&&!h.test(n)&&(n=function(e,t){v[" "+e]||(g.test(e)?v[" "+e]=e+"/":v[" "+e]=w(e,"/",!0));var n=-1===(e=v[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(y,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(b,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n},j=_,U=function(){function e(e){this.options=e||V}var t=e.prototype;return t.code=function(e,t,n){var a=(t||"").match(/\S*/)[0];return!this.options.highlight||null!=(t=this.options.highlight(e,a))&&t!==e&&(n=!0,e=t),e=e.replace(/\n$/,"")+"\n",a?'<pre><code class="'+this.options.langPrefix+j(a,!0)+'">'+(n?e:j(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:j(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,n,a){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+a.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,n){var a=t?"ol":"ul";return"<"+a+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+a+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n"+(t=t&&"<tbody>"+t+"</tbody>")+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,n){return null===(e=W(this.options.sanitize,this.options.baseUrl,e))?n:(e='<a href="'+j(e)+'"',t&&(e+=' title="'+t+'"'),e+">"+n+"</a>")},t.image=function(e,t,n){return null===(e=W(this.options.sanitize,this.options.baseUrl,e))?n:(n='<img src="'+e+'" alt="'+n+'"',t&&(n+=' title="'+t+'"'),n+(this.options.xhtml?"/>":">"))},t.text=function(e){return e},e}(),q=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),X=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,a=0;if(this.seen.hasOwnProperty(n))for(a=this.seen[e];n=e+"-"+ ++a,this.seen.hasOwnProperty(n););return t||(this.seen[e]=a,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),Y=o.defaults,G=k,Z=function(){function e(e){this.options=e||Y,this.options.renderer=this.options.renderer||new U,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new q,this.slugger=new X}e.parse=function(t,n){return new e(n).parse(t)},e.parseInline=function(t,n){return new e(n).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);for(var n,a,r,o,i,l,s,u,c,d,p,m,f,h,v,g="",y=e.length,b=0;b<y;b++)switch((u=e[b]).type){case"space":continue;case"hr":g+=this.renderer.hr();continue;case"heading":g+=this.renderer.heading(this.parseInline(u.tokens),u.depth,G(this.parseInline(u.tokens,this.textRenderer)),this.slugger);continue;case"code":g+=this.renderer.code(u.text,u.lang,u.escaped);continue;case"table":for(l=c="",r=u.header.length,n=0;n<r;n++)l+=this.renderer.tablecell(this.parseInline(u.tokens.header[n]),{header:!0,align:u.align[n]});for(c+=this.renderer.tablerow(l),s="",r=u.cells.length,n=0;n<r;n++){for(l="",o=(i=u.tokens.cells[n]).length,a=0;a<o;a++)l+=this.renderer.tablecell(this.parseInline(i[a]),{header:!1,align:u.align[a]});s+=this.renderer.tablerow(l)}g+=this.renderer.table(c,s);continue;case"blockquote":s=this.parse(u.tokens),g+=this.renderer.blockquote(s);continue;case"list":for(c=u.ordered,w=u.start,d=u.loose,r=u.items.length,s="",n=0;n<r;n++)f=(m=u.items[n]).checked,h=m.task,p="",m.task&&(v=this.renderer.checkbox(f),d?0<m.tokens.length&&"text"===m.tokens[0].type?(m.tokens[0].text=v+" "+m.tokens[0].text,m.tokens[0].tokens&&0<m.tokens[0].tokens.length&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=v+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:v}):p+=v),p+=this.parse(m.tokens,d),s+=this.renderer.listitem(p,h,f);g+=this.renderer.list(s,c,w);continue;case"html":g+=this.renderer.html(u.text);continue;case"paragraph":g+=this.renderer.paragraph(this.parseInline(u.tokens));continue;case"text":for(s=u.tokens?this.parseInline(u.tokens):u.text;b+1<y&&"text"===e[b+1].type;)s+="\n"+((u=e[++b]).tokens?this.parseInline(u.tokens):u.text);g+=t?this.renderer.paragraph(s):s;continue;default:var w='Token with "'+u.type+'" type was not found.';if(this.options.silent)return void console.error(w);throw new Error(w)}return g},t.parseInline=function(e,t){t=t||this.renderer;for(var n,a="",r=e.length,o=0;o<r;o++)switch((n=e[o]).type){case"escape":a+=t.text(n.text);break;case"html":a+=t.html(n.text);break;case"link":a+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break;case"image":a+=t.image(n.href,n.title,n.text);break;case"strong":a+=t.strong(this.parseInline(n.tokens,t));break;case"em":a+=t.em(this.parseInline(n.tokens,t));break;case"codespan":a+=t.codespan(n.text);break;case"br":a+=t.br();break;case"del":a+=t.del(this.parseInline(n.tokens,t));break;case"text":a+=t.text(n.text);break;default:var i='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(i);throw new Error(i)}return a},e}(),K=x,Q=function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},J=_,ee=(_=o.getDefaults,o.changeDefaults);function te(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=K({},te.defaults,t||{}),Q(t),n){var a,r=t.highlight;try{a=N.lex(e,t)}catch(e){return n(e)}var o=function(e){var o;if(!e)try{o=Z.parse(a,t)}catch(o){e=o}return t.highlight=r,e?n(e):n(null,o)};if(!r||r.length<3)return o();if(delete t.highlight,!a.length)return o();var i=0;return te.walkTokens(a,(function(e){"code"===e.type&&(i++,setTimeout((function(){r(e.text,e.lang,(function(t,n){return t?o(t):(null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),void(0==--i&&o()))}))}),0))})),void(0===i&&o())}try{var l=N.lex(e,t);return t.walkTokens&&te.walkTokens(l,t.walkTokens),Z.parse(l,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+J(e.message+"",!0)+"</pre>";throw e}}return o=o.defaults,te.options=te.setOptions=function(e){return K(te.defaults,e),ee(te.defaults),te},te.getDefaults=_,te.defaults=o,te.use=function(e){var t,n=K({},e);e.renderer&&function(){var t,a=te.defaults.renderer||new U;for(t in e.renderer)!function(t){var n=a[t];a[t]=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var l=e.renderer[t].apply(a,o);return!1===l?n.apply(a,o):l}}(t);n.renderer=a}(),e.tokenizer&&function(){var t,a=te.defaults.tokenizer||new O;for(t in e.tokenizer)!function(t){var n=a[t];a[t]=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var l=e.tokenizer[t].apply(a,o);return!1===l?n.apply(a,o):l}}(t);n.tokenizer=a}(),e.walkTokens&&(t=te.defaults.walkTokens,n.walkTokens=function(n){e.walkTokens(n),t&&t(n)}),te.setOptions(n)},te.walkTokens=function(e,t){for(var a,r=n(e);!(a=r()).done;){var o=a.value;switch(t(o),o.type){case"table":for(var i=n(o.tokens.header);!(l=i()).done;){var l=l.value;te.walkTokens(l,t)}for(var s,u=n(o.tokens.cells);!(s=u()).done;)for(var c=n(s.value);!(d=c()).done;){var d=d.value;te.walkTokens(d,t)}break;case"list":te.walkTokens(o.items,t);break;default:o.tokens&&te.walkTokens(o.tokens,t)}}},te.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=K({},te.defaults,t||{}),Q(t);try{var n=N.lexInline(e,t);return t.walkTokens&&te.walkTokens(n,t.walkTokens),Z.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+J(e.message+"",!0)+"</pre>";throw e}},te.Parser=Z,te.parser=Z.parse,te.Renderer=U,te.TextRenderer=q,te.Lexer=N,te.lexer=N.lex,te.Tokenizer=O,te.Slugger=X,te.parse=te},"object"==i(t)?e.exports=o():void 0===(r="function"==typeof(a=o)?a.call(t,n,t,e):a)||(e.exports=r)},1530:(e,t,n)=>{function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var r=t&&t.prototype instanceof g?t:g,o=Object.create(r.prototype),i=new T(a||[]);return o._invoke=function(e,t,n){var a=p;return function(r,o){if(a===f)throw new Error("Generator is already running");if(a===h){if("throw"===r)throw o;return F()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=f;var s=d(e,t,n);if("normal"===s.type){if(a=n.done?h:m,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var p="suspendedStart",m="suspendedYield",f="executing",h="completed",v={};function g(){}function y(){}function b(){}var w={};w[i]=function(){return this};var _=Object.getPrototypeOf,k=_&&_(_($([])));k&&k!==n&&r.call(k,i)&&(w=k);var C=b.prototype=g.prototype=Object.create(w);function D(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(o,i,l,s){var u=d(e[o],e,i);if("throw"!==u.type){var c=u.arg,p=c.value;return p&&"object"===a(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,l,s)}),(function(e){n("throw",e,l,s)})):t.resolve(p).then((function(e){c.value=e,l(c)}),(function(e){return n("throw",e,l,s)}))}s(u.arg)}var o;this._invoke=function(e,a){function r(){return new t((function(t,r){n(e,a,t,r)}))}return o=o?o.then(r,r):r()}}function E(e,n){var a=e.iterator[n.method];if(a===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=d(a,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function $(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:F}}function F(){return{value:t,done:!0}}return y.prototype=C.constructor=b,b.constructor=y,y.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,s,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},D(x.prototype),x.prototype[l]=function(){return this},e.AsyncIterator=x,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new x(c(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},D(C),u(C,s,"Generator"),C[i]=function(){return this},C.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=$,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(a,r){return l.type="throw",l.arg=e,n.next=a,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:$(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=t),v}},e}("object"===a(e=n.nmd(e))?e.exports:{});try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},4863:()=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s(this,n)}}function s(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Smart("smart-button",function(e){o(i,Smart.ContentElement);var n=l(i);function i(){return t(this,i),n.apply(this,arguments)}return a(i,[{key:"template",value:function(){return"<button class=\"smart-button smart-unselectable\" inner-h-t-m-l='[[innerHTML]]' id='button' type='[[type]]' name='[[name]]' value='[[value]]' disabled='[[disabled]]' role=\"presentation\"></button>"}},{key:"refresh",value:function(){}},{key:"focus",value:function(){var e=this;e.$.button?e.$.button.focus():HTMLElement.prototype.focus.call(e)}},{key:"blur",value:function(){var e=this;e.$.button?e.$.button.blur():HTMLElement.prototype.blur.call(e)}},{key:"_upHandler",value:function(e){e.stopPropagation(),this.$.setAttributeValue("active",!1)}},{key:"_focusHandler",value:function(){this.$.setAttributeValue("focus",!0),this.$.fireEvent("focus")}},{key:"_blurHandler",value:function(){this.$.setAttributeValue("focus",!1),this.$.fireEvent("blur")}},{key:"_clickHandler",value:function(e){var t=this;("release"!==t.clickMode&&"pressAndRelease"!==t.clickMode||t.readonly)&&(e.preventDefault(),e.stopPropagation())}},{key:"_downHandler",value:function(e){var t=this;if(!(t.disabled||(t.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),t.$.setAttributeValue("active",!0),"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||t.readonly))){var n="buttons"in e?e.buttons:e.which;t.$.fireEvent("click",{buttons:n,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}}},{key:"_mouseEnterHandler",value:function(e){var t=this;if(!t.readonly&&(t.$button.setAttributeValue("hover",!0),t.$.setAttributeValue("hover",!0),"hover"===t.clickMode)){var n="buttons"in e?e.buttons:e.which;t.$.fireEvent("click",{buttons:n,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}}},{key:"_touchEndHandler",value:function(){var e=this;setTimeout((function(){e.$button.setAttributeValue("hover",!1),e.$.setAttributeValue("hover",!1)}),300)}},{key:"_mouseLeaveHandler",value:function(){this.$button.setAttributeValue("hover",!1),this.$.setAttributeValue("hover",!1)}},{key:"propertyChangedHandler",value:function(e,t,n){r(u(i.prototype),"propertyChangedHandler",this).call(this,e,t,n);var a=this;"disabled"===e?(a._setFocusable(),a.$button&&a.$button.setAttributeValue("hover",!1),a.$.setAttributeValue("hover",!1),a instanceof Smart.RepeatButton&&a._stopRepeat()):"unfocusable"===e&&a._setFocusable()}},{key:"_setFocusable",value:function(){var e=this,t=e.$.button?e.$.button:e;if(e.disabled||e.unfocusable)return t.removeAttribute("tabindex"),void(t.tabIndex=-1);t.tabIndex=e.tabIndex>0?e.tabIndex:0}},{key:"ready",value:function(){var e=this;r(u(i.prototype),"ready",this).call(this),e.setAttribute("role","button"),e._setFocusable(),e.enableShadowDOM&&e.$.hiddenInput&&e.appendChild(e.$.hiddenInput)}}],[{key:"properties",get:function(){return{value:{type:"string"},name:{type:"string"},type:{value:"button",type:"string"},clickMode:{allowedValues:["hover","press","release","pressAndRelease"],type:"string",value:"release"}}}},{key:"styleUrls",get:function(){return["smart.button.css"]}},{key:"listeners",get:function(){return{"button.down":"_downHandler","button.mouseenter":"_mouseEnterHandler","button.mouseleave":"_mouseLeaveHandler","button.touchend":"_touchEndHandler","button.click":"_clickHandler","button.up":"_upHandler",up:"_upHandler","button.focus":"_focusHandler","button.blur":"_blurHandler"}}}]),i}()),Smart("smart-repeat-button",function(e){o(r,Smart.Button);var n=l(r);function r(){return t(this,r),n.apply(this,arguments)}return a(r,[{key:"_clickHandler",value:function(e){var t=this;("release"!==t.clickMode||t.preventDefaultClick||t.readonly||t.disabled)&&(e.preventDefault(),e.stopPropagation(),t.preventDefaultClick=!1)}},{key:"_updateInBoundsFlag",value:function(e){var t=this;-1!==e.type.indexOf("leave")?(t._isPointerInBounds=!1,t.$button.setAttributeValue("hover",!1),t.$.setAttributeValue("hover",!1)):(t._isPointerInBounds=!0,t.$button.setAttributeValue("hover",!0),t.$.setAttributeValue("hover",!0)),1!==("buttons"in e?e.buttons:e.which)&&t._stopRepeat(e)}},{key:"_startRepeat",value:function(e){var t=this;t.setAttribute("active",""),t._initialTimer||t.readonly||(t._initialTimer=setTimeout((function(){t._repeatTimer=setInterval((function(){if(t._isPointerInBounds){var n="buttons"in e?e.buttons:e.which;t.$.fireEvent("click",{buttons:n,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY}),t.preventDefaultClick=!0}}),t.delay)}),t.initialDelay))}},{key:"_stopRepeat",value:function(e){var t=this;t.readonly||e&&("pointercancel"===e.type||e.originalEvent&&"pointercancel"===e.originalEvent.type)||(t.$.setAttributeValue("active",!1),t._repeatTimer&&(clearInterval(t._repeatTimer),t._repeatTimer=null),t._initialTimer&&(clearTimeout(t._initialTimer),t._initialTimer=null))}},{key:"_touchmoveHandler",value:function(e){this.preventDefaultClick&&e.cancelable&&(e.preventDefault(),e.stopPropagation())}},{key:"_overriddenHandler",value:function(){}}],[{key:"properties",get:function(){return{delay:{value:50,type:"number"},initialDelay:{value:150,type:"number"}}}},{key:"listeners",get:function(){return{"button.down":"_startRepeat","button.mouseenter":"_overriddenHandler","button.mouseleave":"_overriddenHandler","button.pointerenter":"_updateInBoundsFlag","button.pointerleave":"_updateInBoundsFlag","button.touchmove":"_touchmoveHandler","document.up":"_stopRepeat"}}}]),r}()),Smart("smart-toggle-button",function(e){o(i,Smart.Button);var n=l(i);function i(){return t(this,i),n.apply(this,arguments)}return a(i,[{key:"ready",value:function(){r(u(i.prototype),"ready",this).call(this),this._setAriaState()}},{key:"_setAriaState",value:function(){var e=this,t=e.checked;null!==t?e.setAttribute("aria-pressed",t):e.setAttribute("aria-pressed","mixed")}},{key:"_buttonClickHandler",value:function(){}},{key:"_buttonMouseLeaveHandler",value:function(){this.removeAttribute("hover")}},{key:"_buttonMouseEnterHandler",value:function(){var e=this;e.setAttribute("hover",""),e.disabled||e.readonly||"hover"!==e.clickMode||(e._changeCheckState("pointer"),e.focus(),e._updateHidenInputNameAndValue())}},{key:"_documentUpHandler",value:function(e){var t=this;t._pressed&&(t._pressed=!1,t.disabled||t.readonly||"press"===t.clickMode||"pointercancel"===e.originalEvent.type||(t._changeCheckState("pointer"),t.focus(),t._updateHidenInputNameAndValue()))}},{key:"_downHandler",value:function(e){var t=this;t.disabled||t.readonly||(t.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),t._pressed=!0,"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||(t._changeCheckState("pointer"),t.$.fireEvent("click"),t._updateHidenInputNameAndValue()),"press"===t.clickMode&&(e.preventDefault(),e.stopPropagation()))}},{key:"_dragStartHandler",value:function(e){e.preventDefault()}},{key:"_keyHandler",value:function(e){var t=this;if(!0!==t.disabled&&!t.readonly&&32===e.keyCode){if("keydown"===e.type)return void e.preventDefault();if("none"===t.switchMode)return;t._changeCheckState("keyboard"),t._updateHidenInputNameAndValue()}}},{key:"_changeCheckState",value:function(e){var t=this,n=null;null===t.checked?t.checked=!0:(n=t.checked,t.checked=!t.checked),t._handleTextSelection(),t.$.fireEvent("change",{value:t.checked,oldValue:n,changeType:e}),t.checked?t.$.fireEvent("checkValue",{changeType:e}):t.$.fireEvent("uncheckValue",{changeType:e}),t._setAriaState()}},{key:"_handleTextSelection",value:function(){var e=this;e.$.addClass("smart-unselectable"),e.timer&&clearTimeout(e.timer),e.timer=setTimeout((function(){return e.$.removeClass("smart-unselectable")}),500)}},{key:"propertyChangedHandler",value:function(e,t,n){r(u(i.prototype),"propertyChangedHandler",this).call(this,e,t,n);var a=this;if("checked"===e)return a.$.fireEvent("change",{value:n,oldValue:t,changeType:"api"}),void a._setAriaState();switch(e){case"trueTemplate":a._handleTemplate(!0);break;case"falseTemplate":a._handleTemplate(!1);break;case"indeterminateTemplate":a._handleTemplate()}}},{key:"_htmlBindOnInitialization",value:function(){var e=this;e._bindContentProperty("trueContent","smart-true-content"),e._bindContentProperty("falseContent","smart-false-content"),e._bindContentProperty("indeterminateContent","smart-indeterminate-content")}},{key:"_bindContentProperty",value:function(e,t){var n=this;if(n.$[e+"Container"]){var a=document.createElement("div");a.innerHTML=n.innerHTML;var r,o=a.getElementsByClassName(t);if(o.length>0)for(var i=0;i<o.length;i++)r=o[i];""===n[e]&&(n[e]=void 0===r?"":r.outerHTML),n.$[e+"Container"].innerHTML=n[e]}}},{key:"_updateContentProperties",value:function(){var e=this;function t(t){e.$[t+"Container"]&&(e[t]=e.$[t+"Container"].innerHTML)}t("trueContent"),t("falseContent"),t("indeterminateContent")}},{key:"_updateHidenInputValue",value:function(){var e,t=this;t.$.hiddenInput&&(e=null===t.checked?"null":!1===t.checked?"off":t.value||"on",t.$.hiddenInput.setAttribute("value",e))}},{key:"_updateHidenInputName",value:function(){var e=this;if(e.$.hiddenInput){var t=!1===e.checked?"":e.name||"";e.$.hiddenInput.setAttribute("name",t)}}},{key:"_updateHidenInputNameAndValue",value:function(){this._updateHidenInputName(),this._updateHidenInputValue()}},{key:"_handleTemplate",value:function(e,t){var n,a,r,o=this;if(!0===e?(n=o.trueTemplate,a=o.$.trueContentContainer,r=o.trueContent):!1===e?(n=o.falseTemplate,a=o.$.falseContentContainer,r=o.falseContent):(n=o.indeterminateTemplate,a=o.$.indeterminateContentContainer,r=o.indeterminateContent),t&&(a.innerHTML=r||""),null!==n&&n)if("function"!=typeof n)if("content"in document.createElement("template"))if(null!==(n=document.getElementById(n))&&"content"in n){for(var i,l=n.content,s=l.childNodes.length,u=/{{\w+}}/g,c=[],d=0;d<s;d++)for(i=u.exec(l.childNodes[d].innerHTML);i;)c.push({childNodeIndex:d,bindingString:i[0]}),i=u.exec(l.childNodes[d].innerHTML);for(var p,m,f=c.length,h=document.importNode(n.content,!0),v=0;v<f;v++){p=h.childNodes[c[v].childNodeIndex],m=c.length;for(var g=0;g<m;g++)p.innerHTML=p.innerHTML.replace(c[v].bindingString,r)}a.innerHTML="";for(var y=0;y<h.childNodes.length;y++)h.childNodes[y].outerHTML&&(a.innerHTML+=h.childNodes[y].outerHTML)}else o.error(o.localize("invalidTemplate",{elementType:o.nodeName.toLowerCase(),property:"template"}));else o.error(o.localize("htmlTemplateNotSuported",{elementType:o.nodeName.toLowerCase()}));else n(a,{value:r})}}],[{key:"properties",get:function(){return{checked:{value:!1,type:"boolean?"},falseContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminate:{value:!1,type:"boolean"},trueContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateTemplate:{value:null,type:"any"},trueTemplate:{value:null,type:"any"},falseTemplate:{value:null,type:"any"},type:{value:"toggle",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}},{key:"listeners",get:function(){return{keydown:"_keyHandler",keyup:"_keyHandler",dragstart:"_dragStartHandler","button.click":"_buttonClickHandler","button.mouseenter":"_buttonMouseEnterHandler","button.mouseleave":"_buttonMouseLeaveHandler","document.up":"_documentUpHandler"}}}]),i}())},9924:()=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Smart("smart-check-box",function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(m,Smart.ToggleButton);var l,s,u,c,d,p=(c=m,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=i(c);if(d){var n=i(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return o(this,e)});function m(){return t(this,m),p.apply(this,arguments)}return l=m,u=[{key:"properties",get:function(){return{checkMode:{value:"both",allowedValues:["both","input","label"],type:"string"},type:{value:"checkbox",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}},{key:"listeners",get:function(){return{down:"_downHandler","document.up":"_documentUpHandler","checkBoxInput.mouseenter":"_mouseEnterHandler","checkBoxInput.mouseleave":"_mouseLeaveHandler",focus:"_focusHandler",blur:"_blurHandler"}}},{key:"styleUrls",get:function(){return["smart.toggle.css"]}}],(s=[{key:"template",value:function(){return"<div id='container' class='smart-container' role=\"presentation\">\n                    <div class='smart-overlay' role=\"presentation\"></div>\n                    <span id='checkBoxInput' class='smart-input' aria-hidden=\"true\"></span>\n                    <span id='checkBoxLabel' inner-h-t-m-l='[[innerHTML]]' class='smart-label'><content></content></span>\n                    <input id='hiddenInput' class='smart-hidden-input' type='hidden'>\n                </div>"}},{key:"_focusHandler",value:function(){this.$.setAttributeValue("focus",!0)}},{key:"_blurHandler",value:function(){this.$.setAttributeValue("focus",!1)}},{key:"_mouseEnterHandler",value:function(){this.$.setAttributeValue("hover",!0)}},{key:"_mouseLeaveHandler",value:function(){this.$.setAttributeValue("hover",!1)}},{key:"ready",value:function(){var e=this;a(i(m.prototype),"ready",this).call(this),e.setAttribute("role","checkbox"),e.indeterminate&&(e._valueCache=e.checked,e.checked=null,e._setAriaState()),e.classList.add("smart-toggle-box"),e._updateHidenInputNameAndValue()}},{key:"propertyChangedHandler",value:function(e,t,n){a(i(m.prototype),"propertyChangedHandler",this).call(this,e,t,n);var r=this;switch(r._updateContentProperties(),e){case"indeterminate":n?(r._valueCache=r.checked,r.checked=null):r.checked=r._valueCache,r._setAriaState(),r._updateHidenInputNameAndValue();break;case"value":case"checked":r._updateHidenInputNameAndValue();break;case"name":r._updateHidenInputName()}}},{key:"_documentUpHandler",value:function(e){var t=this;if(t._pressed&&"pointercancel"!==e.originalEvent.type){var n=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(t._pressed=!1,t.$.setAttributeValue("active",!1),!(t.disabled||t.readonly||"input"===t.checkMode&&n!==t.$.checkBoxInput||"label"===t.checkMode&&n!==t.$.checkBoxLabel)){if("press"===t.clickMode)return e.preventDefault(),void e.stopPropagation();t._changeCheckState("pointer"),t.focus(),t._handleTextSelection(),t._updateHidenInputNameAndValue()}}}},{key:"_downHandler",value:function(e){var t=this,n=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(!(t.disabled||t.readonly||"input"===t.checkMode&&n!==t.$.checkBoxInput||"label"===t.checkMode&&n!==t.$.checkBoxLabel)){if(t.$.setAttributeValue("active",!0),t.hasRippleAnimation){var a=t.$.checkBoxInput.getBoundingClientRect(),r=window.scrollX||window.pageXOffset,o=window.scrollY||window.pageYOffset;Smart.Utilities.Animation.Ripple.animate(t.$.checkBoxInput,a.left+a.width/2+r,a.top+a.height/2+o)}t._pressed=!0,"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||(t._changeCheckState("pointer"),t.$.fireEvent("click"),t.focus(),t._updateHidenInputNameAndValue())}}},{key:"_setAriaState",value:function(){var e=this,t=e.checked;null!==t?e.setAttribute("aria-checked",t):e.setAttribute("aria-checked","mixed")}}])&&n(l.prototype,s),u&&n(l,u),m}())},949:()=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Smart("smart-color-input",function(l){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(f,Smart.Input);var s,u,c,d,p,m=(d=f,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=i(d);if(p){var n=i(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return o(this,e)});function f(){return t(this,f),m.apply(this,arguments)}return s=f,c=[{key:"properties",get:function(){return{dataSource:{type:"any",value:null},displayMode:{value:"default",allowedValues:["default","grid"],type:"string"},dropDownHeight:{type:"any",value:"auto"},messages:{value:{en:{standardColors:"Standard colors",themeShadeColors:"",themeColors:"Theme colors"}},type:"object",extend:!0},placeholder:{value:"Please Select Color",type:"string"},valueDisplayMode:{value:"default",allowedValues:["default","colorBox","colorCode"],type:"string"},valueFormat:{value:"hex",allowedValues:["rgb","rgba","hex"],type:"string"}}}},{key:"listeners",get:function(){return{"input.focus":"_focusHandler","input.blur":"_blurHandler","input.keydown":"_keyDownHandler","input.keyup":"_keyUpHandler","input.keypress":"_keyPressHandler","input.select":"_inputSelectHandler","input.change":"_inputChangeHandler","dropDownButton.down":"_dropDownButtonDownHandler","inputContainer.down":"_downHandler","document.up":"_documentUpHandler"}}}],(u=[{key:"template",value:function(){return'<div id="inputContainer" role="presentation">\n                    <div class="smart-content">\n                        <div class="smart-buttons-container" role="presentation" id="buttonsContainer">\n                            <div class="smart-action-button" id="actionButton">\n                                <div id="colorSampleContainer" class="smart-color-box color-picker-sample-container" role="presentation">\n                                    <div id="colorSample" class="color-picker-sample"></div>\n                                </div>\n                                <input class="smart-input smart-color-input" id=\'input\' readonly=\'[[readonly]]\' placeholder=\'[[placeholder]]\' type=\'[[type]]\' name=\'[[name]]\'\n                                    value=\'[[value]]\' disabled=\'[[disabled]]\' aria-label="[[placeholder]]" spellcheck="false" />\n                            </div>\n                            <div id="dropDownButton" tabindex=-1 class="smart-drop-down-button" role="button" aria-label="Toggle popup">\n                                <div id="arrow" class="smart-drop-down-button-icon" aria-hidden="true"></div>\n                            </div>\n                        </div>\n                        <span id="hint" class="smart-hint smart-hidden" inner-h-t-m-l="[[hint]]"></span>\n                    </div>\n                </div>'}},{key:"open",value:function(){var e,t=this;t.dropDownDataSource?(t.query="",e="function"==typeof t.dataSource?t.dataSource(t.query):t.dataSource):e="function"==typeof t.dropDownDataSource?t.dropDownDataSource(t.query):t.dropDownDataSource,t._process(e);var n=t.$.menu.querySelector(".color-sample.selected");if(n)for(var a=t.$.input.dataValue,r=t.$.menu.querySelectorAll(".color-sample"),o=0;o<r.length;o++){var i=r[o],l=i.getAttribute("data-label"),s=i.getAttribute("value");if(void 0!==a&&s===a||void 0===a&&l===t.$.input.value){n.removeAttribute("aria-current"),n.classList.remove("selected"),i.classList.add("selected"),i.setAttribute("aria-current",!0),t._setActiveDescendant(i),t.$.input.dataValue=s;break}}t.ensureVisible(),t.$.input.focus(),setTimeout((function(){t.$.input.focus()}),25)}},{key:"_blurHandler",value:function(){var e=this;e.opened||(e.removeAttribute("focus"),e.$.actionButton.removeAttribute("focus"),e.$.dropDownButton.removeAttribute("focus")),delete e._preventLookup,e._isValidColor(e.value)||(e.$.input.value=e.$.input.dataValue=e.value="",e.$colorSampleContainer.addClass("no-color"))}},{key:"_focusHandler",value:function(){var e=this;e.setAttribute("focus",""),e.$.actionButton.setAttribute("focus",""),e.$.dropDownButton.setAttribute("focus",""),e.readonly||0!==e.minLength||0!==e.$.input.value.length||e._preventLookup?delete e._preventLookup:e._lookup()}},{key:"_lookup",value:function(e){var t=this,n=[];t.query=t.$.input.value,t.$.input.readonly&&(t._incrementalSearchQuery||(t._incrementalSearchQuery=""),t._incrementalSearchQuery+=e.key,t._incrementalSearchTimer&&clearTimeout(t._incrementalSearchTimer),t.query=t._incrementalSearchQuery,t._incrementalSearchTimer=setTimeout((function(){t._incrementalSearchQuery=""}),700)),t.query.length<t.minLength?t.close():(n="function"==typeof t.dataSource?t.dataSource(t.query):t.dataSource,clearTimeout(t._autoCompleteTimeout),t._autoCompleteTimeout=setTimeout((function(){var e=t.context;t.context=t,t._process(n),t.context=e}),t.autoCompleteDelay))}},{key:"_getDefaultColors",value:function(){var e=this._generateColors();if("grid"===this.displayMode)return e;for(var t=[],n=0;n<e.length;n++)t=t.concat(Object.values(e[n])[0]);return t}},{key:"_generateColors",value:function(){var e=this;return"default"===e.displayMode?e._defaultModeColors?e._defaultModeColors:e._defaultModeColors=[{themeColors:["#FFFFFF","#000000","#E6E6E6","#495469","#5671C2","#D48439","#A5A5A5","#EEC328","#7399D3","#85AA4C"]},{themeShadeColors:["#F2F2F2","#808080","#D0CECE","#D6DCE4","#DDEBF7","#FCE4D6","#EBEBEB","#FFF2CC","#DDE5F7","#E2EFDA","#D8D8D8","#595959","#AEAAAA","#ACB9CA","#BDD7EE","#F6CAAD","#DBDBDB","#FFE699","#B4C6E7","#C6E0B4","#BFBFBF","#404040","#757171","#8497B0","#9BC2E6","#F4B084","#C0C0C0","#FFD966","#8EA9DB","#A9D08E","#A6A6A6","#262626","#312F2F","#333F4F","#2F75B5","#C65911","#7B7B7B","#BF8F00","#305496","#548235","#808080","#0D0D0D","#161616","#222B35","#1F4E78","#833C0C","#525252","#806000","#203764","#375623"]},{standardColors:["#A52A0D","#DB3A15","#EEC328","#FEFE33","#A6CD57","#62AC54","#65ADEE","#3F6FBE","#10205F","#64379E"]}]:e._gridColors?e._gridColors:e._gridColors=["rgba(255, 255, 255, 0)","rgb(0, 0, 0)","rgb(153, 51, 0)","rgb(51, 51, 0)","rgb(0, 51, 0)","rgb(0, 51, 102)","rgb(0, 0, 128)","rgb(51, 51, 153)","rgb(51, 51, 51)","rgb(128, 0, 0)","rgb(255, 102, 0)","rgb(128, 128, 0)","rgb(0, 128, 0)","rgb(0, 128, 128)","rgb(0, 0, 255)","rgb(102, 102, 153)","rgb(128, 128, 128)","rgb(255, 0, 0)","rgb(255, 153, 0)","rgb(153, 204, 0)","rgb(51, 153, 102)","rgb(51, 204, 204)","rgb(51, 102, 255)","rgb(128, 0, 128)","rgb(153, 153, 153)","rgb(255, 0, 255)","rgb(255, 204, 0)","rgb(255, 255, 0)","rgb(0, 255, 0)","rgb(0, 255, 255)","rgb(0, 204, 255)","rgb(153, 51, 102)","rgb(192, 192, 192)","rgb(255, 153, 204)","rgb(255, 204, 153)","rgb(255, 255, 153)","rgb(204, 255, 204)","rgb(204, 255, 255)","rgb(153, 204, 255)","rgb(204, 153, 255)","rgb(255, 255, 255)"]}},{key:"_downHandler",value:function(e){(this.readonly||e.originalEvent.target.closest(".smart-color-box"))&&this._dropDownButtonDownHandler(e)}},{key:"_documentUpHandler",value:function(e){var t=this,n=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;n===t||n.closest&&n.closest(".smart-buttons-container")===t.$.buttonsContainer||(t.$.scrollView.contains(n.shadowParent||n)?t._isPointerDown&&(t._isPointerDown=!1,t.opened&&(t._preventLookup=!0),t.$.input.focus()):(t.opened&&(t._preventLookup=!0),t._isPointerDown=!1,"manual"!==t.dropDownOpenMode&&t.close()))}},{key:"_formatValue",value:function(e){var t=this;if(!t._isValidColor(e))return"";var n=t._getRGBA(e);switch(t.valueFormat){case"hex":e=t._rgbArrayToHEX([n.r,n.g,n.b,n.a]);break;case"rgb":e="rgb("+n.r+", "+n.g+", "+n.b+")";break;case"rgba":e=null!==n.r&&null!==n.g&&null!==n.b?"rgba("+n.r+", "+n.g+", "+n.b+", "+n.a+")":null}return e||null}},{key:"_getRGBA",value:function(e){var t=this,n=e||t.value,a=1;n&&(t._isRGBA(n)&&/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.test(n.replace(/\s/g,""))?a=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(n.replace(/\s/g,""))[4]:t._isHEX(e)&&/(^#[0-9A-F]{8}$)/gi.test(e.replace(/\s/g,""))&&(a=parseInt(/(^#[0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2}$)/gi.exec(e.replace(/\s/g,""))[4],16)/255),a=Math.min(1,Math.max(0,parseFloat(a))),isNaN(a)&&(a=1)),e=t._HSVtoRGBA(t._colorToHSV(n),a);var r=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(e.replace(/\s/g,""));return{r:parseInt(r[1]),g:parseInt(r[2]),b:parseInt(r[3]),a:parseFloat(r[4])}}},{key:"_colorToHSV",value:function(e){if(this._isValidColor(e)){e=this._toRGBA(e).replace(/\s/g,"");var t=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(e),n=Math.min(255,Math.max(0,parseFloat(t[1])))/255,a=Math.min(255,Math.max(0,parseFloat(t[2])))/255,r=Math.min(255,Math.max(0,parseFloat(t[3])))/255,o={h:0,s:0,v:0},i=0,l=0;if(n>=a&&n>=r?(l=n,i=a>r?r:a):a>=r&&a>=n?(l=a,i=n>r?r:n):(l=r,i=a>n?n:a),o.v=l,o.s=l?(l-i)/l:0,o.s){var s=l-i;o.h=n===l?(a-r)/s:a===l?2+(r-n)/s:4+(n-a)/s,o.h=60*o.h,o.h<0&&(o.h+=360)}else o.h=0;return o.s=parseFloat(o.s),o.v=parseFloat(o.v),o}}},{key:"_rgbArrayToHEX",value:function(e){var t="#";if(Array.isArray(e)&&null===e[0])return null;for(var n=0;n<3;n++){var a=parseInt(e[n]).toString(16).toUpperCase();t+=a=1===a.length?0+a:a}var r=parseFloat(e[3]);return isNaN(r)||"FF"!==(r=parseInt(255*r).toString(16).toUpperCase())&&(t=t.slice(0,7)+(1===r.length?0+r:r)),t}},{key:"_HSVtoRGBA",value:function(e,t){var n,a,r,o,i,l,s,u,c,d=(e=e||{h:0,s:0,v:0}).h,p=e.s,m=e.v,f=m*p,h=d/60,v=f*(1-Math.abs(h%2-1));h>=0&&h<=1?(s=(n=[f,v,0])[0],u=n[1],c=n[2]):h>=1&&h<=2?(s=(a=[v,f,0])[0],u=a[1],c=a[2]):h>=2&&h<=3?(s=(r=[0,f,v])[0],u=r[1],c=r[2]):h>=3&&h<=4?(s=(o=[0,v,f])[0],u=o[1],c=o[2]):h>=4&&h<=5?(s=(i=[v,0,f])[0],u=i[1],c=i[2]):h>=5&&h<=6&&(s=(l=[f,0,v])[0],u=l[1],c=l[2]);var g=m-f;return"rgba("+Math.round(255*(s+g))+", "+Math.round(255*(u+g))+", "+Math.round(255*(c+g))+", "+(void 0!==t?t:this._getRGBA().a||0)+")"}},{key:"_toRGBA",value:function(e,t){var n=this,a=n.value;function r(e){var n=/^#(.)(.)(.)$/gi.exec(e),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e),r=n?parseInt(n[1]+n[1],16):parseInt(a[1],16),o=n?parseInt(n[2]+n[2],16):parseInt(a[2],16),i=n?parseInt(n[3]+n[3],16):parseInt(a[3],16),l=n?parseInt(n[4]+n[4],16):parseInt(a[4],16);return t?"rgba("+r+", "+o+", "+i+", 1)":"rgba("+r+", "+o+", "+i+", "+(isNaN(l)?"1":l/255)+")"}if(n._isRGBA(e))return t?"rgba("+e.match(/(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})/gi)+", 1)":e;if(n._isValidColorName(e))a=r(n._cssColorNamesHEX[e.trim().toLowerCase()]);else if(n._isHEX(e))a=r(e);else{if(!n._isRGB(e))return!1;a=(a=(a=e.toLowerCase()).replace("rgb","rgba")).replace(")",", 1)")}return a}},{key:"_isHEX",value:function(e){return/(^#[0-9A-F]{3}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"_isRGB",value:function(e){return/rgb\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\)/i.test(e)}},{key:"_isValidColorName",value:function(e){return!(!e||void 0===this._cssColorNamesHEX[e.trim().toLowerCase()])}},{key:"_isRGBA",value:function(e){return/rgba\((\d*.\d+|\d+)\s*,\s*(\d*.\d+|\d+)\s*,\s*(\d*.\d+|\d+)\s*,\s*(\d*.\d+|\d+)\)/i.test(e)}},{key:"_isValidColor",value:function(e){return this._isHEX(e)||this._isRGB(e)||this._isRGBA(e)||this._isValidColorName(e)}},{key:"_performSelect",value:function(e){var t,n,a,r=this;r.opened?(n=(t=r.$.menu.querySelector(".selected")||r.$.menu.querySelector(".color-sample")).getAttribute("data-label"),a=t.getAttribute("value")):n=a=r.$.input.value;var o=e||r.value,i=r.$.input.dataValue;r.set("value",r.$.colorSample.style.backgroundColor=r._formatValue(n)),r.$.input.dataValue=a,r.setAttribute("data-value",a),r._isValidColor(r.value)?(r.$colorSampleContainer.removeClass("no-color"),r.$.colorSample.setAttribute("aria-label",r.value)):(r.$colorSampleContainer.addClass("no-color"),r.$.colorSample.setAttribute("aria-label","No color")),t&&(t.classList.add("selected"),t.setAttribute("aria-current",!0)),!r.isRendered||n===o&&a===i||r.$.fireEvent("change",{value:a,label:n,oldValue:i,oldLabel:o}),r.close()}},{key:"_process",value:function(e){var t=this;if(e||(e=[]),"string"==typeof(e=e.slice(0))&&(e=t.$.deserialize(e,"array")),t.matcher)e=e.filter((function(e){return t.matcher(e)>-1}));else if(t.query){var n=[];for(var a in t._cssColorNamesHEX)t._matcher(a,!0)>-1&&n.push(t._cssColorNamesHEX[a]);if(n.length)e=n;else if(e.length||null!==t.dataSource&&void 0!==t.dataSource)e=e.filter((function(e){return t._matcher(e)>-1}));else{var r=t._generateColors();"default"===t.displayMode&&(r=[].concat.apply([],r.map((function(e){return Object.values(e)[0]})))),e=r.filter((function(e){return t._matcher(e)>-1}))}}!e.length&&t.opened&&t.close(),t.query.length>0&&!e.length||!e.length&&null!==t.dataSource&&void 0!==t.dataSource||(t.query.length>0?t._render(e.slice(0,t.items)):t._render(e),t._open(),t._refreshMenu(),t.ensureVisible())}},{key:"_matcher",value:function(e,t){var n=this,a=n.query;if(e=t?e.label||e:n._formatValue(e.label||e),!a)return-1;switch(n.queryMode){case"startsWith":return e.startsWith(a);case"startsWithIgnoreCase":return e.toLowerCase().startsWith(a.toLowerCase());case"doesNotContain":return e.indexOf(a)<0;case"doesNotContainIgnoreCase":return e.toLowerCase().indexOf(a.toLowerCase())<0;case"contains":return e.indexOf(a)>-1;default:case"containsIgnoreCase":return e.toLowerCase().indexOf(a.toLowerCase());case"equals":return 0===e.localeCompare(a);case"equalsIgnoreCase":return 0===e.toLowerCase().localeCompare(a.toLowerCase());case"endsWith":return e.endsWith(a);case"endsWithIgnoreCase":return e.toLowerCase().endsWith(a.toLowerCase())}}},{key:"_render",value:function(e){var t=this;if(t.$.menu.innerHTML="",e.length)t.$.menu.appendChild(t._createColorGroup(t._createColorSamples(e)));else if((null===t.dataSource||void 0===t.dataSource)&&!t.query.length)if(e=t._generateColors(),"default"===t.displayMode)for(var n=t._generateColors(),a=0;a<n.length;a++){var r=Object.keys(n[a])[0],o=Object.values(n[a])[0],i=document.createElement("div");i.classList.add("standard-colors-label"),i.innerHTML=t.localize(r),i.id=t.id+r+"Label",t.$.menu.appendChild(i),t.$.menu.appendChild(t._createColorGroup(t._createColorSamples(o),r+"Label"))}else t.$.menu.appendChild(t._createColorGroup(t._createColorSamples(e)))}},{key:"_createColorGroup",value:function(e,t){var n=this,a=document.createElement("div");function r(){var e=n.$.menu.getElementsByClassName("selected");e[0]&&(e[0].removeAttribute("aria-current"),e[0].classList.remove("selected")),this.classList.add("selected"),this.setAttribute("aria-current",!0),n._setActiveDescendant(this)}a.classList.add("grid-samples-container"),a.setAttribute("role","menu"),t&&a.setAttribute("aria-labelledby",n.id+t);for(var o=0;o<e.length;o++){var i=e[o];a.appendChild(i),i.onmouseenter=r,i.onclick=r,i.onmouseleave=function(){this.removeAttribute("aria-current"),this.classList.remove("selected"),n._setActiveDescendant(null)}}return a}},{key:"_createColorSamples",value:function(t){for(var n=this,a=[],r=0;r<t.length;r++){var o=t[r],i=o,l=o;"object"==e(o)&&(i=o.label,l=o.value||i);var s=document.createElement("div");s.id=n.id+"Item"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),s.setAttribute("data-label",i),s.setAttribute("value",l),s.setAttribute("role","menuitem"),s.setAttribute("aria-label",i),s.classList.add("color-sample"),s.style.backgroundColor=i,"rgba(255, 255, 255, 0)"===i||"#FFFFFF00"===i||"transparent"===i?s.setAttribute("transparent",""):s.removeAttribute("transparent"),s.classList[i||l?"remove":"add"]("no-color"),a.push(s)}if(a.length>0&&!n.$.menu.querySelector(".selected")){var u=Math.max(0,t.indexOf(n.value));a[u].classList.add("selected"),a[u].setAttribute("aria-current",!0),n._setActiveDescendant(a[0])}return a}},{key:"ensureVisible",value:function(){this.$.menu.querySelector(".color-sample.selected")}},{key:"_next",value:function(){var e=this,t=e.$.menu.querySelector(".color-sample.selected");if(!t){var n=e.$.menu.querySelector(".color-sample");return n.classList.add("selected"),n.setAttribute("aria-current",!0),void e._setActiveDescendant(n)}t.removeAttribute("aria-current"),t.classList.remove("selected");var a=t.nextElementSibling;if(!a){for(var r=t.parentElement.nextElementSibling;r;){if(r.classList.contains("grid-samples-container")){a=r.children[0];break}r=r.nextElementSibling}a||(a=e.$.menu.querySelector(".color-sample"))}a.classList.add("selected"),a.setAttribute("aria-current",!0),e._setActiveDescendant(a),e.ensureVisible()}},{key:"_prev",value:function(){var e=this,t=e.$.menu.querySelector(".color-sample.selected");if(!t){var n=e.$.menu.querySelector(".color-sample");return n.classList.add("selected"),n.setAttribute("aria-current",!0),void e._setActiveDescendant(n)}t.removeAttribute("aria-current"),t.classList.remove("selected");var a=t.previousElementSibling;if(!a){for(var r=t.parentElement.previousElementSibling;r;){if(r.classList.contains("grid-samples-container")){a=r.children[r.children.length-1];break}r=r.previousElementSibling}a||(a=e.$.menu.querySelector(".grid-samples-container:last-of-type .color-sample:last-of-type"))}a.classList.add("selected"),a.setAttribute("aria-current",!0),e._setActiveDescendant(a),e.ensureVisible()}},{key:"_move",value:function(e){var t=this;if(t.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 37:case 38:e.preventDefault(),t[t.rightToLeft?"_next":"_prev"]();break;case 39:case 40:e.preventDefault(),t[t.rightToLeft?"_prev":"_next"]()}e.stopPropagation()}}},{key:"_inputSelectHandler",value:function(){var e=this;e.readonly&&(e.$.input.selectionStart=e.$.input.selectionEnd)}},{key:"_inputChangeHandler",value:function(e){e.stopPropagation(),this._performSelect()}},{key:"_keyDownHandler",value:function(e){var t=this;t._suppressKeyPressRepeat=![37,38,39,40,9,13,27,16,17,18].includes(e.keyCode),e.shiftKey||e.ctrlKey||(e.altKey?"ArrowUp"===e.key?t.close():"ArrowDown"===e.key&&t.open():t._move(e))}},{key:"_keyUpHandler",value:function(e){var t=this;if(!(e.shiftKey||e.altKey||e.ctrlKey))switch(e.keyCode){case 40:case 39:case 38:case 37:case 16:case 17:case 18:40===e.keyCode&&e.altKey&&t.open(),38===e.keyCode&&e.altKey&&t.close();break;case 9:case 13:if(!t.opened)return void(13===e.keyCode&&t.open());t._performSelect(),e.stopPropagation(),e.preventDefault();break;case 27:if(!t.opened)return;t.close(),e.stopPropagation(),e.preventDefault();break;default:if(t.readonly)return void(32!==e.keyCode||t.opened||t.open());t._lookup(e),!t.opened||e.ctrlKey||e.shiftKey||(e.stopPropagation(),e.preventDefault()),t.$.input.dataValue=t.$.input.value,t._isValidColor(t.value)||(t.$colorSampleContainer.addClass("no-color"),t.$.colorSample.setAttribute("aria-label","No color"),t.$.colorSample.style.backgroundColor="")}}},{key:"propertyChangedHandler",value:function(e,t,n){var r=this;if("dropDownHeight"===e)r.$.scrollView.style.setProperty("--smart-input-drop-down-menu-height",r.dropDownHeight+"px");else if("opened"===e)r.opened=t,n?r.open():r.close();else if("placeholder"===e){if(r.readonly){var o=r.getAttribute("aria-label");if(o&&o!==t)return;n?r.setAttribute("aria-label",n):r.removeAttribute("aria-label")}}else"readonly"===e?r._setAriaRelations():"theme"===e?r.$.scrollView.setAttribute(e,n):"rightToLeft"===e?n?r.$.scrollView.setAttribute("right-to-left",""):r.$.scrollView.removeAttribute("right-to-left"):"valueFormat"===e?(r.value=r._formatValue(r.value),r.$.input.dataValue=r.value):"displayMode"===e?r.open():"value"===e?(r.$.input.value=n,r._performSelect(t)):a(i(f.prototype),"propertyChangedHandler",this).call(this,e,t,n)}},{key:"_createElement",value:function(){var e=this,t=document.createElement("div"),n=document.createElement("div");n.classList.add("smart-color-input-drop-down-menu","smart-color-panel"),n.setAttribute("theme",e.theme),e.$.scrollView=n,e.rightToLeft?e.$.scrollView.setAttribute("right-to-left",""):e.$.scrollView.removeAttribute("right-to-left"),e.$.menu=t,e.$.menu.classList.add("default-samples-container","grid-mode-container","smart-container"),e.$.scrollView.onclick=function(t){t.stopPropagation(),t.preventDefault(),e._performSelect(),e.$.input.focus()},e.classList.add("smart-drop-down-box","smart-color-picker"),e.value?(e.$colorSampleContainer.removeClass("no-color"),e.$.colorSample.setAttribute("aria-label",e.value)):(e.$colorSampleContainer.addClass("no-color"),e.$.colorSample.setAttribute("aria-label","No color")),e._cssColorNamesHEX={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},e._performSelect(e.value)}},{key:"_setAriaRelations",value:function(){var e=this,t=e.getAttribute("aria-label");e.readonly?(e.setAttribute("role","button"),!t&&e.placeholder&&e.setAttribute("aria-label",e.placeholder),e.$.input.setAttribute("aria-hidden",!0),e.$.input.removeAttribute("aria-activedescendant"),e.$.input.removeAttribute("aria-controls"),e.$.dropDownButton.setAttribute("aria-hidden",!0)):(e.setAttribute("role","combobox"),t&&t===e.placeholder&&e.removeAttribute("aria-label"),e.$.input.setAttribute("role","searchbox"),e.$.input.removeAttribute("aria-hidden",!0),e.$.dropDownButton.removeAttribute("aria-hidden")),e.setAttribute("aria-expanded",e.opened),e.setAttribute("aria-haspopup","listbox"),e.$.scrollView.setAttribute("role","listbox")}}])&&n(s.prototype,u),c&&n(s,c),f}())},533:()=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d(e);if(t){var r=d(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return c(this,n)}}function c(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Smart("smart-editor",function(n){l(s,Smart.ContentElement);var r=u(s);function s(){return a(this,s),r.apply(this,arguments)}return o(s,[{key:"template",value:function(){return'<div id="container" role="presentation">\n                    <div id="toolbar" class="smart-editor-toolbar">\n                        <div id="toolbarItemsPrimary" class="smart-editor-toolbar-items-primary"></div>\n                        <div id="toolbarToggleButton" class="smart-editor-toolbar-toggle-button"></div>\n                        <div id="toolbarItemsSecondary" class="smart-editor-toolbar-items-secondary"></div>\n                    </div>\n                    <div id="contentContainer" class="smart-editor-content-container">\n                        <div class="smart-editor-editable" contenteditable="true" id="editableElement" inner-h-t-m-l="[[innerHTML]]" spellcheck="false"><content></content></div>\n                        <textarea id="input" class="smart-hidden" placeholder="[[placeholder]]" spellcheck="false"></textarea>\n                    </div>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,t,n){var a=this;switch(e){case"disabled":a._setFocusable();break;case"innerHTML":case"value":a._handleInputContent(e,n);break;case"editMode":a._handleEditMode(n);break;case"toolbarViewMode":this._toggleToolbar("toggle"===n);break;case"locale":delete a._toolbarItemsObj,delete a._inlineToolbarItemsObj,a._closeToolbar(),a._closeWindow();break;case"iframeSettings":a._handleInputElement();break;case"maxCharCount":a._handleMaxCharCount(),a._setCharCount();break;case"placeholder":a._handlePlaceholder();break;case"readonly":a.$.editableElement.setAttribute("contenteditable",!n),a.$.input.readonly=n,a._closePopups(),a._setResizeFrame(),a._closeWindow();break;case"showCharCount":a._setCharCount();break;default:i(d(s.prototype),"propertyChangedHandler",this).call(this,e,t,n)}}},{key:"render",value:function(){var e=this;e._isMobile=Smart.Utilities.Core.isMobile,e._handleMaxCharCount(),e._handleInputContent(),e._setToolbarVisibility(),e._refreshToolbarItems(e._getToolbarItems()),e._handleInputElement(),e._handleEditMode(),e._predefPropertyGetter(),e._setCharCount(),e._setFocusable(),i(d(s.prototype),"render",this).call(this)}},{key:"detached",value:function(){var e=this;i(d(s.prototype),"detached",this).call(this),delete e._dragDetails,delete e._resizeFrameObj,delete e._toolbarItemClick,e._endInlineToolbarClick(),e._closeWindow(),e._closeToolbarItemDropDown(e.$.inputPopup),e._closeToolbarItemDropDown(e.$.colorInputPopup),e._closeToolbar(),e._handleTableSelection()}},{key:"focus",value:function(){var e=this.$.input;e&&(e.focus(),this.setAttribute("focus",""))}},{key:"blur",value:function(){var e=this.$.input;e&&(e.blur(),this.removeAttribute("focus"))}},{key:"collapseToolbar",value:function(){this._toggleToolbar(!0)}},{key:"expandToolbar",value:function(){this._toggleToolbar()}},{key:"clearState",value:function(){var e=this;e.id?window.localStorage.removeItem("smartEditor"+e.id):e.warn(e.localize("noId"))}},{key:"saveState",value:function(){var e=this;e.id?window.localStorage.setItem("smartEditor"+e.id,e.$.editableElement.innerHTML):e.warn(e.localize("noId"))}},{key:"loadState",value:function(e){var t=this;t.id?(e||(e=window.localStorage.getItem("smartEditor"+t.id)),"string"==typeof e&&(t.set("value",e),t.$.editableElement.innerHTML=t.$.input.value=e)):t.warn(t.localize("noId"))}},{key:"toggleSplitMode",value:function(e){var t=this._toggleItem("splitmode",e);t&&this._handleSplitMode(t)}},{key:"togglePreviewMode",value:function(e){var t=this;if(!t.$.contentContainer.hasAttribute("split-mode")){var n=t._toggleItem("sourcecode",e);n&&t._handleSourceCodeMode(n)}}},{key:"toggleFullScreenMode",value:function(e){var t=this._toggleItem("fullscreen",e);t&&this._handleFullScreenMode(t)}},{key:"exportData",value:function(e,t){this._handleDataExport(e,t)}},{key:"print",value:function(){this._handlePrint()}},{key:"_toggleItem",value:function(e,t){var n=this._toolbarItemsObj;if(n){var a=n[e],r=this.$.toolbar.querySelector('.smart-editor-toolbar-item[item-name="'.concat(e,'"]'));return a&&r?((t=a.value=void 0===t?!a.value:!!t)?r.setAttribute("checked",""):r.removeAttribute("checked"),r):void 0}}},{key:"_afterInputHandler",value:function(){var e,n,a=this,r=a._beforeInputObj,o=a.$.editableElement;if(r&&r.type&&(e=r.type,n=r.rangeDetails),delete a._beforeInputObj,"insertParagraph"!==e&&o.innerHTML)e&&n&&e.indexOf("delete")>-1&&n.startOffset!==n.endOffset&&n.startContainer!==n.endContainer&&"html"===a.editMode&&!o.textContent.trim().length&&(o.innerHTML="<p><br/></p>",a._setResizeFrame(),a._closePopups());else{var i=a._getSelectionRange().startContainer;if(i.nodeType===Node.TEXT_NODE&&(i=i.parentElement),i&&i.classList&&(i.closest(".smart-editor-image-caption")||i.closest(".smart-editor-editable table")))return;var l=a.$.iframe,s=t(l?[l.contentWindow,l.contentDocument]:[window,document],2),u=s[0],c=s[1];"div"===u.getSelection().anchorNode.nodeName.toLowerCase()&&c.execCommand("formatBlock",!1,"p")}o.textContent.length&&o.innerText.length?o.removeAttribute("show-placeholder"):o.setAttribute("show-placeholder",""),a._setCharCount()}},{key:"_beforeInputHandler",value:function(e){var t=this,n=t.$.iframe,a=e.inputType,r=t.$.contentContainer,o=t.$.editableElement,i=(n?n.contentWindow:window).getSelection().getRangeAt(0);if(t._beforeInputObj={type:e.inputType,rangeDetails:{startOffset:i.startOffset,endOffset:i.endOffset,startContainer:i.startContainer,endContainer:i.endContainer}},r.classList.contains("char-count-maxed")&&a.indexOf("delete")<0)e.preventDefault();else if("insertParagraph"===a){var l=t._getSelectionRange().startContainer;l.nodeType===Node.TEXT_NODE&&l.parentElement===o&&o.getRootNode().execCommand("formatBlock",!1,"p")}}},{key:"_changeHandler",value:function(e){var t=this,n=e.target,a=e.detail,r=n.closest(".smart-editor-toolbar-item");if(e.stopPropagation(),t._toolbarItemsObj||t._inlineToolbarItemsObj)return r&&n===t.$.inputPopup||n===t.$.colorInputPopup?(t._ignoreSelectionChange=!0,t._updateToolbarItem(r,a),void delete t._ignoreSelectionChange):void 0}},{key:"_updateToolbarItem",value:function(e,t){var n=this,a=n.editMode,r=e.getAttribute("item-name"),o=n.$.toolbar,i=n.$.inlineToolbar,l="markdown"===a?n.$.input:n.$.editableElement,s=function(e,a,r){a&&(a.label=t["alignment"===a.name?"value":"label"],a.value=t.value,e&&n._setItemValue(e,a),r&&n._updateToolbarTarget(a))};if(i&&i.contains(e)?(s(e,n._inlineToolbarItemsObj[r],!0),n._toolbarItemsObj&&n._toolbarItemsObj[r]&&s(o.querySelector(".smart-editor-toolbar-item[item-name=".concat(r,"]")),n._toolbarItemsObj[r])):o.contains(e)&&n._toolbarItemsObj&&(s(e,n._toolbarItemsObj[r],!0),i&&i.visible&&n._inlineToolbarItemsObj&&s(i.querySelector(".smart-editor-toolbar-item[item-name=".concat(r,"]")),n._inlineToolbarItemsObj[r])),l.getRootNode().activeElement!==l){var u=n._selectionRange;u&&("markdown"===a?n._setSelectionRange(l,u.selectionStart,u.selectionEnd):n._setSelectionRange(u.startContainer,u.startOffset,u.endOffset)),l.focus({preventScroll:!0})}}},{key:"_updateToolbarTarget",value:function(e){var t=this,n=t._resizeFrameObj;if(e){var a,r=t.$.inlineToolbar;n&&n.target?a=n.target:r&&r.visible&&(a=(a=r.selector).closest?a.closest(".smart-editor-editable img")||a.closest(".smart-editor-editable table"):void 0);var o=a?a.nodeName.toLowerCase():"";if(a&&"img"===o)return"alignment"===e.name&&(a.closest(".smart-editor-image-container")||a).setAttribute("alignment",e.value),t._setResizeFrame(a),void(r&&r.visible&&r.reposition());if(a&&"table"===o)t._handleTableToolbarAction(e,a);else{var i=t._getSelectionRange();if(i&&(i.startContainer||void 0!==i.selectionStart)){switch(e.name){case"backgroundcolor":return void t._handleBackgroundColor(e.value);case"fontcolor":return void t._handleFontColor(e.value);case"alignment":return void t._handleTextAlignment(e);case"fontsize":return void t._handleFontSize(e);case"fontname":return void t._handleFontName(e);case"formats":return void t._handleFormats(e)}var l=i.startContainer.closest?i.startContainer:i.startContainer.parentElement;l&&l.closest&&l.setAttribute(e.name,e.value)}}}}},{key:"_setSelectionRange",value:function(e,t,n){var a,r=this,o=r.$.iframe;if("markdown"!==r.editMode){var i,l=(o?o.contentWindow:window).getSelection();if(a=r.$.editableElement,e?(i=document.createRange(),"number"==typeof t&&"number"==typeof n?(i.setStart(e,Math.min(parseInt(t),e.length)),i.setEnd(e,Math.min(parseInt(n),e.length))):i.selectNodeContents(e),l.removeAllRanges(),l.addRange(i)):l.rangeCount&&(i=l.getRangeAt(0)),i&&a.contains(i.startContainer)&&(r._selectionRange=i),!r._selectionRange){var s=a.firstChild||a;(i=document.createRange()).setStart(s,0),i.setEnd(s,0),r._selectionRange=i}}else{a=r.$.input,r._selectionRange={selectionStart:void 0!==t?t:a.selectionStart,selectionEnd:void 0!==n?n:a.selectionEnd};var u=r._selectionRange;r._selectionChangeFired||a.setSelectionRange(u.selectionStart,u.selectionEnd)}}},{key:"_getSelectionRange",value:function(){var e=this,t=e.editMode,n=e._selectionRange;return n&&("markdown"===t&&void 0===n.selectionStart||"html"===t&&void 0===n.startContainer)&&delete e._selectionRange,n||e._setSelectionRange(),e._selectionRange}},{key:"_setCharCount",value:function(){var e=this,t=e.$.contentContainer;if(e.showCharCount){var n,a,r=e.maxCharCount;if("html"===e.editMode){var o=e.$.editableElement,i=o.textContent.length,l=o.innerText.length;a=l&&i?l:0}else a=e.$.input.value.length;if(n=e.chartCountFormatFunction?e.chartCountFormatFunction(a,r)+"":r?"".concat(a," / ").concat(r):a+"",t.setAttribute("char-count",n),null!==r){var s=parseFloat((a/r).toFixed(2));t.classList[s>=.7&&s<=.9?"add":"remove"]("char-count-warning"),t.classList[s>=.9?"add":"remove"]("char-count-error"),t.classList[a>=r?"add":"remove"]("char-count-maxed")}else t.classList.remove("char-count-low","char-count-medium")}else t.removeAttribute("char-count")}},{key:"_documentDownHandler",value:function(e){var t=this,n=t.$.iframe,a=t.$.inlineToolbar,r=t.$.window,o=e.originalEvent||e,i=t.shadowRoot||t.isInShadowDOM?o.composedPath()[0]:o.target;if(a&&a.contains(i)){var l=i.closest(".smart-editor-toolbar-item");t._handleToolbarItemDown(l,i)}else if(t.$.container.contains(i)||n&&n.contentDocument.body.contains(i))t._handleDownInside(o,i);else{var s,u=i.closest(".smart-input-drop-down-menu");u&&(s=u.ownerElement),r&&r.opened&&!r.contains(s||i)&&r.close(),t._handleTableSelection(),s&&(t.$.toolbar.contains(s)||a&&a.contains(s))?t._toolbarItemClick={}:(t._setResizeFrame(),t._closePopups())}}},{key:"_handleDownInside",value:function(e,t){var n=this,a=e.originalEvent||e,r=t.closest(".smart-editor-toolbar-item"),o=n.$.inlineToolbar,i=n.$.window;if(t===n.$.toolbarToggleButton)n._toolbarItemClick={};else{if(r)return void n._handleToolbarItemDown(r,t);var l={x:a.pageX+window.pageXOffset,y:a.pageY+window.pageYOffset};i&&i.opened&&i.close();var s=n._getInlineToobarTarget(t,l);s?n._handleInlineToolbarItemDown(s,l):!o||o.contains(t)&&o.classList.contains("smart-editor-drop-down-toolbar")||(n._closeToolbar(),n._handleTableSelection())}n._closeToolbarItemDropDown(n.$.inputPopup),n._closeToolbarItemDropDown(n.$.colorInputPopup)}},{key:"_handleToolbarItemDown",value:function(e,t){var n=this,a=n.$.window;if(e){var r=e.getAttribute("item-type"),o=e.getAttribute("item-name");switch(!a||!a.opened||a._target&&a._target.item.name===o||a.close(),n._toolbarItemClick={toolbarItem:e},n._resizeFrameObj&&n._resizeFrameObj.target?n._toolbarItemClick.target=n._resizeFrameObj.target:n._setResizeFrame(),n._setSelectionRange(),r){case"button":["hyperlink","createlink","image"].includes(o)?n._toolbarItemClick.callback=n._toggleWindow:"table"===o&&(n._toolbarItemClick.callback=n._toggleDropDownToolbar);break;case"toggle":e.toggleAttribute("checked"),n._closeToolbarItemDropDown(n.$.inputPopup),n._closeToolbarItemDropDown(n.$.colorInputPopup);break;case"drop-down":n._toolbarItemClick.callback=n._toggleItemDropDown;break;case"color-input":t.closest(".smart-editor-item-drop-down-button")&&(n._toolbarItemClick.callback=n._toggleItemDropDown)}}}},{key:"_handleInlineToolbarItemDown",value:function(e,t){var n=this,a=e.closest(".smart-editor-editable table"),r=n.$.editableElement;if(n._inlineToolbarClickObj&&n._inlineToolbarClickObj.target&&n._inlineToolbarClickObj.target.removeAttribute("drag-id"),e&&"img"===e.nodeName.toLowerCase()&&e.setAttribute("drag-id",Math.random().toString(36).substr(2,5)),n._inlineToolbarClickObj={},a&&r.hasAttribute("table-cell-resize")){var o=r.getAttribute("table-cell-resize");n._inlineToolbarClickObj.resizeDetails={x:t.x,y:t.y,position:o,target:"vertical"===o?e.closest("tr"):e,table:a},e=void 0}n._handleTableSelection(e),n._inlineToolbarClickObj.target=e}},{key:"_getInlineToobarTarget",value:function(e,t){var n,a=this,r=e.closest(".smart-editor-editable img")||e.closest(".smart-editor-editable a");return r||(n=e.closest(".smart-editor-editable table"))&&(r=e.closest(".smart-editor-editable td")||e.closest(".smart-editor-editable th")),e.closest(".smart-editor-resize-frame")&&a._resizeFrameObj?(a._resizeFrameObj.resizeDetails={x:t.x,y:t.y,position:e.getAttribute("position")},r=a._resizeFrameObj.target):r&&(r&&"img"===r.nodeName.toLowerCase()||n)||a._setResizeFrame(),r}},{key:"_documentMoveHandler",value:function(e){var t=this,n=t._resizeFrameObj,a=t._inlineToolbarClickObj,r=e.originalEvent||e;n&&n.resizeDetails?t._handleFrameResize(r):a&&a.resizeDetails&&t._handleTableCellResize(r)}},{key:"_dragStartHandler",value:function(e){var t=this,n=t._resizeFrameObj,a=t._inlineToolbarClickObj;if(n&&n.resizeDetails||a&&a.resizeDetails)return e.preventDefault(),void delete t._dragDetails;if(a&&a.target){var r=t._inlineToolbarClickObj.target;if(r&&r&&["img","table"].indexOf(r.nodeName.toLowerCase())>-1){if("false"===r.getAttribute("draggable"))return void e.preventDefault();var o=e.target,i=o.parentElement;t._closeToolbar(),t._setResizeFrame(),t._dragDetails={target:o,scrollTop:t.$.editableElement.scrollTop,container:o.closest(".smart-editor-image-container"),anchor:i&&"a"===i.nodeName.toLowerCase()?i:void 0}}}else e.preventDefault()}},{key:"_dragEndHandler",value:function(){var e=this,t=e.$.inlineToolbar;if(e._dragDetails){var n=e._dragDetails.target,a=e.$.editableElement,r=a.querySelector('[drag-id="'.concat(n.getAttribute("drag-id"),'"]'));if(r){var o=e._dragDetails,i=o.container,l=o.anchor;r.removeAttribute("drag-id"),i&&!i.contains(r)&&r.parentElement&&(i.remove(),r.parentElement.insertBefore(i,r),i.insertBefore(r,i.firstElementChild)),l&&r.parentElement!==l&&(l.innerHTML="",r.parentElement.insertBefore(l,r),l.appendChild(r)),void 0!==o.scrollTop&&(a.scrollTop=o.scrollTop),e._setResizeFrame(r);var s=e._resizeFrameObj;t&&t.visible||!s.target||e._openInlineToolbar(s.target)}delete e._dragDetails}else{e._setSelectionRange();var u=e._getSelectionRange();u&&u.startOffset!==u.endOffset&&(e._handleInlineToolbar(u.startContainer),e._focusEditableElement())}}},{key:"_documentUpHandler",value:function(e){var t=this,n=t._resizeFrameObj,a=t.$.inlineToolbar,r=e.originalEvent||e,o=t.shadowRoot||t.isInShadowDOM?r.composedPath()[0]:r.target;if(n&&delete n.resizeDetails,t._dragDetails)return t._endInlineToolbarClick(),void delete t._toolbarItemClick;var i=t.$.iframe;if(t.$.container.contains(o)||a&&a.contains(o)||i&&i.contentDocument.body.contains(o)){var l=o.closest(".smart-editor-toolbar-item");l?t._handleToolbarUp(l):t._handleContentUp(o)}t._endInlineToolbarClick(),delete t._dragDetails,delete t._toolbarItemClick}},{key:"_handleToolbarUp",value:function(e){var t=this,n=t._toolbarItemClick,a=e.getAttribute("item-type");if(n&&n.toolbarItem===e){var r=n.toolbarItem;"custom"!==a&&(t._handleToolbarItemClick(event,r),t._focusEditableElement())}}},{key:"_handleContentUp",value:function(e){var t=this,n=t._inlineToolbarClickObj,a=t.$.toolbarToggleButton;if(e===a||a.contains(e))t._toggleToolbar(t.$.toolbar.hasAttribute("expanded"));else if(n){var r=n.target;r&&(r===e||r.contains(e))&&(t._handleInlineToolbar(r),t._focusEditableElement())}else if(t.$.editableElement.contains(e)||"markdown"===t.editMode&&e===t.$.input){var o=t.$.iframe,i=o?o.contentWindow:window;requestAnimationFrame((function(){o&&t._setSelectionRange();var e=t._getSelectionRange();if(e instanceof i.Range){var n=e.startContainer;e.startOffset!==e.endOffset&&(t._handleInlineToolbar(n),t._focusEditableElement())}}))}}},{key:"_endInlineToolbarClick",value:function(){var e=this,t=e._inlineToolbarClickObj;if(t){var n=t.resizeDetails;if(!e._dragDetails&&t.target&&t.target.removeAttribute("drag-id"),n&&n.target){if("horizontal"===n.position){var a=n.cells,r=n.table.offsetWidth;a&&a.forEach((function(e){e.style.width&&(e.style.width=100*parseFloat((e.offsetWidth/r).toFixed(2))+"%")}))}e.$.editableElement.removeAttribute("table-cell-resize"),n.target.removeAttribute("resizing"),n.isInlineToolbarOpened&&e._handleInlineToolbar(n.target)}delete e._inlineToolbarClickObj}}},{key:"_updateToolbarItems",value:function(e){var t,n=this,a=n._inlineToolbarClickObj;if(!n._dragDetails&&"markdown"!==n.editMode&&!n.readonly){if(a&&a.target)t=a.target;else{var r=n._getSelectionRange();if(!r)return;t=r.startContainer}if(n._toolbarItemsObj){var o,i=n.$.toolbar,l=n.$.editableElement,s=n._toolbarItemsObj;if(t&&t.closest||(t=t.parentElement),!t||!t.closest)return;e||(e=["alignment","bold","italic","strikethrough","underline","fontsize","fontname","formats","fontcolor","backgroundcolor","orderedlist","unorderedlist","subscript","superscript"]);for(var u=0,c=e.length;u<c;u+=1){var d=e[u],p=s[d];p&&function(){var e=void 0;if("alignment"===d)e=t.style.textAlign;else if("bold"===d)e=n._isNodeFromList(t,["b","strong","h1","h2","h3","h4","h5","h6"]);else if("italic"===d)e=n._isNodeFromList(t,["i"]);else if("underline"===d)e=n._isNodeFromList(t,["u"]);else if("strikethrough"===d)e=n._isNodeFromList(t,["strike"]);else if("fontsize"===d){var a=t.closest(".smart-editor-editable font");a&&(e=a.style.fontSize),e||(o||(o=window.getComputedStyle(t)),e=o.fontSize),e=parseInt(e),isNaN(e)&&(e="")}else if("fontname"===d){var r=t.closest(".smart-editor-editable font");r&&r.hasAttribute("face")?e=r.getAttribute("face"):(o||(o=window.getComputedStyle(t)),e=o.fontFamily.split(",")[0])}else if("formats"===d&&t!==l){var s=p.dataSource;e=t.nodeName.toLowerCase(),s&&!s.some((function(t){return t.value===e}))&&(e="")}else if("fontcolor"===d){var u=t.closest(".smart-editor-editable font");u?e=u.color:(o||(o=window.getComputedStyle(t)),e=o.color)}else"backgroundcolor"===d?(e=n._getNodeBackgroundColor(t))||(o||(o=window.getComputedStyle(t)),e=o.backgroundColor):"orderedlist"===d||"unorderedlist"===d?e=!!t.closest(".smart-editor-editable ".concat("orderedlist"===d?"ol":"ul"," li")):"subscript"===d?e=!!t.closest(".smart-editor-editable sub"):"superscript"===d&&(e=!!t.closest(".smart-editor-editable sup"));if(!e&&p.dataSource){var c=p.dataSource[0];c&&(e=c.value||c)}null!==e&&(p.value=e,n._setItemValue(i.querySelector(".smart-editor-toolbar-item[item-name=".concat(d,"]")),p))}()}}}}},{key:"_isNodeFromList",value:function(e,t){var n=this.$.editableElement;if(e&&t)for(;e&&e!==n;){if(t.indexOf(e.nodeName.toLocaleLowerCase())>-1)return!0;e=e.parentElement}}},{key:"_getNodeBackgroundColor",value:function(e){for(var t=this.$.editableElement;e&&e!==t;){var n=e.style.backgroundColor;if(n)return n;e=e.parentElement}}},{key:"_editableElementBlurHandler",value:function(e){var t=this,n=t.$.contentContainer,a=n.getRootNode().activeElement;t._toolbarItemClick&&e.target.focus({preventScroll:!0}),n.contains(a)||t.$.container.contains(a)||t.removeAttribute("focus")}},{key:"_editableElementFocusHandler",value:function(){var e=this,t=e.editMode,n="markdown"===t?e.$.input:e.$.editableElement,a=e._autoSaveObj;e.setAttribute("focus",""),e.autoSave?(a||(a=e._autoSaveObj={}),clearInterval(a.interval),a.interval=setInterval((function(){n.getRootNode().activeElement!==n&&clearInterval(a.interval),window.localStorage.setItem("smartEditor"+e.id,"markdown"===t?n.value:n.innerHTML)}),e.autoSaveInterval)):a&&(clearInterval(a.interval),delete e._autoSaveObj)}},{key:"_updateOnInputChange",value:function(){var e=this;if(e.$.contentContainer.hasAttribute("split-mode")){var t=e.$.editableElement.getRootNode().activeElement,n=e.$.input.value;clearTimeout(e._refreshTimeout),e._refreshTimeout=setTimeout((function(){clearTimeout(e._refreshTimeout),"markdown"===e.editMode?e.$.editableElement.innerHTML=window.marked?window.marked(n):n:t===e.$.input?e.$.editableElement.innerHTML=n:e.$.input.value=e.$.editableElement.innerHTML.trim()}),e.splitModeRefreshTimeout)}else delete e._refreshTimeout}},{key:"_editableElementWheelHandler",value:function(){var e=this.$.inlineToolbar;this._setResizeFrame(),e&&e.visible&&e.close()}},{key:"_editableElementKeyDownHandler",value:function(e){var t=this,n=t.$.editableElement,a=e.target.getRootNode().activeElement,r=e.key.toLowerCase();if(!t.disabled&&!t.readonly){var o=t.$.iframe;switch((o?o.contentWindow:window).getSelection(),r){case"escape":a===n&&t._closeToolbar();break;case"a":if(!e.ctrlKey)break;var i=(o?o.contentDocument:document).activeElement;i.classList.contains("smart-editor-image-caption")?(e.preventDefault(),t._setSelectionRange(i)):t._tableCell&&(e.preventDefault(),t._setSelectionRange(t._tableCell));break;case"delete":var l=t._resizeFrameObj?t._resizeFrameObj.target:void 0;l&&"img"===l.nodeName.toLowerCase()&&t._deleteResizeFrameTarget(l);break;case"tab":t.enableTabKey&&(e.preventDefault(),t._handleTabInsert())}t._closeToolbar()}}},{key:"_editableElementMoveHandler",value:function(e){var t=this,n=t.$.editableElement,a=e.originalEvent||e,r=a.clientX,o=a.clientY,i=t.shadowRoot||t.isInShadowDOM?a.composedPath()[0]:a.target;if(e.stopPropagation(),i&&i.closest&&!t._isMobile&&"false"!==n.getAttribute("contenteditable")){var l=t._inlineToolbarClickObj;if(!(l&&l.resizeDetails||t._dragDetails)){var s=i.tagName.toLowerCase();if(!i.closest(".smart-editor-editable table")||"td"!==s&&"th"!==s)n.removeAttribute("table-cell-resize");else{var u=i.getBoundingClientRect();o<u.bottom+5&&o>u.bottom-5?n.setAttribute("table-cell-resize","vertical"):r<u.right+5&&r>u.right-5&&i.nextElementSibling?n.setAttribute("table-cell-resize","horizontal"):n.removeAttribute("table-cell-resize")}}}else n.removeAttribute("table-cell-resize")}},{key:"_focusEditableElement",value:function(){var e=this,t=e.$.iframe,n=e.editMode,a="markdown"===n?e.$.input:e.$.editableElement;if(t&&t.focus({preventScroll:!0}),a.getRootNode().activeElement!==a){var r=e._getSelectionRange();if(a.focus({preventScroll:!0}),"markdown"===n)return void(void 0!==r.selectionStart&&e._setSelectionRange(r.selectionStart,r.selectionEnd));var o=(t?t.contentWindow:window).getSelection();o.removeAllRanges(),o.addRange(r)}}},{key:"_getTextFromCarret",value:function(){var e,t,n=this._getSelectionRange(),a=n.startContainer,r=a.textContent;if(r.length>0&&r.indexOf(" ")>-1){var o=r.slice(0,n.startOffset).lastIndexOf(" ")+1,i=r.slice(n.endOffset).indexOf(" ");i<0&&(i=r.length-1),e=o>-1?o:n.startOffset,t=Math.max(n.endOffset,n.endOffset+i)}else e=0,t=a.length;return{selectionStartIndex:e,selectionEndIndex:t}}},{key:"_handleToolbarItemClick",value:function(e,t){var n=this;if(t){var a,r,o=n.$.inlineToolbar,i=n._toolbarItemClick,l=t.getAttribute("item-type"),s=t.getAttribute("item-name");if(e&&(a=e.originalEvent||e,r=n.shadowRoot||n.isInShadowDOM?a.composedPath()[0]:a.target),"custom"!==l){if(a&&(n.hasRippleAnimation&&"delimiter"!==l&&Smart.Utilities.Animation.Ripple.animate(r,a.pageX,a.pageY),i&&i.callback))return i.callback.call(n,t,i.target),void n.$.fireEvent("toobarItemClick",{value:s,originalEvent:a});switch(s){case"bold":case"italic":case"underline":case"strikethrough":n._handleTextDecorations(s);break;case"clearformat":n._handleClearFormat();break;case"redo":case"undo":n._handleUndoRedo(s);break;case"lowercase":case"uppercase":n._handleTextCase(s);break;case"backgroundcolor":n._handleBackgroundColor(t.getAttribute("item-value"));break;case"fontcolor":n._handleFontColor(t.getAttribute("item-value"));break;case"editlink":n._openWindow(t);break;case"openlink":if(o&&o.contains(t)){var u,c=o.selector;c.nodeName!==Node.TEXT_NODE&&(u=c.closest(".smart-editor-editable a")),u&&window.open(u.href,u.target)}break;case"caption":if(!i)break;var d=i.target;if(d&&"img"===d.nodeName.toLowerCase()){var p,m=d.closest(".smart-editor-image-container");m&&m.querySelector(".smart-editor-image-caption")||(p=n.localize("captionPlaceholder")),n._handleImgCaption(d,{caption:p,focusCaption:!0})}break;case"cut":case"copy":case"paste":n._handleClipboardAction(s);break;case"delete":n._resizeFrameObj&&n._resizeFrameObj.target?n._deleteResizeFrameTarget(i.target):n._handleTextDelete();break;case"removelink":n._handleLinkRemove(s);break;case"tableheader":case"tablerows":case"tablecolumns":case"tablevalign":case"tablestyle":n._handleTableToolbarAction(t);break;case"sourcecode":n._handleSourceCodeMode(t);break;case"splitmode":n._handleSplitMode(t);break;case"fullscreen":n._handleFullScreenMode(t);break;case"orderedlist":case"unorderedlist":n._handleList(s);break;case"indent":case"outdent":n._handleIndentation(s);break;case"subscript":case"superscript":n._handleSubSuperScript(s);break;case"print":n._handlePrint();break;default:n._inlineToolbarItemsObj?n._updateEditorViaWindow(n._inlineToolbarItemsObj[s]):n._toolbarItemsObj&&n._updateEditorViaWindow(n._toolbarItemsObj[s])}}n._closeToolbarItemDropDown(n.$.inputPopup),n._closeToolbarItemDropDown(n.$.colorInputPopup),o&&o.close(),a&&n.$.fireEvent("toobarItemClick",{value:s,originalEvent:a})}}},{key:"_handleCommonToolbarAction",value:function(n,a){var r=this;if("html"===r.editMode){var o,i=r._getSelectionRange(),l=r.$.iframe,s=t(l?[l.contentDocument,l.contentWindow]:[document,window],2),u=s[0],c=s[1],d=i.startContainer;if(!d)return;if(i.startOffset===i.endOffset&&d.nodeType===Node.TEXT_NODE){var p=r._getTextFromCarret(),m=p.selectionStartIndex,f=p.selectionEndIndex;o=i.startOffset-m,r._setSelectionRange(d,m,f)}(function(t){return"string"==typeof t?u.execCommand(t):"object"==e(t)?u.execCommand(t.name,!1,t.value):void 0})(n)&&void 0!==o&&r._setSelectionRange(c.getSelection().focusNode,o,o),a&&r._updateToolbarItems(a)}}},{key:"_handleClearFormat",value:function(){this._handleCommonToolbarAction("removeFormat")}},{key:"_handleFontName",value:function(e){this._handleCommonToolbarAction(e)}},{key:"_handleFontSize",value:function(e){var t=this;if("markdown"!==t.editMode){var n,a=t._getSelectionRange(),r=a.startContainer;if(r){if(a.startOffset===a.endOffset){if(r.nodeType!==Node.TEXT_NODE){var o=document.createElement("font");return a.insertNode(o),t._setSelectionRange(o),void(o.style.fontSize=e.value+"px")}var i=t._getTextFromCarret(),l=i.selectionStartIndex,s=i.selectionEndIndex;n=a.startOffset-l,t._setSelectionRange(r,l,s)}if((t.$.editableElement.getRootNode()||document).execCommand("fontSize",!1,3)){var u=t.$.iframe,c=u?u.contentWindow:window;if(a.commonAncestorContainer.closest)for(var d=a.commonAncestorContainer.querySelectorAll("font[size]"),p=0,m=d.length;p<m;p+=1){var f=d[p];f.removeAttribute("size"),f.style.fontSize=e.value+"px"}else{var h=c.getSelection().focusNode;if(!h)return;var v=h.closest?h.closest(".smart-editor-editable font"):h.parentElement;"font"===v.nodeName.toLowerCase()&&(v.removeAttribute("size"),v.style.fontSize=e.value+"px")}void 0!==n&&t._setSelectionRange(c.getSelection().focusNode,n,n)}}}}},{key:"_handleFormats",value:function(e){var t=this;if("markdown"!==t.editMode)t._getSelectionRange().startContainer&&t.$.editableElement.getRootNode().execCommand("formatBlock",!1,e.value);else{var n;switch(e.value){case"h1":n="#";break;case"h2":n="##";break;case"h3":n="###";break;case"h4":n="####";break;case"h5":n="#####";break;case"h6":n="######";break;case"code":n="```\n\n```";break;case"blockquote":n=">";break;default:n=e.value}0===n.indexOf("#")||0===n.indexOf(">")?(n+=" ",t._insertMarkDown(n,t.$.input.selectionStart+n.length)):t._insertMarkDown(n,t.$.input.selectionStart+n.length/2)}}},{key:"_handleSubSuperScript",value:function(e){this._handleCommonToolbarAction(e,["subscript","superscript"])}},{key:"_handleTextDecorations",value:function(e){var t=this,n=t._toolbarItemsObj,a=t._inlineToolbarItemsObj,r=n?n[e]:void 0,o=a?a[e]:void 0,i=t.editMode;if(r||o)if("markdown"!==i){var l,s=t._getSelectionRange(),u=s.startContainer;if(u){if(s.startOffset===s.endOffset&&u.nodeType===Node.TEXT_NODE){var c=t._getTextFromCarret(),d=c.selectionStartIndex,p=c.selectionEndIndex;l=s.startOffset-d,t._setSelectionRange(u,d,p)}if((t.$.editableElement.getRootNode()||document).execCommand(e))if(void 0!==l){var m=t.$.iframe,f=m?m.contentWindow:window,h=f.getSelection().focusNode;h.textContent=h.textContent.trim(),t._setSelectionRange(f.getSelection().focusNode,l,l)}else t._setSelectionRange();t._updateToolbarItems([e])}}else{var v,g=t.$.input;switch(e){case"bold":v="****";break;case"italic":v="**";break;case"underline":v="<ins></ins>";break;case"strikethrough":v="~~~~"}t._insertMarkDown(v,g.selectionStart+v.length/2)}}},{key:"_handleClipboardAction",value:function(e){var t=this,n=navigator.clipboard,a=t.editMode,r=t.$.input;if(n){var o,i=t._getSelectionRange();if("copy"===e||"cut"===e){if(o="markdown"===a?r.value.slice(r.selectionStart,r.selectionEnd):i.toString(),n.writeText(o),"cut"===e)if("markdown"===a){var l=r.value,s=r.selectionStart;r.value=l.slice(0,s)+l.slice(r.selectionEnd),t._setSelectionRange(r,s,s),t._refreshMarkdownPreview()}else i.deleteContents()}else n.readText&&n.readText().then((function(e){"markdown"!==a?(i.deleteContents(),i.insertNode(document.createTextNode(e)),i.collapse()):t._insertMarkDown(e)}))}else r.getRootNode().execCommand(e)}},{key:"_handleLinkRemove",value:function(){var e,t=this,n=t._toolbarItemClick.target;if(n&&n&&"img"===n.nodeName.toLowerCase())(e=n.parentElement)&&"a"===e.nodeName.toLowerCase()&&(e.parentElement.insertBefore(n,e),e.remove());else{var a,r,o=t.$.iframe;o?(a=o.contentDocument,r=o.contentWindow):(a=document,r=window);var i=r.getSelection(),l=t._getSelectionRange();i.removeAllRanges(),i.addRange(l);var s=i.anchorNode?i.anchorNode.parentElement:void 0;if(!s||"a"!==s.nodeName.toLowerCase())return;l.selectNode(i.anchorNode),a.execCommand("unlink",!1,!1)}}},{key:"_handleBackgroundColor",value:function(e){var n=this;if("markdown"!==n.editMode){var a,r,o=n.$.iframe,i=t(o?[o.contentDocument,o.contentWindow]:[document,window],2),l=i[0],s=i[1],u=n.$.inlineToolbar,c=n._getSelectionRange();if(u&&u.visible&&(a=u.selector),a&&["th","td"].indexOf(a.nodeName.toLowerCase())>-1){if(c.startOffset===c.endOffset)return void(a.style.backgroundColor=e);r=a.style.backgroundColor}var d,p=c.startOffset,m=c.endOffset,f=c.startContainer;if(f&&f.nodeType===Node.TEXT_NODE&&c.startOffset===c.endOffset){var h=n._getTextFromCarret(),v=h.selectionStartIndex,g=h.selectionEndIndex;d=c.startOffset-v,n._setSelectionRange(f,v,g)}else f.closest&&p!==m&&n._setSelectionRange(f,p,m);var y=l.execCommand("hiliteColor",!1,e&&"transparent"!==e?e:"transparent");a&&r?a.style.backgroundColor=r:y&&void 0!==d&&n._setSelectionRange(s.getSelection().focusNode,d,d)}}},{key:"_handleFontColor",value:function(e){var n=this;if("markdown"!==n.editMode){var a,r=n._getSelectionRange(),o=r.startContainer,i=n.$.iframe,l=e?"foreColor":"removeFormat",s=t(i?[i.contentDocument,i.contentWindow]:[document,window],2),u=s[0],c=s[1];if(o&&o.nodeType===Node.TEXT_NODE&&r.startOffset===r.endOffset){var d=o.parentElement;if("font"===d.nodeName.toLocaleLowerCase())return void(d.color=e);var p=n._getTextFromCarret(),m=p.selectionStartIndex,f=p.selectionEndIndex;a=r.startOffset-m,n._setSelectionRange(o,m,f)}u.execCommand(l,!1,e)&&void 0!==a&&n._setSelectionRange(c.getSelection().focusNode,a,a)}}},{key:"_handlePrint",value:function(){var e=this,t=e.dataExport.fileName;e.dataExport.fileName=null;var n=window.open("","","width=800,height=500"),a=n.document.open(),r='<!DOCTYPE html><html><head><meta charset="utf-8" /><title>'+t+"</title></head><body>"+e._handleDataExport("html")+"</body></html>";try{a.write(r),a.close(),setTimeout((function(){n.print(),n.close()}),100)}catch(e){}e.dataExport.fileName=t}},{key:"_handleDataExport",value:function(e,t){var n=this;if(Smart.Utilities.DataExporter){try{new JSZip}catch(e){return void n.error(n.localize("missingReference",{elementType:n.nodeName.toLowerCase(),methodName:"exportData",files:"jszip.min.js"}))}if("pdf"!==e||window.pdfMake){var a,r=new Smart.Utilities.DataExporter({exportHeader:!1,pageOrientation:n.dataExport.pageOrientation,style:n.dataExport.style});if(n._setExportStyles(r,e),"markdown"===n.editMode){var o=n.$.input;a="md"!==e&&window.marked?window.marked(o.value):o.value}else a=n.$.editableElement["pdf"===e?"textContent":"innerHTML"];var i=[{value:a}];return r.exportData(i,e,n.dataExport.fileName,t)}n.error(n.localize("missingReference",{elementType:n.nodeName.toLowerCase(),methodName:"exportData",files:"pdfMake.min.js"}))}else n.error(n.localize("missingReference",{elementType:n.nodeName.toLowerCase(),methodName:"exportData",files:"smart.export.js"}))}},{key:"_setExportStyles",value:function(e){if(!e.style){var t=window.getComputedStyle(this),n=t.getPropertyValue("--smart-border-width")||"1px",a=t.getPropertyValue("--smart-border")||"black",r=t.getPropertyValue("--smart-editor-table-column-width")||"initial",o=t.getPropertyValue("--smart-editor-table-cell-min-height")||"20px",i=t.getPropertyValue("--smart-editor-table-cell-min-width")||o,l=t.getPropertyValue("--smart-surface")||"#333",s=t.getPropertyValue("--smart-alternation-index0-background")||l;e.style={border:"initial",width:"100%",height:this.$.editableElement.scrollHeight+"px",removeDefault:!0,custom:"\n          .column table {\n            width: 100%;\n            border-collapse: collapse;\n            empty-cells: show;\n            border-spacing: 0;\n            table-layout: fixed;\n          }\n          \n          .column td, .column th {\n            border: ".concat(n," solid ").concat(a,";\n            width: ").concat(r,";\n            min-height: ").concat(o,";\n            min-width: ").concat(i,";\n            padding: 2px 5px;\n            vertical-align: middle;\n          }\n          \n          .column table img {\n            max-width: 100%;\n          }\n          \n          .column table table {\n            width: 100%;\n          }\n          \n          .column table th {\n            background: ").concat(l,";\n          }\n\n          .column th:empty::before,\n          .column td:empty::before {\n            content: 'A';\n            visibility: hidden;\n          }\n          \n          .column table[dashed-borders] th, .column table[dashed-borders] td {\n            border-style: dashed;\n          }\n          \n          .column table[alternation] tr:nth-child(2n) {\n            background-color: ").concat(s,';\n          }\n          \n          .column .smart-editor-image-container {\n            display: inline-block;\n          }\n          \n          .column .smart-editor-image-container[display="block"] {\n            display: block;\n          }\n          \n          .column .smart-editor-image-container[display="block"][alignment="left"] img {\n            margin-left: 0;\n          }\n          \n          .column .smart-editor-image-container[display="block"][alignment="left"] .smart-editor-image-caption {\n            text-align: left;\n          }\n          \n          .column .smart-editor-image-container[display="block"][alignment="right"] img {\n            margin-right: 0;\n          }\n          \n          .column .smart-editor-image-container[display="block"][alignment="right"] .smart-editor-image-caption {\n            text-align: right;\n          }\n          \n          .column .smart-editor-image-container:not([display="block"])[alignment="left"] {\n            float: left;\n          }\n          \n          .column .smart-editor-image-container:not([display="block"])[alignment="right"] {\n            float: right;\n          }\n          \n          .column .smart-editor-image-container .smart-editor-image-caption {\n            display: block;\n            text-align: center;\n            outline: none;\n          }')}}}},{key:"_handleSourceCodeMode",value:function(e){var t,n=this,a=n.editMode,r=n._toolbarItemsObj.sourcecode;if(r){e?t=e.hasAttribute("checked"):(t=r.value,e=n.$.toolbar.querySelector('.smart-editor-toolbar-item[item-name="sourcecode"]')),n._closePopups(),n._closeWindow(),n._setResizeFrame(),n._handleTableSelection();var o=n.$.editableElement,i=n.$.input;"markdown"===a?t&&o.classList.contains("smart-hidden")?(o.innerHTML=window.marked?window.marked(i.value):i.value,o.classList.remove("smart-hidden"),i.classList.add("smart-hidden")):!t&&i.classList.contains("smart-hidden")&&(o.classList.add("smart-hidden"),i.classList.remove("smart-hidden")):t&&i.classList.contains("smart-hidden")?(i.value=o.innerHTML,o.classList.add("smart-hidden"),i.classList.remove("smart-hidden")):!t&&o.classList.contains("smart-hidden")&&(o.innerHTML=i.value,i.classList.add("smart-hidden"),o.classList.remove("smart-hidden")),t?n.classList.add("preview-mode"):n.classList.remove("preview-mode"),r.value=t,e&&(r.disabled?e.setAttribute("disabled",""):e.removeAttribute("disabled"))}}},{key:"_handleFullScreenMode",value:function(e){var t,n=this,a=n._toolbarItemsObj.fullscreen;a&&(e?t=e.hasAttribute("checked"):(t=a.value,e=n.$.toolbar.querySelector('.smart-editor-toolbar-item[item-name="fullscreen"]')),n._closePopups(),n._setResizeFrame(),n._handleTableSelection(),t?(n.classList.add("full-screen-mode"),n._lastToolbarExpandedState=n.$.toolbar.hasAttribute("expanded")):(n.classList.remove("full-screen-mode"),n._lastToolbarExpandedState&&n._toggleToolbar()),a.value=t,e&&(a.disabled?e.setAttribute("disabled",""):e.removeAttribute("disabled")))}},{key:"_handleSplitMode",value:function(e){if(e){var t=this,n=t.$.editableElement,a=t.$.input,r=t.$.contentContainer,o=t._toolbarItemsObj,i=o[e.getAttribute("item-name")],l=o.sourcecode;if(i){var s=e.hasAttribute("checked"),u=t.editMode;t._closePopups(),s?("markdown"===u?n.innerHTML=window.marked?window.marked(a.value):a.value:a.value=n.innerHTML.trim(),r.setAttribute("split-mode",""),a.classList.remove("smart-hidden"),n.classList.remove("smart-hidden"),l&&(l.disabled=!0)):(r.removeAttribute("split-mode",""),"markdown"===u?n.classList.add("smart-hidden"):a.classList.add("smart-hidden"),l&&(l.disabled=!1)),i.value=s,l&&t._handleSourceCodeMode()}}}},{key:"_handleUndoRedo",value:function(e){this.$.editableElement.getRootNode().execCommand(e)}},{key:"_handleTextCase",value:function(e){var t,n,a=this;if("markdown"!==a.editMode){var r=a._getSelectionRange(),o=r.startContainer;if(o){var i,l,s,u,c=o.textContent,d=r.startOffset;o.nodeType===Node.TEXT_NODE&&r.startOffset===r.endOffset?(s=(t=a._getTextFromCarret()).selectionStartIndex,u=t.selectionEndIndex,l=c.slice(s,u)):(s=(n=[d,r.endOffset])[0],u=n[1],l=c.slice(d,r.endOffset),i=r.endOffset),l="lowercase"===e?l.toLowerCase():l.toUpperCase(),o.textContent=c.slice(0,s)+l+c.slice(u),a._setSelectionRange(o,d,i||d)}}}},{key:"_handleList",value:function(e){var t=this;if(e)if("markdown"!==t.editMode){var n,a,r=t._getSelectionRange();if(r.startContainer===r.endContainer&&(n=r.startOffset,a=r.endOffset),t.$.editableElement.getRootNode().execCommand("insert"+e,!1)){var o=t.$.iframe;r=(o?o.contentWindow:window).getSelection(),void 0!==a&&void 0!==a&&t._setSelectionRange(r.focusNode,n,a),t._updateToolbarItems(["orderedlist","unorderedlist"])}}else{var i="orderedlist"===e?"1. ":"- ";t._insertMarkDown(i,t.$.input.selectionStart+i.length)}}},{key:"_handleIndentation",value:function(e){"markdown"!==this.editMode&&this.$.editableElement.getRootNode().execCommand(e,!1)}},{key:"_handleTextDelete",value:function(){this.$.editableElement.getRootNode().execCommand("delete")}},{key:"_handleTabInsert",value:function(){this.$.editableElement.getRootNode().execCommand("insertHTML",!1,"&#009")}},{key:"_handleTableToolbarAction",value:function(e,t){var n=this,a=n._toolbarItemClick;if(!t&&a&&(t=a.target),t&&"table"===t.nodeName.toLowerCase()&&e){var r=e.getAttribute?e.getAttribute("item-name"):e.name,o=n.$.inlineToolbar,i=e;if(i.closest){var l=n.$.inlineToolbar;i=(l&&l.contains(i)?n._inlineToolbarItemsObj:n._toolbarItemsObj)[r]}switch(r){case"backgroundcolor":n._handleBackgroundColor(i.value);break;case"tableheader":n._handleTableHeader(t);break;case"tablerows":n._handleTableRows(t,i);break;case"tablecolumns":n._handleTableColumns(t,i);break;case"tablevalign":n._handleTableVAlignment(t,i);break;case"alignment":n._handleTextAlignment(i);break;case"tablestyle":n._handleTableStyle(t,i)}o&&o.visible&&(n.$.editableElement.contains(o.selector)?o.reposition():n._closeToolbar());var s=n._getSelectionRange().startContainer,u=["th","td"].indexOf(s.nodeName.toLowerCase())>-1;n._setResizeFrame(u&&t.contains(s)?t:void 0)}}},{key:"_handleTableHeader",value:function(e,t){var n,a,r=e.querySelector("th"),o=e.querySelector("tbody tr"),i=e.querySelector("thead");if(o&&(a=Array.from(o.children)),!t&&r)(n=r.closest("tr"))&&n.remove(),i&&i.remove(),Array.from(n.children).forEach((function(e,t){return a[t].style.width=e.style.width}));else if(void 0===t||!0===t){var l=e.querySelectorAll("tbody tr:first-of-type td").length;i||(i=document.createElement("thead")),(n=i.querySelector("tr"))||(n=document.createElement("tr"));for(var s=Array.from(n.children);s.length>l;)s.pop().remove();for(var u=s.length;u<l;u+=1){var c=document.createElement("th");a[u]&&(c.style.width=a[u].style.width,a[u].style.width=""),n.appendChild(c)}i.appendChild(n),e.insertBefore(i,e.querySelector("tbody")||e.querySelector("tr"))}}},{key:"_handleTableRows",value:function(e,t){var n,a=this.$.inlineToolbar.selector;if(a&&["th","td"].indexOf(a.nodeName.toLowerCase())>-1&&(n=a.closest("tr"))){var r=t.value,o=n.closest("thead");switch(r){case"insertRowAfter":case"insertRowBefore":var i=document.createElement("tr"),l=n.parentElement;if(!l)break;var s=parseInt(e.getAttribute("aria-colcount")),u=o?"th":"td";s&&!isNaN(s)||(s=e.querySelectorAll("tr:first-of-type td").length);for(var c=0;c<s;c+=1)i.appendChild(document.createElement(u));l.insertBefore(i,r.indexOf("Before")>-1?n:n.nextElementSibling);break;case"deleteRow":this._closeToolbar(),n.remove(),o&&!o.children.length&&o.remove()}var d=e.querySelectorAll("tr").length;d?e.setAttribute("aria-rowcount",d):e.remove()}}},{key:"_handleTableColumns",value:function(e,t){var n=this,a=n.$.inlineToolbar.selector;if(a&&["th","td"].indexOf(a.nodeName.toLowerCase())>-1){var r=t.value,o=Array.from(e.querySelectorAll("tr"));if(!o.length)return n._closeToolbar(),void e.remove();var i=Array.from(a.parentElement.children).indexOf(a);switch(r){case"insertColumnLeft":case"insertColumnRight":for(var l=r.indexOf("Left")>-1,s=0,u=o.length;s<u;s+=1){var c=o[s],d=c.children[i];if(d){var p="th"===d.tagName.toLowerCase()?"th":"td";c.insertBefore(document.createElement(p),l?d:d.nextElementSibling)}}break;case"deleteColumn":n._closeToolbar();for(var m=0,f=o.length;m<f;m+=1){var h=o[m].children[i];h&&h.remove()}}var v=o[0].children.length;v?e.setAttribute("aria-colcount",v):e.remove()}}},{key:"_handleTextAlignment",value:function(e){if("markdown"!==this.editMode){var t="justify"===e.value?"full":e.value;this.$.editableElement.getRootNode().execCommand("justify"+t.charAt(0).toUpperCase()+t.slice(1),!1,null)}}},{key:"_handleTableVAlignment",value:function(e,t){var n=this.$.inlineToolbar;if(n){var a=n.selector;a&&["th","td"].indexOf(a.nodeName.toLowerCase())>-1&&(a.style.verticalAlign=t.value)}}},{key:"_handleTableStyle",value:function(e,t){var n=this.$.inlineToolbar.selector;if(n&&["th","td"].indexOf(n.nodeName.toLowerCase())>-1)switch(t.value){case"altrows":e.toggleAttribute("alternation");break;case"dashedborders":e.toggleAttribute("dashed-borders")}}},{key:"_handleInlineToolbar",value:function(e){var t=this,n=e.nodeName.toLowerCase();"a"===n?t._openInlineToolbar(e):"img"===n||["td","th"].indexOf(n)>-1?(t._setResizeFrame(e),t._openInlineToolbar(e)):e.nodeType===Node.TEXT_NODE&&e.textContent.trim().length&&t._openInlineToolbar(e)}},{key:"_handleTableCellResize",value:function(e){var t=this,n=t._inlineToolbarClickObj,a=n?n.resizeDetails:void 0;if(a){var r=a.target,o=a.position,i=t.$.inlineToolbar;switch(r.setAttribute("resizing",""),i&&i.visible&&(a.isInlineToolbarOpened=!0,t._closeToolbar()),o){case"horizontal":var l=e.pageX+window.pageXOffset;if(t._setTableResizeDetails(a),!a.shrinkingCell)break;t._handleHorizontalTableCellResize(a,l);break;case"vertical":var s=a.table;s.style.height&&(s.querySelectorAll("tr").forEach((function(e){return e.style.height=e.offsetHeight+"px"})),s.style.height=""),t._resizeFrameObj&&t._resizeFrameObj.target&&t._setResizeFrame();var u=e.pageY+window.pageYOffset,c=a.y-u,d=r.offsetHeight;d-=c,r.style.height=Math.max(1,d)+"px",d===r.offsetHeight&&(a.y=u+Math.abs(Math.min(0,d)))}}}},{key:"_setTableResizeDetails",value:function(e){var t,n=e.table,a=e.target,r=e.expandingCell,o=e.shrinkingCell,i=e.isLastCell,l=e.areAllCellsResized;if(!r){var s=n.querySelector("tr"),u=Array.from(a.parentElement.children).indexOf(a);t=e.cells=Array.from(s.children),r=e.expandingCell=t[u]}e.shrinkingCell||(o=e.shrinkingCell=r.nextElementSibling,l=e.areAllCellsResized=!t.some((function(e){return e!==r&&e!==o&&!e.style.width})),i=e.isLastCell=l&&null===o.nextElementSibling,l&&!e.lastCell&&(e.lastCell=t[t.length-1]),i&&(o.style.width=""))}},{key:"_handleHorizontalTableCellResize",value:function(e,t){var n=30,a=e.isLastCell,r=e.expandingCell,o=e.shrinkingCell,i=r.offsetWidth,l=o.offsetWidth,s=e.x-t,u=e.x-i+n,c=e.x+o.offsetWidth-n;if(a){var d=i+l-n;r.style.width=Math.min(Math.max(n,i-s),d)+"px",r.offsetWidth!==i&&(e.x=Math.min(c,Math.max(u,t)))}else{var p,m,f;s>0&&(r=(p=[o,r])[0],o=p[1],i=(m=[l,i])[0],l=m[1],s*=-1),o.style.width=Math.max(n,l+s)+"px",f=o.offsetWidth-l,r.style.width=Math.max(n,r.offsetWidth-f)+"px",0!==f&&(e.x=Math.min(c,Math.max(u,t))),e.lastCell&&(e.lastCell.style.width="")}}},{key:"_handleFrameResize",value:function(e){var t=this,n=t._resizeFrameObj;if(n){t._closeToolbar();var a,r,o,i=n.target,l=n.resizeDetails,s=l.position,u=e.pageX+window.pageXOffset,c=e.pageY+window.pageYOffset,d=l.x-u,p=l.y-c;"img"===i.nodeName.toLowerCase()?(a=i.width,r=i.height,o=!0):(a=i.offsetWidth,r=i.offsetHeight);var m=a,f=r;switch(s){case"top-left":i.style.width=Math.max(0,m+(o?p:d))+"px",i.style.height=Math.max(0,f+p)+"px",a=i.offsetWidth,r=i.offsetHeight,m!==a&&(l.x-=a-m),f!==r&&(l.y-=r-f);break;case"bottom-left":i.style.width=Math.max(0,m-(o?p:d))+"px",i.style.height=Math.max(0,f-p)+"px",a=i.offsetWidth,r=i.offsetHeight,m!==a&&(l.x-=a-m),f!==r&&(l.y+=r-f);break;case"bottom-right":i.style.width=Math.max(0,m-(o?p:d))+"px",i.style.height=Math.max(0,f-p)+"px",a=i.offsetWidth,r=i.offsetHeight,m!==a&&(l.x+=a-m),f!==r&&(l.y+=r-f);break;case"top-right":i.style.width=Math.max(0,m+(o?p:-d))+"px",i.style.height=Math.max(0,f+p)+"px",a=i.offsetWidth,f!==(r=i.offsetHeight)&&(l.y-=r-f),m!==a&&(l.x+=a-m);break;case"top-center":i.style.height=Math.max(0,f+p)+"px",f!==(r=i.offsetHeight)&&(l.y-=r-f);break;case"bottom-center":i.style.height=Math.max(0,f-p)+"px",f!==(r=i.offsetHeight)&&(l.y+=r-f);break;case"left-center":i.style.width=Math.max(0,m+d)+"px",m!==(a=i.offsetWidth)&&(l.x-=a-m);break;case"right-center":i.style.width=Math.max(0,m-d)+"px",m!==(a=i.offsetWidth)&&(l.x+=a-m)}t._positionResizeHandles()}}},{key:"_deleteResizeFrameTarget",value:function(e){var t=this;if(e&&"img"===e.nodeName.toLowerCase()){var n=e.closest(".smart-editor-editable .smart-editor-image-container"),a=(n||e).parentElement,r=a&&"a"===a.nodeName.toLowerCase()?a:void 0;t._setResizeFrame(),(r||n||e).remove(),URL.revokeObjectURL(e.src)}else if(e&&"table"===e.nodeName.toLowerCase()){var o=e.closest(".smart-editor-editable table");o&&(t._setResizeFrame(),o.remove())}t._setCharCount()}},{key:"_setResizeFrame",value:function(e,t){var n,a=this,r=a.$.editableElement,o=e?e.nodeName.toLowerCase():"",i=a._resizeFrameObj;if("td"!==o&&"th"!==o||(e=e.closest(".smart-editor-editable table")),o=e?e.nodeName.toLowerCase():"",e&&e.parentElement&&("img"===o||"table"===o)&&"false"!==r.getAttribute("contenteditable"))if(i?n=i.element:((n=(i=a._resizeFrameObj={}).element=document.createElement("span")).classList.add("smart-editor-resize-frame"),n.innerHTML='<span position="top-left"></span><span position="top-right"></span>\n                                     <span position="bottom-left"></span><span position="bottom-right"></span>\n                                     <span position="top-center"></span><span position="bottom-center"></span>\n                                     <span position="left-center"></span><span position="right-center"></span>'),i.target=e,"false"!==e.getAttribute("resizable")){if(e.setAttribute("show-resize-frame",""),a._positionResizeHandles(),n.parentElement||a.$.contentContainer.appendChild(n),!t&&"img"===o){var l=a.$.iframe;(l?l.contentWindow:window).getSelection().collapse(null),a._updateToolbarItems()}}else e.removeAttribute("show-resize-frame");else i&&(i.element.remove(),i.target&&i.target.removeAttribute("show-resize-frame"),delete i.target)}},{key:"_positionResizeHandles",value:function(){var e=this,t=e._resizeFrameObj;if(e._resizeFrameObj){var n=t.element,a=t.target.getBoundingClientRect(),r=n.children,o=r[0],i=r[1],l=r[2],s=r[3],u=r[4],c=r[5],d=r[6],p=r[7],m=e.$.editableElement.getBoundingClientRect(),f=a.top-m.top,h=a.left-m.left,v=a.width,g=a.height;o.style.top=i.style.top=u.style.top=f+"px",o.style.left=l.style.left=d.style.left=h+"px",l.style.top=s.style.top=c.style.top=f+g+"px",i.style.left=s.style.left=p.style.left=v+h+"px",u.style.left=c.style.left=h+v/2+"px",d.style.top=p.style.top=f+g/2+"px"}}},{key:"_openInlineToolbar",value:function(e){var t=this,n=t.$.editableElement,a=t.$.inlineToolbar;if(t._closeToolbarItemDropDown(t.$.inputPopup),t._closeToolbarItemDropDown(t.$.colorInputPopup),"false"!==n.getAttribute("contenteditable")){a||(a=t._createToolbar()),t._setupToolbar(e,"inline"),a.parentElement||t.getShadowRootOrBody().appendChild(a);var r=t._getInlineToolbarContent(e);a.clear(),r instanceof DocumentFragment&&(a.appendChild(r),a.open())}else a&&a.visible&&a.close()}},{key:"_closeToolbar",value:function(){var e=this.$.inlineToolbar;e&&e.close()}},{key:"_closePopups",value:function(){var e=this;e._closeToolbar(),e._closeToolbarItemDropDown(e.$.inputPopup),e._closeToolbarItemDropDown(e.$.colorInputPopup)}},{key:"_createToolbar",value:function(){var e=this,t=e.$.inlineToolbar;return t||((t=document.createElement("smart-tooltip")).classList.add("smart-editor-toolbar"),e.$.inlineToolbar=t,e.$inlineToolbar=Smart.Utilities.Extend(t),t)}},{key:"_setupToolbar",value:function(e,t){var n=this,a=n.$.iframe,r=n.$.inlineToolbar,o=n.$inlineToolbar;if(r.visible||(o.unlisten("open"),o.unlisten("close"),o.unlisten("change"),o.unlisten("click"),o.unlisten("transitionend"),o.listen("open",(function(e){return n._tooltipVisibilityHandler.call(n,e)})),o.listen("close",(function(e){return n._tooltipVisibilityHandler.call(n,e)})),o.listen("change",(function(e){return n._tooltipChangeHandler.call(n,e)})),o.listen("click",(function(e){return n._tooltipClickHandler.call(n,e)})),o.listen("transitionend",(function(e){return n._tooltipTransitionEndHandler.call(n,e)}))),r.locale=n.locale,r.rightToLeft=n.rightToLeft,r.theme=n.theme,r.animation=n.animation,r.position="auto",r.openMode="manual","inline"!==t)return r.iframeRect=null,r.arrow=!1,r.align="left",r.offset=[0,-5],r.selector=e,r.classList.add("smart-editor-drop-down-toolbar"),void r.classList.remove("smart-editor-inline-toolbar");if(r.iframeRect=a?a.getBoundingClientRect():null,r.arrow=!0,r.align="center",r.offset=n.inlineToolbarOffset,r.classList.add("smart-editor-inline-toolbar"),r.classList.remove("smart-editor-drop-down-toolbar"),r.selector&&!r.selector.closest&&delete r.selector.getBoundingClientRect,e.closest)r.selector=e;else{var i=e.parentElement,l=n._getSelectionRange();i.getBoundingClientRect=function(){return l.getBoundingClientRect()},r.selector=i}}},{key:"_getInlineToolbarContent",value:function(e){var t=this,n=t.$.inlineToolbar;if(!n.innerHTML||n.selector.nodeName!==e.nodeName){var a,r,o=t._toolbarItemsObj,i=e.nodeName.toLowerCase(),l=function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0,a=t.length;n<a;n+=1){var r=o[t[n]];if(r){e=r;break}}return e};switch(i){case"a":r=l(["hyperlink","createlink"]);break;case"#text":r=l(["cut","copy","paste"]);break;case"img":r=l(["image"]);break;case"td":case"th":r=l(["table"]);break;default:return}return(a=r&&Array.isArray(r.inlineToolbarItems)?r.inlineToolbarItems:t._getDefaultInlineToolbarItems(e,i)).length?t._getToolbarItems(n,a):void 0}}},{key:"_getDefaultInlineToolbarItems",value:function(e,t){var n;switch(t){case"a":n=["openlink","editlink","removelink"];break;case"#text":n=["cut","copy","paste"];break;case"img":n=["image","alignment","createlink","delete","caption"],"a"===e.parentElement.nodeName.toLowerCase()&&n.splice(n.indexOf("createlink")+1,0,"openlink","removelink");break;case"td":case"th":n=["table","tableheader","tablerows","tablecolumns","backgroundcolor","delete","alignment","tablevalign","tablestyle"];break;default:return[]}return n}},{key:"_tooltipChangeHandler",value:function(e){var t=this,n=e.target,a=t.$.inlineToolbar;a&&a.classList.contains("smart-editor-drop-down-toolbar")&&a.visible&&a.contains(n)?n.classList.contains("smart-table-picker")&&(t._handleTableInsert({cells:e.detail.value}),a.close()):t._changeHandler(e)}},{key:"_tooltipClickHandler",value:function(e){var t=this,n=e.target,a=t.$.inlineToolbar;if(a&&a.classList.contains("smart-editor-drop-down-toolbar")&&a.contains(e.target)&&n.closest(".smart-table-picker-button")){var r,o=t._getSelectionRange();return o.startContainer&&["th","td"].indexOf(o.startContainer.nodeName.toLowerCase())>-1&&(r=o.startContainer.closest(".smart-editor-editable table")),void t._openWindow(a.selector,r)}}},{key:"_tooltipVisibilityHandler",value:function(e){var t=this,n=t.$.inlineToolbar,a=e.type;if(e.target===n){var r=(n.classList.contains("smart-editor-drop-down-toolbar")?"inline":"dropDown")+"Toolbar",o=t.$.inlineToolbar,i=t.$inlineToolbar;e.stopPropagation(),"close"===e.type&&(o.selector&&!o.selector.closest&&delete o.selector.getBoundingClientRect,o.hasAnimation||(i.unlisten(e.type),i.unlisten("change"),i.unlisten("click"),o.remove(),t._focusEditableElement())),t.$.fireEvent(r+a.slice(0,1).toUpperCase()+a.slice(1),e.detail)}}},{key:"_tooltipTransitionEndHandler",value:function(e){var t=this;if(e.target instanceof Smart.Tooltip){var n=(e.target===t.$.inlineToolbar?"inline":"dropDown")+"Toolbar",a=t.$[n],r=t["$".concat(n)];a.visible||(r.unlisten("transitionend"),a.style.top=a.style.left=0,a.remove())}}},{key:"_toggleItemDropDown",value:function(e){var t,n=this,a=e.getAttribute("item-type");if("drop-down"===a?(n.$.inputPopup||(n.$.inputPopup=document.createElement("smart-input")),t=n.$.inputPopup):"color-input"===a&&(n.$.colorInputPopup||(n.$.colorInputPopup=document.createElement("smart-color-input")),t=n.$.colorInputPopup),t.noRipple=!0,n.$.inputPopup&&t===n.$.colorInputPopup&&n.$.inputPopup.parentElement?n._closeToolbarItemDropDown(n.$.inputPopup):n.$.colorInputPopup&&t===n.$.inputPopup&&n.$.colorInputPopup.parentElement&&n._closeToolbarItemDropDown(n.$.colorInputPopup),t)if(e.contains(t)&&t.opened)n._closeToolbarItemDropDown(t);else{var r=n.$.inlineToolbar;r&&!r.contains(e)&&n._closeToolbar(),t.remove(),n._openToolbarItemDropDown(e,t)}}},{key:"_toggleDropDownToolbar",value:function(e){var t=this;if(e&&"table"===e.getAttribute("item-name")){var n=t.$.inlineToolbar;if(n&&n.visible&&n.classList.contains("smart-editor-drop-down-toolbar")){if(n.contains(e)){var a,r=t._getSelectionRange();return r.startContainer&&["th","td"].indexOf(r.startContainer.nodeName.toLowerCase())>-1&&(a=r.startContainer.closest(".smart-editor-editable table")),void t._openWindow(e,a)}n.classList.contains("smart-editor-drop-down-toolbar")&&n.close()}else t._closeToolbarItemDropDown(t.$.inputPopup),t._closeToolbarItemDropDown(t.$.colorInputPopup),t._openDropDownToolbar(e)}}},{key:"_openDropDownToolbar",value:function(e){var t=this,n=t.$.inlineToolbar;n||(n=t._createToolbar()),t._setupToolbar(e,"dropDown"),n.parentElement||t.getShadowRootOrBody().appendChild(n),t._setDropDownToolbarContent(e),n.open()}},{key:"_setDropDownToolbarContent",value:function(e){var t=this,n=t.$.inlineToolbar,a=e.getAttribute("item-name"),r=t._dropDownToolbarObj;r||(r=t._dropDownToolbarObj={});var o=r[a];o||(o=document.createElement("smart-table-picker"),r[a]=o),o.rightToLeft=t.rightToLeft,o.locale=t.locale,o.messages=t.messages,o.value=[1,1],n.contains(o)||(n.clear(),n.appendChild(o))}},{key:"_toggleWindow",value:function(e,t){var n=this;if(e){var a=e.getAttribute("item-name"),r=n.$.window;if(r){var o=r._target?r._target.item:void 0;!o||o.name!==a||o.name===a&&!r.opened?n._openWindow(e,t):r.close()}else n._openWindow(e,t)}}},{key:"_openWindow",value:function(e,t){var n=this;if(e&&n._toolbarItemsObj&&(!n._window||!n._window.opened)){var a;if(e.closest){if(!e.classList.contains("smart-editor-toolbar-item"))return;if(!(a=(e.closest(".smart-editor-inline-toolbar")?n._inlineToolbarItemsObj:n._toolbarItemsObj)[e.getAttribute("item-name")]))return}var r=n._createWindow(a);n.$.fireEvent("dialogOpening",{target:r,item:a}).defaultPrevented||(n._closeToolbarItemDropDown(n.$.inputPopup),n._closeToolbarItemDropDown(n.$.colorInputPopup),r._target={item:a,itemTarget:t,originalTarget:e},n._closeToolbar(),r.parentElement||n.getShadowRootOrBody().appendChild(r),r.isCompleted?n._setupWindow():r.whenReady((function(){return n._setupWindow()})))}}},{key:"_closeWindow",value:function(){var e=this.$.window;e&&e.opened&&e.close()}},{key:"_setupWindow",value:function(){var e=this,t=e.$.window,n=t._target.item;function a(){e._positionWindow(),t.opened?(t.bringToFront(),t._handleActiveState(),t._onOpenCallback&&t._onOpenCallback()):t.open()}if(e.windowCustomizationFunction?e.windowCustomizationFunction(t,n):(e._setPopupWindowTemplate("header",n),e._setPopupWindowTemplate("footer",n),e._setPopupWindowTemplate("content",n)),!t.opened){var r=e.$window;r.unlisten("transitionend"),r.unlisten("open"),r.unlisten("close"),r.unlisten("click"),r.unlisten("change"),r.unlisten("keydown"),t._onOpenCallback=function(){((t.shadowRoot||t).querySelector(".smart-input")||t).focus({preventScroll:!0})},t.hasAnimation&&r.listen("transitionend",(function(t){return e._windowTransitionendHandler.call(e,t)})),r.listen("open",(function(t){return e._windowOpenHandler.call(e,t)})),r.listen("close",(function(t){return e._windowCloseHandler.call(e,t)})),r.listen("click",(function(t){return e._windowClickHandler.call(e,t)})),r.listen("change",(function(t){return e._windowChangeHandler.call(e,t)})),r.listen("keydown",(function(t){return e._windowKeyDownHandler.call(e,t)}))}t.shadowRoot?e._onShadowDomLoaded(t,"smart.window.css",a):a();var o=(e.getAttribute("aria-owns")||"")+" "+t.id;e.setAttribute("aria-owns",o.trim())}},{key:"_setPopupWindowTemplate",value:function(e,t){var n=this,a=n.$.window;if(a)if("content"!==e){a[e+"Template"]||(a[e+"Template"]=n._createWindowTemplate(e,t));var r=a._target.item;if("header"===e)a.label=n.localize(r.name)||"";else if("footer"===e)for(var o=(a.shadowRoot||a).querySelectorAll(".smart-editor-window-button"),i=0;i<o.length;i++){var l=o[i];l.innerHTML='<span class="smart-icon"></span>',l.theme=n.theme,l.rightToLeft=n.rightToLeft,l.animation=n.animation,l.classList.contains("ok")?(l.innerHTML+=n.localize("ok"),l.setAttribute("aria-label","ok")):l.classList.contains("cancel")&&(l.innerHTML+=n.localize("cancel"),l.setAttribute("aria-label","cancel"));var s=l.querySelector(".smart-ripple");s&&s.parentElement.removeChild(s)}}else n._setWindowContent(t)}},{key:"_setWindowContent",value:function(e){var t=this.$.window,n=t._target.originalTarget,a=[].slice.call(t.getElementsByClassName("smart-editor-window-editor"));if((!t.innerHTML||a.length)&&n){switch(e.name){case"createlink":case"editlink":case"hyperlink":case"image":case"table":this._createWindowEditors(e)}n.id&&t.setAttribute("aria-controls",n.id)}}},{key:"_createWindowEditors",value:function(e){var t,n=this,a=n.$.window,r=e.name,o=n._windowEditors,i=a.querySelector(".smart-editor-window-content-wrapper");i||((i=document.createElement("div")).classList.add("smart-editor-window-content-wrapper"),a.appendChild(i)),n._windowEditors||(o=n._windowEditors={}),o&&(t=o[r]),t||((t=document.createElement("div")).classList.add("smart-editor-window-".concat(r)),t.innerHTML=n._getWindowEditorTemplate(r),o[r]=t),i.contains(t)||(i.innerHTML="",i.appendChild(t));for(var l=t.querySelectorAll(".smart-editor-window-editor[type]"),s=0;s<l.length;s++)n._setPopupWindowEditor(l[s])}},{key:"_getWindowEditorTemplate",value:function(e){switch(e){case"createlink":case"editlink":case"hyperlink":return'\n                <div class="smart-editor-window-editor" type="address">\n                    <label></label>\n                    <smart-input item-editor></smart-input>\n                </div>\n                <div class="smart-editor-window-editor" type="text">\n                    <label></label>\n                    <smart-input item-editor></smart-input>\n                </div>\n                <div class="smart-editor-window-editor" type="title">\n                    <label></label>\n                    <smart-input item-editor></smart-input>\n                </div>\n                <div class="smart-editor-window-editor" type="target">\n                    <label></label>\n                    <smart-input item-editor></smart-input>\n                </div>';case"image":return'\n                <div class="smart-editor-window-editor" type="file">\n                    <smart-file-upload item-editor></smart-file-upload>\n                </div>\n                <div class="smart-editor-window-editor" type="url">\n                    <label></label>\n                    <smart-input item-editor></smart-input>\n                </div>\n                <div class="smart-editor-window-editor" type="width">\n                    <label></label>\n                    <smart-input item-editor></smart-input>\n                </div>\n                <div class="smart-editor-window-editor" type="height">\n                    <label></label>\n                    <smart-input item-editor></smart-input>\n                </div>\n                <div class="smart-editor-window-editor" type="alt">\n                    <label></label>\n                    <smart-input item-editor></smart-input>\n                </div>\n                <div class="smart-editor-window-editor" type="title">\n                    <label></label>\n                    <smart-input item-editor></smart-input>\n                </div>\n                <div class="smart-editor-window-editor" type="caption">\n                    <label></label>\n                    <smart-input item-editor></smart-input>\n                </div>\n                <div class="smart-editor-window-editor" type="display">\n                    <label></label>\n                    <smart-input item-editor></smart-input>\n                </div>\n                <div class="smart-editor-window-editor" type="alignment">\n                    <label></label>\n                    <smart-input item-editor></smart-input>\n                </div>\n                <div class="smart-editor-window-editor" type="draggable">\n                    <smart-check-box item-editor></smart-check-box>\n                </div>\n                <div class="smart-editor-window-editor" type="resizable">\n                    <smart-check-box item-editor></smart-check-box>\n                </div>';case"table":return'\n                    <div class="smart-editor-window-editor" type="cols">\n                        <label></label>\n                        <smart-number-input item-editor></smart-number-input>\n                    </div>\n                    <div class="smart-editor-window-editor" type="rows">\n                        <label></label>\n                        <smart-number-input item-editor></smart-number-input>\n                    </div>\n                    <div class="smart-editor-window-editor" type="width">\n                        <label></label>\n                        <smart-input item-editor></smart-input>\n                    </div>\n                    <div class="smart-editor-window-editor" type="height">\n                        <label></label>\n                        <smart-input item-editor></smart-input>\n                    </div>\n                    <div class="smart-editor-window-editor" type="tableheader">\n                        <smart-check-box item-editor></smart-check-box>\n                    </div>\n                    <div class="smart-editor-window-editor" type="altrows">\n                        <smart-check-box item-editor></smart-check-box>\n                    </div>\n                    <div class="smart-editor-window-editor" type="dashedborders">\n                        <smart-check-box item-editor></smart-check-box>\n                    </div>\n                    <div class="smart-editor-window-editor" type="resizable">\n                        <smart-check-box item-editor></smart-check-box>\n                    </div>';default:return""}}},{key:"_setPopupWindowEditor",value:function(e){var t,n=this,a=e.getAttribute("type"),r=e.querySelector("label"),o=n.$.window._target,i=o.item,l="markdown"===n.editMode,s=i.editor,u=e.querySelector("[item-editor]");if(r&&(r.id=n.id+a+"Label",r.innerHTML=n.localize(a)||""),u){var c,d=n._toolbarItemClick;if(d&&(c=d.target),"hyperlink"===i.name||"createlink"===i.name||"editlink"===i.name){var p=n._getSelectionRange(),m=p.startContainer;m&&"a"!==m.nodeName.toLowerCase()&&(m=m.parentElement),m&&"a"===m.nodeName.toLowerCase()?"address"===a?t=m.getAttribute("href"):"text"===a?t=m.textContent:"title"===a?t=m.title:"target"===a&&(t=m.target):t="text"===a?l?n.$.input.value.slice(p.selectionStart,p.selectionEnd):p.toString():s&&void 0!==s[a]?s[a]+"":"","target"===a&&l||d&&c&&"img"===c.nodeName.toLowerCase()&&["title","text"].indexOf(a)>-1?e.classList.add("smart-hidden"):e.classList.remove("smart-hidden")}else if("image"===i.name){var f,h=n._toolbarItemClick;if(h&&(f=h.target),f&&"img"===f.nodeName.toLowerCase()){var v=f.closest(".smart-editor-image-container");switch(a){case"file":f.file instanceof File&&(t=f.file);break;case"url":t=f.file instanceof File?"":f.src;break;case"alt":t=f.alt;break;case"title":t=f.title;break;case"width":t=f.style.width||f.width;break;case"height":t=f.style.height||f.height;break;case"caption":if(v){var g=v.querySelector(".smart-editor-image-caption");g&&(t=g.textContent)}void 0===t&&(t="");break;case"alignment":t=(v||f).getAttribute("alignment")||"";break;case"display":t=(v||f).getAttribute("display")||"";break;case"draggable":case"resizable":var y=f.getAttribute(a);t=null==y||"true"===y}}else t=s?("draggable"===a||"resizable"===a)&&void 0===s[a]||(void 0!==s[a]?s[a]+"":""):"";l&&["file","url","alt","title"].indexOf(a)<0?e.classList.add("smart-hidden"):e.classList.remove("smart-hidden")}else if("table"===i.name){var b=o.itemTarget&&"table"===o.itemTarget.nodeName.toLowerCase()?o.itemTarget:void 0;switch(a){case"width":case"height":t=b?b.style[a]:"";break;case"cols":t=b?b.querySelector("tbody > tr").children.length+"":"1";break;case"rows":t=b?b.querySelectorAll("tbody > tr").length+"":"1";break;case"tableheader":t=!!l||!!b&&null!==b.querySelector("thead");break;case"altrows":t=!!b&&b.hasAttribute("alternation");break;case"dashedborders":t=!!b&&b.hasAttribute("dashed-borders");break;case"resizable":t=!(b&&"false"===b.getAttribute("resizable"))}l&&["cols","rows","tableheader"].indexOf(a)<0?e.classList.add("smart-hidden"):e.classList.remove("smart-hidden")}n._setupEditorElement(u,a,t),n._setEditorCommonProperties(u)}}},{key:"_setupEditorElement",value:function(t,n,a){var r=this,o=r.$.window._target.item,i=o.editor;if(t instanceof Smart.CheckBox&&(t.innerHTML=r.localize(n)||"",t.checked=!!a),t instanceof Smart.NumberInput)t.min=1,t.value=parseInt(a);else{if(t instanceof Smart.FileUpload)return"file"===n&&t.isCompleted&&(t.cancelAll(),a&&t.addFile(a)),t.uploadUrl="",t.removeUrl="",t.autoUpload=!1,i&&(i.uploadUrl&&(t.uploadUrl=i.uploadUrl,t.autoUpload=!0),i.removeUrl&&(t.removeUrl=i.removeUrl)),t.dropZone=t.parentElement,t.accept=o.allowedTypes||"image/*",void(t.hideFooter=!0);if("string"==typeof t.placeholder&&(t.placeholder=r.localize(n+"Placeholder")||""),t.dropDownClassList&&(t.dropDownClassList=["smart-editor-input"]),void 0!==t.dataSource){if("target"===n||"alignment"===n||"display"===n){t.dataSource.length||(t.dataSource=r._getDefaultDataSource(n)),"alignment"!==n||a||(a="center");var l=a?t.dataSource.find((function(t){return"object"==e(t)&&t.value===a})):void 0;l&&"object"==e(l)&&(a=l.label||a),t.readonly=!l&&!a||l&&""!==l.value}else t.dataSource=[];"string"==typeof t.dropDownButtonPosition&&(t.dropDownButtonPosition=t.dataSource.length?r.rightToLeft?"left":"right":"none")}t.value=a+""}}},{key:"_setEditorCommonProperties",value:function(e){var t=this;if(e){var n=e.messages,a=t.messages,r=t.locale;for(var o in n.en){var i=a[r][o];void 0!==i&&(n[r]||(n[r]={}),n[r][o]=i)}e.locale=t.locale,e.rightToLeft=t.rightToLeft,e.animation=t.animation,e.theme=t.theme}}},{key:"_createWindow",value:function(){var e=this,t=e.$.window;if(t)return t;var n=document.createElement("smart-window");return n.classList.add("smart-editor-window"),n.id=e.id+"Window",n.setAttribute("smart-id","window"),e.$.window=n,e.$window=Smart.Utilities.Extend(n),n.rightToLeft=e.rightToLeft,n.theme=e.theme,n.animation=e.animation,n.disableSnap=!0,n.headerButtons=["close"],n}},{key:"_createWindowTemplate",value:function(e){var t,n=this,a=n.animation,r=n.theme,o=n.rightToLeft;return"footer"===e&&((t=document.createElement("template")).innerHTML='<smart-button class="smart-editor-window-button ok primary"\n                    animation="'.concat(a,'" theme="').concat(r,'" ').concat(o?"right-to-left":"",'>\n                </smart-button>\n                <smart-button class="smart-editor-window-button cancel"\n                    animation="').concat(a,'" theme="').concat(r,'" ').concat(o?"right-to-left":"",">\n                </smart-button>")),t}},{key:"_positionWindow",value:function(){var e=this,t=e.getShadowRootOrBody(),n=e.$.window;if(n&&t.contains(n)){var a=e.getBoundingClientRect();n.opened||(n.style.left=n.style.top=""),n.style.left=Math.max(a.left+window.pageXOffset,a.left+window.pageXOffset+a.width/2-n.offsetWidth/2)+"px",n.style.top=Math.max(a.top+window.pageYOffset,a.top+window.pageYOffset+a.height/2-n.offsetHeight/2)+"px"}}},{key:"_windowChangeHandler",value:function(e){var t=e.detail,n=this.$.window._target.item,a=(e.originalEvent||e).target,r=a.closest(".smart-editor-window-editor");if(a.hasAttribute("item-editor")&&n&&r){var o=r.getAttribute("type");n.name.indexOf("link")>0&&"target"===o&&a instanceof Smart.Input&&(a.readonly=!!t.value.length)}}},{key:"_windowClickHandler",value:function(e){var t=(e.originalEvent||e).target;t.shadowRoot&&(t=(e.originalEvent||e).composedPath()[0]);var n=this.$.window,a=t.closest(".smart-editor-window-button");n&&a&&n._target&&(a.classList.contains("ok")&&!1===this._updateEditorViaWindow(n._target.item)||(n.close(),delete n._target))}},{key:"_windowClosingHandler",value:function(e){var t=this;if(e.target.classList.contains("smart-editor-window")){var n=t.$window;if(n){if(t.$.fireEvent("dialogClosing",{target:e.target,item:e.target._target.item}).defaultPrevented)return void e.preventDefault();if(n.unlisten(e.type),t.hasAttribute("aria-owns")){var a=t.getAttribute("aria-owns").replace(n.id,"").trim();a?t.setAttribute("aria-owns",a):t.removeAttribute("aria-owns")}}}}},{key:"_windowCloseHandler",value:function(e){var t=this,n=e.target;if(n.classList.contains("smart-editor-window")){var a=t.$window;if(a){t.$.fireEvent("dialogClose",{target:e.target,item:e.target._target.item}),a.unlisten("close"),a.unlisten("click"),a.unlisten("change"),a.unlisten("keydown"),t.hasAttribute("aria-owns")&&t.removeAttribute("aria-owns"),t.hasAnimation||n.remove();var r=n._target.itemTarget;if(t._focusEditableElement(),r&&["img","th","td","table"].indexOf(r.nodeName.toLowerCase())>-1)return void t._setResizeFrame(r)}}}},{key:"_windowKeyDownHandler",value:function(e){var t=this.$.window;if(e.stopPropagation(),"Enter"===e.key&&t._target){var n=t._target.item,a=t.getRootNode().activeElement;if(n&&a.closest(".smart-editor-window-editor")){if(!1===this._updateEditorViaWindow(n))return;e.preventDefault(),t.close(),delete t._target}}}},{key:"_windowOpenHandler",value:function(e){var t=e.target;if(t.classList.contains("smart-editor-window")){var n=this.$window;n&&(this.$.fireEvent("dialogOpen",{target:e.target,item:t._target.item}),n.unlisten("open"))}}},{key:"_windowTransitionendHandler",value:function(e){var t=e.target;t.classList.contains("smart-editor-window")&&(t.opened||"visibility"!==e.propertyName||(this.$window.unlisten("transitionend"),this.$.window.remove()))}},{key:"_updateEditorViaWindow",value:function(e){var t=this;if(e&&t._windowEditors){var n,a,r=t.$.iframe;r?a=(n=r.contentWindow).getSelection():(n=window,a=window.getSelection());var o,i=t._windowEditors[e.name],l=t._getSelectionRange();if(i){switch(l instanceof n.Range&&(a.removeAllRanges(),a.addRange(l)),e.name){case"editlink":case"createlink":case"hyperlink":o=t._handleLinksInsert(e);break;case"image":o=t._handleImageInsert(e);break;case"table":t._handleTableInsert(t._getItemOptionsViaWindow(e))}return o?(o(),!1):void 0}}}},{key:"_focusFirstInputCallback",value:function(e,t){var n=this._windowEditors[e];if(n)return function(){var e=n.querySelector('.smart-editor-window-editor[type="'.concat(t,'"] .smart-input[item-editor]'));e&&e.focus({preventScroll:!0})}}},{key:"_handleImageInsert",value:function(e){var t=this,n=t._getItemOptionsViaWindow(e),a=t.$.window;if(a){var r,o,i,l,s,u=a._target.itemTarget;if(n.file.length?(l=n.file[0],r=URL.createObjectURL(l)):n.url&&(r=n.url+""),!r&&n)return t._focusFirstInputCallback(e.name,"url");if("markdown"===t.editMode)return o=n.title?' "'.concat(n.title,'"'):"",void t._insertMarkDown("![".concat(n.alt,"](").concat(r).concat(o,")"));var c=t.$.iframe,d=t.$.editableElement,p=c?c.contentDocument:document;if(!u||"img"!==u.nodeName.toLowerCase()){var m=t.id+"newImage"+Math.random().toString(36).substr(2,5);s=p.execCommand("insertHTML",!1,'<img id="'.concat(m,'"></img>')),u=d.querySelector("#"+m)}if(u&&"img"===u.nodeName.toLowerCase()){var f="inline"===n.display.toLowerCase()?"inline":"block",h=n.width+"",v=n.height+"";if(t._handleImgCaption(u,n),s&&(u.id=""),URL.revokeObjectURL(u.src),l&&(u.file=l),u.src=r,u.removeAttribute("width"),u.removeAttribute("height"),u.style.width=h?h+(h.indexOf("%")>-1?"%":"px"):"",u.style.height=v?v+(v.indexOf("%")>-1?"%":"px"):"",n.alt&&(u.alt=n.alt),n.title&&(u.title=n.title),n.alignment){var g=n.alignment.toLowerCase();i=g.indexOf("left")>-1?"left":g.indexOf("right")>-1?"right":"center"}u.setAttribute("resizable",n.resizable),u.setAttribute("draggable",n.draggable);var y=u.closest(".smart-editor-image-container");y?(y.setAttribute("alignment",i),y.setAttribute("display",f),u.removeAttribute("alignment"),u.removeAttribute("display")):(u.setAttribute("alignment",i),u.setAttribute("display",f))}}}},{key:"_insertMarkDown",value:function(e,t){var n=this;if("markdown"===n.editMode){var a=n.$.input,r=a.value,o=n._getSelectionRange();a.value=r.slice(0,a.selectionStart)+e+r.slice(a.selectionEnd),n._refreshMarkdownPreview(),void 0!==o.selectionStart&&(void 0===t&&(t=o.selectionStart+e.length),n._setSelectionRange(a,t,t))}}},{key:"_handleLinksInsert",value:function(e){var n,a=this,r=a.$.window,o=a.editMode,i=a._getItemOptionsViaWindow(e);if(!i.address)return a._focusFirstInputCallback(e.name,"address");if("markdown"===o)return n=i.title?"[".concat(i.text,"](").concat(i.address,', "').concat(i.title,'")'):"[".concat(i.text,"](").concat(i.address,")"),void a._insertMarkDown(n);var l,s,u=a.$.iframe,c=t(u?[u.contentDocument,u.contentWindow]:[document,window],2),d=c[0],p=c[1].getSelection(),m=p.anchorNode?p.anchorNode.parentElement:void 0,f=r&&r._target?r._target.itemTarget:void 0;f&&"img"===f.nodeName.toLowerCase()?(m=(l=r._target.itemTarget).parentElement)&&"a"===m.nodeName.toLowerCase()||(m=document.createElement("a"),l.parentElement.insertBefore(m,l),m.appendChild(l)):m=p.anchorNode?p.anchorNode.parentElement:void 0,i.address&&"a"!==m.nodeName.toLowerCase()&&(s=d.execCommand("createLink",!1,i.address),m=p.anchorNode.parentElement),"a"===m.nodeName.toLowerCase()&&(i.address?s||m.setAttribute("href",i.address):m.setAttribute("href",""),i.text?m.textContent=i.text:m.innerHTML||(m.textContent=i.address||""),m.title=i.title||"",m.target=i.target||"",l||p.selectAllChildren(m))}},{key:"_refreshMarkdownPreview",value:function(){var e=this,t=e.$.input;if(e.$.contentContainer.hasAttribute("split-mode")){var n=t.value;e.$.editableElement.innerHTML=window.marked?window.marked(n):n}}},{key:"_handleImgCaption",value:function(e,t){var n=this;if(t){var a,r=e.closest(".smart-editor-image-container");if(t.caption){if(r||((r=document.createElement("span")).classList.add("smart-editor-image-container"),r.setAttribute("draggable",!1),r.setAttribute("contenteditable",!1),e.hasAttribute("alignment")&&r.setAttribute("alignment",e.getAttribute("alignment")),e.hasAttribute("display")&&r.setAttribute("display",e.getAttribute("display")),e.parentElement.insertBefore(r,e),r.appendChild(e)),(a=r.querySelector(".smart-editor-image-caption"))||((a=document.createElement("span")).setAttribute("contenteditable",!0),a.classList.add("smart-editor-image-caption"),r.appendChild(a)),a.textContent=t.caption,t.focusCaption)return delete n._toolbarItemClick,n._setSelectionRange(a),n._setResizeFrame(),void n.$.editableElement.scrollTo(a.offsetLeft,a.offsetTop)}else!t.caption&&r&&(r.hasAttribute("alignment")&&e.setAttribute("alignment",r.getAttribute("alignment")),r.hasAttribute("display")&&e.setAttribute("display",r.getAttribute("display")),r.parentElement.insertBefore(e,r),r.remove());n._resizeFrameObj&&n._resizeFrameObj.target&&n._setResizeFrame(n._resizeFrameObj.target,!0)}}},{key:"_handleTableInsert",value:function(e){var t,n=this,a=n.editMode;if(e)if("markdown"!==a){var r,o,i,l,s=n._getSelectionRange(),u=s.startContainer;if(e.cells){var c=e.cells,d=[c[1],c[0]];i=d[0],l=d[1]}else i=(t=[parseInt(e.cols),parseInt(e.rows)])[0],l=t[1],r=u.closest&&u.closest(".smart-editor-editable table");if(!r){var p=n.$.editableElement,m=n.$.iframe,f=(m?m.contentWindow:window).getSelection();f.removeAllRanges(),f.addRange(s);var h=n.id+"newTable"+Math.random().toString(36).substr(2,5);o=(m?m.contentDocument:document).execCommand("insertHTML",!1,'<table id="'.concat(h,'"><tbody></tbody></table>')),r=p.querySelector("#"+h)}if(r&&"table"===r.nodeName.toLowerCase()){var v,g=r.querySelector("tbody");for(g?v=Array.from(g.children):(r.innerHTML="<tbody></tbody>",g=r.firstElementChild,v=[]);v.length>l;)v.pop().remove();for(var y=v.length,b=l;y<b;y+=1)v.push(document.createElement("tr"));for(var w=0,_=v.length;w<_;w+=1){for(var k=v[w],C=Array.from(k.children);C.length>i;)C.pop().remove();for(var D=0,x=i;D<x;D+=1){var E=C[D];E||(E=k.appendChild(document.createElement("td")))}k.parentElement||g.appendChild(k)}void 0===e.tableheader?e.tableheader=!!r.querySelector("th"):void 0===e.altrows?e.altrows=r.hasAttribute("alternation"):void 0===e.dashedborders?e.dashedborders=r.hasAttribute("dashed-borders"):void 0===e.resizable&&(e.resizable="false"!==r.getAttribute("resizable")),n._handleTableHeader(r,e.tableheader),e.altrows?r.setAttribute("alternation",""):r.removeAttribute("alternation"),e.dashedborders?r.setAttribute("dashed-borders",""):r.removeAttribute("dashed-borders");var S=e.width,A=e.height;r.style.width=S?S+(S.indexOf("%")<0?"px":""):"",r.style.height=A?A+(A.indexOf("%")<0?"px":""):"",o&&r.removeAttribute("id"),r.setAttribute("aria-rowcount",l),r.setAttribute("aria-colcount",i),r.setAttribute("resizable",e.resizable)}n._setResizeFrame(r)}else n._insertTableMarkdown(e)}},{key:"_insertTableMarkdown",value:function(e){var n=this,a=e.cells,r=t(a?[a[1],a[0]]:[parseInt(e.cols),parseInt(e.rows)],2),o=r[0],i=r[1],l=n.localize("alphabet"),s=n.localize("header"),u=n.localize("column"),c="";if(!1!==e.tableheader){for(var d="",p=Math.max(3,s.length)+3;p>0;)d+="-",p--;for(var m=1;m<=o;m+=1)c+="| ".concat(s," ").concat(m," ");c+="|\n";for(var f=0;f<o;f++)c+="|".concat(d," ");c+="|\n"}for(var h=0;h<i;h++){for(var v=l[Math.max(0,h-1)%l.length].toUpperCase(),g=1;g<=o;g+=1)c+="| ".concat(u," ").concat(v," ").concat(g," ");c+="|\n"}n._insertMarkDown(c)}},{key:"_handleTableSelection",value:function(e){var t=this,n=t.$.editableElement;if(t._tableCell&&t._tableCell.removeAttribute("selected"),"false"!==n.getAttribute("contenteditable"))return e&&["th","td"].indexOf(e.nodeName.toLowerCase())>-1?(t._tableCell=e,void e.setAttribute("selected","")):void delete t._tableCell}},{key:"_getItemOptionsViaWindow",value:function(e){var t=this._windowEditors[e.name];if(t){for(var n=t.children,a={},r=0,o=n.length;r<o;r+=1){var i=n[r].getAttribute("type"),l=n[r].querySelector("[item-editor]"),s=void 0;if(i){if(l instanceof Smart.Input)if(void 0===l.$.input.dataValue&&l.dataSource&&l.dataSource.length){var u=l.dataSource[0];s="string"==typeof u?u:u.value||u.label}else s=l.$.input.dataValue||l.value;else l instanceof Smart.CheckBox?s=l.checked:l instanceof Smart.FileUpload&&(s=l.value);a[i]=s}}return a}}},{key:"_closeToolbarItemDropDown",value:function(e){var t=function(){e.opened||e.remove()};e&&(e.opened?(e.hasAnimation&&(e.removeEventListener("transitionend",t),e.addEventListener("transitionend",t,{once:!0})),e.close()):t())}},{key:"_openToolbarItemDropDown",value:function(e,t){var n=e.getBoundingClientRect();this._setupDropDown(e,t),t.style.width=n.width+"px",t.style.height=n.height+"px",e.contains(t)||e.appendChild(t),t.open()}},{key:"_setupDropDown",value:function(e,t){var n,a=this,r=a.$.inlineToolbar,o=r&&r.contains(e)?a._inlineToolbarItemsObj:a._toolbarItemsObj,i=o?o[e.getAttribute("item-name")]:void 0;i&&(n=i.dataSource),n||(n=[]),t instanceof Smart.ColorInput?t.dropDownClassList=["smart-editor-color-input"]:(t.dropDownClassList=["smart-editor-input"],t.dropDownHeight=300),t.classList.add("smart-editor-item-drop-down"),t.readonly=!0,t.dataSource=n,t.dropDownOpenMode="manual",t.dropDownButtonPosition=a.rightToLeft?"left":"right",void 0!==i.value?t.value=i.name.indexOf("table")>-1?"":i.value+"":t.value=""}},{key:"_toggleToolbar",value:function(e){var t=this,n=t.$.toolbar,a=t.$.contentContainer,r="toggle"===t.toolbarViewMode,o=t.$.toolbarToggleButton,i=t.hasAnimation;n.style.transition=i&&r?"none":"",n.style.height="";var l=n.offsetHeight,s=a.offsetHeight;if(e&&"toggle"===t.toolbarViewMode){if(o.removeAttribute("checked"),!n.hasAttribute("expanded"))return void(n.style.transition="");n.removeAttribute("expanded")}else{if(o.setAttribute("checked",""),n.hasAttribute("expanded"))return n.style.transition="",void(t.$.toolbarItemsSecondary.innerHTML&&t._refreshToolbarItems());n.setAttribute("expanded","")}if(t._refreshToolbarItems(),r){var u=n.offsetHeight,c=t.$.inlineToolbar;c&&c.visible&&c.reposition(),t._resizeFrameObj&&t._setResizeFrame(t._resizeFrameObj.target),n.style.height=l+"px",a.style.height=s+"px",i&&requestAnimationFrame((function(){n.style.transition="",n.style.height=u+"px",a.style.height=s+l-u+"px",requestAnimationFrame((function(){return n.style.height=a.style.height=""}))}))}}},{key:"_predefPropertyGetter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",t=this;Object.defineProperty(t,e,{get:function(){if(t.context===t)return t.properties[e].value;if("markdown"===t.editMode)return t.$.input.value;var n=t.$.editableElement.innerHTML;return t.enableHtmlEncode&&(n=n.replaceAll("<","&lt;").replaceAll(">","&gt;")),n},set:function(n){t.updateProperty(t,t._properties[e],n)}})}},{key:"_handleEditMode",value:function(e){var t=this,n=t.$.input,a=t.$.editableElement,r=t.editMode,o=t._toolbarItemsObj.sourcecode,i=!!o&&o.value;t._closePopups(),"html"===e?i?n.value=a.innerHTML:a.innerHTML=n.value:"markdown"===e&&(i?a.innerHTML=window.marked?window.marked(n.value):n.value:n.value=a.textContent),t.$.contentContainer.hasAttribute("split-mode")||("markdown"===r?i?(n.classList.add("smart-hidden"),a.classList.remove("smart-hidden")):(n.classList.remove("smart-hidden"),a.classList.add("smart-hidden")):i?(n.classList.remove("smart-hidden"),a.classList.add("smart-hidden")):(n.classList.add("smart-hidden"),a.classList.remove("smart-hidden"))),t.$.editableElement.setAttribute("contenteditable","markdown"!==r)}},{key:"_handleInputContent",value:function(e,t){var n=this,a=n.$.editableElement,r=n.$.input,o=n.editMode;if(!n.isRendered&&n.autoLoad){var i=window.localStorage.getItem("smartEditor"+n.id);i&&n.set("value",i)}var l=n.value;void 0===t&&l&&(t=l),void 0!==t?"html"===o?n.$.editableElement.innerHTML=t:n.$.input.value=t:t||"markdown"!==o||(n.$.input.value=n.$.editableElement.textContent),n.$.contentContainer.hasAttribute("split-mode")?"markdown"===o?a.innerHTML=window.marked?window.marked(r.value):r.value:r.value=a.innerHTML.trim():n.classList.contains("preview-mode")&&("markdown"===o?a.innerHTML=window.marked?window.marked(r.value):r.value:r.value=a.innerHTML)}},{key:"_sanitize",value:function(e,t){return this.sanitized?t.replaceAll(/(<[\/]?script[>]?)|([on].*=['"`]?.*['"`]?)|(SRC=['"`]?javascript:['"`]?)/gim,""):t}},{key:"_handleInputElement",value:function(){var e=this,t=e.iframeSettings,n=e.$.contentContainer,a=e.$.container,r=e.$.editableElement,o=e.$.input,i=e.readonly;if(r.contentEditable=!i,o.readonly=i,e._handlePlaceholder(),e._closePopups(),t.enabled?e._handleIframeSettings():a.contains(n)||(a.appendChild(n),r.setAttribute("contenteditable",!0),e.$.iframe&&(e.$.iframe.remove(),e._removeIframeEventListeners(),delete e.$.iframe)),"markdown"===e.editMode){var l=e.$.editableElement;e.$.input.classList.remove("smart-hidden"),l.classList.add("smart-hidden")}}},{key:"_handlePlaceholder",value:function(){var e=this.$.editableElement,t=this.placeholder;t?e.setAttribute("placeholder",t):e.removeAttribute("placeholder")}},{key:"_handleIframeSettings",value:function(){var e=this;if(e.iframeSettings.enabled){var t=e.$.iframe;t||(t=e.$.iframe=document.createElement("iframe")),t.parentElement||e.$.container.appendChild(t),e._handleIframeBody(),e._handleIframeAttributes(),e._handleIframeResources()}}},{key:"_removeIframeEventListeners",value:function(){var e=this,t=e.$.iframe.contentDocument,n=e.$iframe;n&&(n.unlisten("down"),n.unlisten("move"),n.unlisten("up")),t.removeEventListener("dragstart",e._iframeDragStartHandler),t.removeEventListener("dragend",e._iframeDragEndHandler),t.removeEventListener("selectionchange",e._iframeSelectionChangeHandler)}},{key:"_handleIframeBody",value:function(){var e=this,t=e.$.iframe.contentDocument,n=t.body;if(n){var a=e.$iframe;n.classList.add("smart-editor","smart-element","smart-editor-iframe-body"),n.appendChild(e.$.contentContainer),a||(a=e.$iframe=Smart.Utilities.Extend(n)),e._iframeDownHandler=function(t){return e._documentDownHandler.call(e,t)},e._iframeMoveHandler=function(t){return e._documentMoveHandler.call(e,t)},e._iframeUpHandler=function(t){return e._documentUpHandler.call(e,t)},e._iframeDragStartHandler=function(t){return e._dragStartHandler.call(e,t)},e._iframeDragEndHandler=function(t){return e._dragEndHandler.call(e,t)},e._iframeSelectionChangeHandler=function(t){return e._selectionChangeHandler.call(e,t)},e._removeIframeEventListeners(),a.listen("down",e._iframeDownHandler),a.listen("move",e._iframeMoveHandler),a.listen("up",e._iframeUpHandler),t.addEventListener("dragstart",e._iframeDragStartHandler),t.addEventListener("dragend",e._iframeDragEndHandler),t.addEventListener("selectionchange",e._iframeSelectionChangeHandler)}}},{key:"_handleIframeAttributes",value:function(){var t=this,n=t.$.iframe,a=t.iframeSettings.attributes;if(n&&a&&"object"==e(a)){var r=t.$.editableElement;for(var o in a){var i=a[o];"readonly"===o?r.setAttribute("contenteditable",!i):n[o]=i}}}},{key:"_handleIframeResources",value:function(){var t=this.iframeSettings.resources,n=this.$.iframe;if(n&&"object"==e(t)){var a,r=document.styleSheets,o=n.contentDocument,i=o.head,l=o.body;for(var s in r)if(r[s].href.indexOf("smart.default.css")>-1){a=r[s];break}for(var u in a&&n.contentDocument.head.appendChild(a.ownerNode.cloneNode()),t){var c=u,d=t[u],p=void 0;if((c+"").indexOf("style")>-1||"link"===c?((p=document.createElement("link")).rel="stylesheet",p.type="text/css","string"==typeof d&&(p.href=d)):"script"===c&&((p=document.createElement("script")).type="text/javascript","string"==typeof d&&(p.src=d)),"object"==e(d)&&"[object Object]"===d.toString())for(var m in d)p[m]=d[m];"module"===p.type?l.appendChild(p):i.appendChild(p)}}}},{key:"_handleMaxCharCount",value:function(){var e=this,t=e.$.input;null!==e.maxCharCount?t.maxLength=e.maxCharCount:t.removeAttribute("maxlength")}},{key:"_getToolbarItems",value:function(e,t){var n=this;e||(e=n.$.toolbar),t||(t=n.toolbarItems);for(var a=e===n.$.toolbar?"toolbar":"inlineToolbar",r=e.querySelectorAll(".smart-editor-toolbar-item"),o=document.createDocumentFragment(),i=0,l=t.length;i<l;i+=1){var s=n._getToolbarItemDetails(a,t[i]),u=s.name,c=s.type,d=r[i];if(d||(d=document.createElement("div")).classList.add("smart-editor-toolbar-item"),"color-input"===c)d.innerHTML||(d.innerHTML='<div class="smart-editor-item-action-button" item-name="'.concat(u,'"></div>\n                                               <div class="smart-editor-item-drop-down-button"></div>'));else if("custom"===c){var p=s.template;p&&p.closest&&!d.contains(p)?d.appendChild(p):"string"!=typeof p||d.innerHTML?"function"==typeof p&&p(d,s):d.innerHTML=p||""}else"toggle"===c&&(s.value?d.setAttribute("checked",""):d.removeAttribute("checked"),d.innerHTML&&(d.innerHTML=""));s.disabled?d.setAttribute("disabled",""):d.removeAttribute("disabled"),n._setItemValue(d,s),s.title?d.setAttribute("title",s.title):d.removeAttribute("title"),d.setAttribute("item-name",u),d.setAttribute("item-type",c),d.style.width=s.width||"",o.appendChild(d)}return o}},{key:"_setItemValue",value:function(e,t){var n=t.value;e&&t&&("button"===t.type?n?e.setAttribute("checked",""):e.removeAttribute("checked"):(n||"color-input"!==t.type?["fontname","formats"].indexOf(t.name)>-1&&(n=this.localize(t.value)||t.value):n="transparent",n?(e.setAttribute("item-value",n),e.style.setProperty("--item-value",n)):(e.removeAttribute("item-value"),e.style.removeProperty("--item-value"))))}},{key:"_refreshToolbarItems",value:function(e){var t=this,n=t.$.toolbar,a=t.$.toolbarItemsPrimary,r=t.$.toolbarItemsSecondary;if(a.scrollTop=a.scrollLeft=0,e)a.appendChild(e);else{for(var o=Array.from(r.children),i=document.createDocumentFragment(),l=o.length,s=0;s<l;s+=1)i.appendChild(o[s]);l>0&&a.appendChild(i)}if("toggle"===t.toolbarViewMode){var u=a.offsetHeight;if(n.hasAttribute("expanded")){var c=[];e:for(;a.scrollHeight>u;){var d=a.lastElementChild;if(!d)break e;c.push(d),d.remove()}c.reverse();for(var p=0,m=c.length;p<m;p+=1)r.appendChild(c[p])}else a.scrollHeight===u&&t.$.toolbarToggleButton.classList.add("smart-visibility-hidden")}}},{key:"_resizeHandler",value:function(e){var t=this,n=t.$.inlineToolbar;if(e.target===t){if(n&&n.visible&&n.reposition(),"toggle"===t.toolbarViewMode){var a=t.$.toolbarItemsPrimary,r=t.$.toolbarItemsSecondary,o=t.$.toolbar;t.$.toolbar.hasAttribute("expanded")&&t._refreshToolbarItems();var i=t.$.toolbarToggleButton;a.scrollHeight!==a.offsetHeight||r.children.length?i.classList.remove("smart-visibility-hidden"):(i.classList.add("smart-visibility-hidden"),o.removeAttribute("expanded"))}t._resizeFrameObj&&t._setResizeFrame(t._resizeFrameObj.target)}}},{key:"_setToolbarVisibility",value:function(){var e=this,t=e.$.toolbar,n=e.$.toolbarToggleButton;"toggle"!==e.toolbarViewMode||n.hasAttribute("checked")?t.setAttribute("expanded",""):t.removeAttribute("expanded")}},{key:"_getToolbarItemDetails",value:function(t,n){var a,r=this,o=r["_".concat(t,"ItemsObj")];if(a=(a="string"==typeof n?n:"object"==e(n)&&n.name?n.name+"":"").toLowerCase(),o){if(void 0!==o[a])return o[a]}else o=r["_".concat(t,"ItemsObj")]={};var i=o[a]={};return i.title=n.title||r.localize(a),i.name=a,i.toolbarName=t,r._setItemType(n,i,a),r._setItemData(n,i,a),r._setItemTemplate(n,i,a),r._setItemSpecifics(n,i,a),i}},{key:"_setItemType",value:function(e,t,n){var a;if(t){switch(n){case"sourcecode":case"splitmode":case"fullscreen":a="toggle";break;case"alignment":case"fontname":case"fontsize":case"formats":case"tablerows":case"tablecolumns":case"tablevalign":case"tablestyle":a="drop-down";break;case"backgroundcolor":case"fontcolor":a="color-input";break;case"bold":case"italic":case"underline":case"strikethrough":case"delete":case"redo":case"undo":case"indent":case"outdent":case"openlink":case"editlink":case"createlink":case"removelink":case"hyperlink":case"cut":case"copy":case"paste":case"image":case"lowercase":case"uppercase":case"print":case"caption":case"clearformat":case"table":case"tableheader":case"orderedlist":case"unorderedlist":case"subscript":case"superscript":a="button";break;default:a="string"==typeof e?"delimiter":"custom"}t.type=a}}},{key:"_setItemData",value:function(t,n,a){var r,o;if(n&&t){var i=n.type,l=t.width;if("drop-down"===i||"color-input"===i){if("object"==e(t)&&(r=t.dataSource,void 0!==t.value&&(o=t.value+"")),r&&Array.isArray(r)||(r=this._getDefaultDataSource(a,n)),void 0===o&&("fontsize"===n.name&&(o=parseInt(window.getComputedStyle(this.$.editableElement).fontSize)),isNaN(o)&&r.length)){var s=r[0];o=s["alignment"===a?"value":"label"]||s}a.indexOf("table")>-1&&(o="")}void 0!==l&&("number"==typeof l?l+="px":(l+="").includes("%")||(l=parseFloat(t.width),l=isNaN(l)?"":l+"px")),n.dataSource=r,n.value=o,n.disabled=!!t.disabled,n.width=l}}},{key:"_setItemSpecifics",value:function(t,n,a){if(n&&"object"==e(t)){var r=t.editor,o=n.editor;if(o||(o=n.editor={}),r)switch(a){case"createlink":case"removelink":case"hyperlink":"string"==typeof r.address&&(o.address=r.address),"string"==typeof r.text&&(o.text=r.text),void 0!==r.target&&(o.target=r.target+"");break;case"image":"string"==typeof r.allowedTypes&&(o.allowedTypes=r.allowedTypes),"string"==typeof r.uploadUrl&&(o.uploadUrl=r.uploadUrl),"string"==typeof r.removeUrl&&(o.removeUrl=r.removeUrl),"string"==typeof r.path&&(o.path=r.path),void 0!==r.width&&(o.path="string"==typeof r.width?r.width:r.width+"px"),void 0!==r.height&&(o.height="string"==typeof r.height?r.height:r.height+"px"),"string"==typeof r.display&&(o.display="block"===r.display?"block":"inline"),"string"==typeof r.path&&(o.path=r.path)}}}},{key:"_getDefaultDataSource",value:function(e,t){var n=this,a=[];switch(e){case"alignment":a=[{label:n.localize("alignLeft"),value:"left",icon:"editor-icon"},{label:n.localize("alignCenter"),value:"center",icon:"editor-icon"},{label:n.localize("alignRight"),value:"right",icon:"editor-icon"}],t&&"toolbar"===t.toolbarName&&a.push({label:n.localize("alignJustify"),value:"justify",icon:"editor-icon"});break;case"display":a=[{label:n.localize("displayInline"),value:"inline"},{label:n.localize("displayBlock"),value:"block"}];break;case"fontname":["segoeUi","arial","georgia","impact","tahoma","timesNewRoman","verdana"].forEach((function(e){a.push({label:n.localize(e),value:e})}));break;case"fontsize":["8","10","12","14","18","24","36"].forEach((function(e){a.push({label:e,value:e})}));break;case"formats":["p","pre","blockquote","h1","h2","h3","h4"].forEach((function(e){a.push({label:n.localize(e),value:e})}));break;case"backgroundcolor":case"fontcolor":["#000000","#FFFFFF","#D50000","#E67C73","#F4511E","#F6BF26","#33B679","#0B8043","#039BE5","#3F51B5","#7986CB","#8E24AA","#616161",""].forEach((function(e){a.push({label:e,value:e})}));break;case"target":a=[{label:n.localize("linkBlankDescr"),value:"_blank"},{label:n.localize("linkSelfDescr"),value:"_self"},{label:n.localize("linkParentDescr"),value:"_parent"},{label:n.localize("linkTopDescr"),value:"_top"},{label:n.localize("linkCustomDescr"),value:""}];break;case"tablerows":a=[{label:n.localize("insertRowBefore"),value:"insertRowBefore",icon:"editor-icon"},{label:n.localize("insertRowAfter"),value:"insertRowAfter",icon:"editor-icon"},{label:n.localize("deleteRow"),value:"deleteRow",icon:"editor-icon"}];break;case"tablecolumns":a=[{label:n.localize("insertColumnLeft"),value:"insertColumnLeft",icon:"editor-icon"},{label:n.localize("insertColumnRight"),value:"insertColumnRight",icon:"editor-icon"},{label:n.localize("deleteColumn"),value:"deleteColumn",icon:"editor-icon"}];break;case"tablevalign":a=[{label:n.localize("alignTop"),value:"top"},{label:n.localize("alignMiddle"),value:"middle"},{label:n.localize("alignBottom"),value:"bottom"}];break;case"tablestyle":a=[{label:n.localize("dashedborders"),value:"dashedborders"},{label:n.localize("altrows"),value:"altrows"}]}return a}},{key:"_setItemTemplate",value:function(e,t){var n=e.template;t&&(n?(n&&n.closest?n="content"in n?document.importNode(n.content,!0):n:"function"==typeof n?n=n.bind(this):"string"==typeof n&&(n=document.getElementById(n)||n),t.template=n):delete t.template)}},{key:"_setFocusable",value:function(){var e=this,t=e.$.editableElement;if(e.disabled||e.unfocusable)t&&t.removeAttribute("tabindex");else{var n=e.tabIndex>0?e.tabIndex:0;t&&(t.tabIndex=n)}}},{key:"_selectStartHandler",value:function(e){var t=this._resizeFrameObj,n=this._inlineToolbarClickObj;(t&&t.resizeDetails||n&&n.resizeDetails)&&e.preventDefault()}},{key:"_selectionChangeHandler",value:function(e){var t=this,n=e.target.getSelection();if(t.$.contentContainer.contains(n.focusNode)){if(t._ignoreSelectionChange)return;t._selectionChangeFired=!0,t._setSelectionRange(),t._updateToolbarItems(),delete t._selectionChangeFired}}}],[{key:"properties",get:function(){return{autoSave:{value:!1,type:"boolean"},autoLoad:{value:!1,type:"boolean"},autoSaveInterval:{value:1e3,type:"number"},chartCountFormatFunction:{value:null,type:"function?"},dataExport:{value:{style:{value:null,type:"object"},fileName:{value:"smartEditor",type:"string?"},pageOrientation:{value:"portrait",type:"string"}},type:"object"},editMode:{allowedValues:["html","markdown"],value:"html",type:"string"},enableHtmlEncode:{value:!1,type:"boolean"},enableTabKey:{value:!1,type:"boolean"},innerHTML:{type:"string",validator:"_sanitize",reflectToAttribute:!1},inlineToolbarOffset:{value:[0,-5],type:"array"},iframeSettings:{value:{attributes:{value:null,type:"object?"},enabled:{value:!1,type:"boolean"},resources:{value:null,type:"object?"}},type:"object"},placeholder:{value:"",type:"string"},showCharCount:{value:!1,type:"boolean"},splitModeRefreshTimeout:{value:100,type:"number"},toolbarItems:{value:["bold","italic","underline","|","formats","alignment","orderedList","unorderedList","|","hyperlink","image","|","sourceCode","redo","undo"],reflectToAttribute:!1,type:"array"},toolbarViewMode:{allowedValues:["toggle","multiRow","scroll"],value:"toggle",type:"string"},toolbarSticky:{value:!1,type:"boolean"},value:{value:"",type:"string",validator:"_sanitize",reflectToAttribute:!1},maxCharCount:{value:null,type:"number?"},messages:{extend:!0,value:{en:{invalidValue:"{{elementType}}: Invalid {{property}} value. {{property}} should be of type {{typeOne}} or {{typeTwo}}.",incorrectArgument:"{{elementType}}: Incorrect argument {{argumentName}} in method {{methodName}}.",ok:"Ok",cancel:"Cancel",alignLeft:"Align Left",alignCenter:"Align Center",alignRight:"Align Right",alignJustify:"Align Justify",segoeUi:"Segoe UI",arial:"Arial",georgia:"Georgia",impact:"Impact",tahoma:"Tahoma",timesNewRoman:"Times New Roman",verdana:"Verdana",p:"Paragraph",pre:"Code",code:"Code",blockquote:"Quotation",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",orderedlist:"Ordered List",unorderedlist:"Unordered List",subscript:"Subscript",superscript:"Superscript",alignment:"Alignments",fontname:"Font Name",fontsize:"Font Size",formats:"Formats",backgroundcolor:"Background Color",fontcolor:"Font Color",redo:"Redo",undo:"Undo",indent:"Indent",outdent:"Outdent",createlink:"Hyperlink",hyperlink:"Hyperlink",editlink:"Hyperlink",removelink:"Remove link",openlink:"Open link",image:"Image",table:"Table",lowercase:"Lower Case",uppercase:"Upper Case",print:" Print",cut:" Cut",copy:" Copy",paste:" Paste",clearformat:"Clear Format",fullscreen:"Full Screen",restore:"Restore Screen",sourcecode:"Source Code",preview:"Preview",splitmode:"Split Editor",address:"Web Address",text:"Display Text",addressPlaceholder:"http://example.com",textPlaceholder:"Enter Text",targetPlaceholder:"Select Target",titlePlaceholder:"Enter a Title",urlPlaceholder:"http://example.com/image.png",captionPlaceholder:"Caption",altPlaceholder:"Alternative Text",widthPlaceholder:"auto",heightPlaceholder:"auto",target:"Open Link in",linkBlankDescr:"New Window",linkSelfDescr:"Same Window",linkParentDescr:"Parent Frame",linkTopDescr:"Full Body of the Window",linkCustomDescr:"Custom Frame Name",title:"Title",url:"You can also provide the URL to an image",width:"Width",height:"Height",alt:"Alternative Text",caption:"Caption",display:"Display",displayPlaceholder:"Display",displayBlock:"Block",displayInline:"Inline",draggable:"Enable Dragging",resizable:"Enable Resizing",browse:"Browse",connectionError:"{{elementType}}: File Upload requires connection to the server.",wrongItemIndex:"{{elementType}}: There is no file with such an index in the list of uploaded files.",tooLongFileName:"{{elementType}}: File name is too long.",totalFiles:"Total files: ",cancelFile:"Cancel File",dashedborders:"Dashed Borders",altrows:"Alternate Rows",insertRowBefore:"Insert Row Before",insertRowAfter:"Insert Row After",deleteRow:"Delete Row",insertColumnLeft:"Insert Column Left",insertColumnRight:"Insert Column Right",deleteColumn:"Delete Column",alignTop:"Align Top",alignMiddle:"Align Middle",alignBottom:"Align Bottom",delete:"Delete",tablerows:"Table Rows",tablecolumns:"Table Columns",tablevalign:"Table Cell Vertical Align",tablestyle:"Table Style",tableheader:"Table Header",buttonLabel:"Custom Table",cols:"Columns",rows:"Rows",alphabet:"abcdefghijklmnopqrstuvwxyz",header:"Header",column:"Column"}}},sanitized:{value:!1,type:"boolean"}}}},{key:"listeners",get:function(){return{"document.down":"_documentDownHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler","document.dragstart":"_dragStartHandler","document.selectstart":"_selectStartHandler","document.selectionchange":"_selectionChangeHandler","container.dragend":"_dragEndHandler","container.change":"_changeHandler","container.beforeinput":"_beforeInputHandler","container.input":"_afterInputHandler","contentContainer.keydown":"_editableElementKeyDownHandler","contentContainer.keyup":"_updateOnInputChange","contentContainer.paste":"_updateOnInputChange","input.focus":"_editableElementFocusHandler","input.blur":"_editableElementBlurHandler","editableElement.focus":"_editableElementFocusHandler","editableElement.blur":"_editableElementBlurHandler","editableElement.wheel":"_editableElementWheelHandler","editableElement.move":"_editableElementMoveHandler",resize:"_resizeHandler"}}},{key:"requires",get:function(){return{"Smart.Button":"smart.button.js","Smart.Window":"smart.window.js","Smart.Tooltip":"smart.tooltip.js"}}},{key:"styleUrls",get:function(){return["smart.editor.css"]}}]),s}()),Smart("smart-table-picker",function(e){l(n,Smart.BaseElement);var t=u(n);function n(){return a(this,n),t.apply(this,arguments)}return o(n,[{key:"template",value:function(){return'<div id="container" role="presentation">\n                    <div id="tableGrid" class="smart-table-picker-grid"></div>\n                    <div class="smart-table-picker-separator"></div>\n                    <smart-button id="tableButton" class="smart-table-picker-button"></smart-button>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,t,a){var r=this;switch(e){case"value":r._selectCell(a,t,!0);break;case"rows":case"columns":r._createTableGrid();break;case"messages":r._setTableButton();break;default:i(d(n.prototype),"propertyChangedHandler",this).call(this,e,t,a)}}},{key:"render",value:function(){var e=this;e._isMobile=Smart.Utilities.Core.isMobile,e._createTableGrid(),e._setTableButton(),i(d(n.prototype),"render",this).call(this)}},{key:"_createTableGrid",value:function(){for(var e=this,t=e.$.tableGrid,n=e.columns,a=e.rows,r=t.children,o=document.createDocumentFragment(),i=r.length;i>a;){var l=r[0];if(!l)break;l.remove(),i--}for(var s=i,u=a;s<u;s+=1)o.appendChild(document.createElement("div"));o.children.length&&t.appendChild(o);for(var c=0,d=a;c<d;c+=1){for(var p=r[c],m=p.children,f=m.length;f>n&&m[0];)m[0].remove(),f--;for(var h=f,v=n;h<v;h+=1){var g=document.createElement("span");g.classList.add("smart-table-picker-cell"),p.appendChild(g)}}e._selectCell(e.value)}},{key:"_cellOver",value:function(e){var t=this,n=e.target,a=[];if(t.$.tableGrid.contains(n)){var r=n.closest(".smart-table-picker-cell");if(r){var o=r.parentElement,i=Array.from(o.children);a[0]=Math.max(0,Array.from(t.$.tableGrid.children).indexOf(o)+1),a[1]=Math.max(0,i.indexOf(r)+1),t._selectCell(a,t.value,"click"===e.type)}}else t._selectCell(t.value)}},{key:"_cellLeave",value:function(){this._selectCell(this.value)}},{key:"_selectCell",value:function(e,t,n){var a=this,r=a.$.tableGrid,o=Array.from(r.children),i=o.length,l=0,s=0;e&&(l=e[0]||0,s=e[1]||0);for(var u=0,c=i;u<c;u+=1){var d=o[u].children;if(l<u+1)for(var p=0,m=d.length;p<m;p+=1)d[p].removeAttribute("selected");else for(var f=0,h=d.length;f<h;f+=1)s>=f+1?d[f].setAttribute("selected",""):d[f].removeAttribute("selected")}r.setAttribute("value",l+"x"+s),n&&(void 0===t&&(t=a.value),a.set("value",[l,s]),t[0]===l&&t[1]===s||a.$.fireEvent("change",{value:e,oldValue:t}))}},{key:"_setTableButton",value:function(){this.$.tableButton.innerHTML=this.localize("buttonLabel")}}],[{key:"properties",get:function(){return{columns:{value:10,type:"number"},messages:{extend:!0,value:{en:{buttonLabel:"Insert Table"}}},rows:{value:3,type:"number"},value:{value:[1,1],type:"array"}}}},{key:"listeners",get:function(){return{"tableGrid.mouseover":"_cellOver","tableGrid.mouseleave":"_cellLeave","tableGrid.click":"_cellOver"}}}]),n}())},510:()=>{function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function t(e,n,a){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,n,a||e)}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function a(e){var t=s();return function(){var n,a=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return r(this,n)}}function r(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?o(e):t}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e){var t="function"==typeof Map?new Map:void 0;return(i=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return l(e,arguments,c(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),u(a,e)})(e)}function l(e,t,n){return(l=s()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var r=new(Function.bind.apply(e,a));return n&&u(r,n.prototype),r}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}!function(){var l="9.1.27",s=[],u="Smart";if(window[u]&&window[u].Version){if(window[u].Version===l)return;if(window[u].Version!==l)u+=l;else for(var m=2;window[u];)u+=m.toString(),m++}var h=navigator.userAgent.indexOf("Edge")>-1&&navigator.appVersion.indexOf("Edge")>-1;document.elementsFromPoint||(document.elementsFromPoint=document.msElementsFromPoint);var v=function(){function e(){p(this,e)}return f(e,null,[{key:"isBoolean",value:function(e){return"boolean"==typeof e}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isArray",value:function(e){return Array.isArray(e)}},{key:"isObject",value:function(e){return e&&("object"==d(e)||this.isFunction(e))||!1}},{key:"isDate",value:function(e){return e instanceof Date}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"isNumber",value:function(e){return"number"==typeof e}},{key:"getType",value:function(e){var t=this,n=["Boolean","Number","String","Function","Array","Date","Object"].find((function(n){if(t["is"+n](e))return n}));return n?n.toLowerCase():void 0}}]),e}(),g=function(){function e(){p(this,e)}return f(e,null,[{key:"animate",value:function(e,t,n,a){var r=e;if(r&&r instanceof HTMLElement!=0){if(0===r.getElementsByClassName("smart-ripple").length){var o=document.createElement("span");o.classList.add("smart-ripple"),o.setAttribute("role","presentation");var i=!0,l=null;if(window[u].EnableShadowDOM&&r.enableShadowDOM&&!0!==r.isInShadowDOM){for(var s=0;s<r.shadowRoot.host.shadowRoot.children.length;s++)"link"!==r.shadowRoot.host.shadowRoot.children[s].tagName.toLowerCase()&&(l=r.shadowRoot.host.shadowRoot.children[s]);r.shadowRoot.host.shadowRoot.querySelector(".smart-ripple")&&(i=!1)}else l=r.firstElementChild;i&&(l&&!l.noRipple&&l.offsetHeight>0?l.appendChild(o):r.appendChild(o))}var c=null;if(c=window[u].EnableShadowDOM&&r.shadowRoot?r.shadowRoot.host.shadowRoot.querySelector(".smart-ripple"):r.getElementsByClassName("smart-ripple")[0]){c.innerHTML="",c.classList.remove("smart-animate"),c.style.height=c.style.width=Math.max(r.offsetHeight,r.offsetWidth)+"px";var d=window.getComputedStyle(c.parentElement),p=parseInt(d.borderLeftWidth)||0,m=parseInt(d.borderTopWidth)||0,f=r.getBoundingClientRect(),h=t-(f.left+window.pageXOffset)-c.offsetWidth/2-p,v=n-(f.top+window.pageYOffset)-c.offsetHeight/2-m;c.style.left=h+"px",c.style.top=v+"px",c.classList.add("smart-animate"),c.addEventListener("animationend",(function e(){c.parentElement&&c.parentElement.removeChild(c),a&&a(),c.removeEventListener("animationend",e),c.removeEventListener("animationcancel",e)})),c.addEventListener("animationcancel",(function e(){c.parentElement&&c.parentElement.removeChild(c),a&&a(),c.removeEventListener("animationcancel",e),c.removeEventListener("animationend",e)}))}}}}]),e}(),y=function(){function e(){p(this,e)}return f(e,null,[{key:"easeInQuad",value:function(e,t,n,a){return n*(e/=a)*e+t}},{key:"easeOutQuad",value:function(e,t,n,a){return-n*(e/=a)*(e-2)+t}},{key:"easeInOutQuad",value:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},{key:"easeInCubic",value:function(e,t,n,a){return n*(e/=a)*e*e+t}},{key:"easeOutCubic",value:function(e,t,n,a){return n*((e=e/a-1)*e*e+1)+t}},{key:"easeInOutCubic",value:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}},{key:"easeInQuart",value:function(e,t,n,a){return n*(e/=a)*e*e*e+t}},{key:"easeOutQuart",value:function(e,t,n,a){return-n*((e=e/a-1)*e*e*e-1)+t}},{key:"easeInOutQuart",value:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}},{key:"easeInQuint",value:function(e,t,n,a){return n*(e/=a)*e*e*e*e+t}},{key:"easeOutQuint",value:function(e,t,n,a){return n*((e=e/a-1)*e*e*e*e+1)+t}},{key:"easeInOutQuint",value:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},{key:"easeInSine",value:function(e,t,n,a){return-n*Math.cos(e/a*(Math.PI/2))+n+t}},{key:"easeOutSine",value:function(e,t,n,a){return n*Math.sin(e/a*(Math.PI/2))+t}},{key:"easeInOutSine",value:function(e,t,n,a){return-n/2*(Math.cos(Math.PI*e/a)-1)+t}},{key:"easeInExpo",value:function(e,t,n,a){return 0===e?t:n*Math.pow(2,10*(e/a-1))+t}},{key:"easeOutExpo",value:function(e,t,n,a){return e===a?t+n:n*(1-Math.pow(2,-10*e/a))+t}},{key:"easeInOutExpo",value:function(e,t,n,a){return 0===e?t:e===a?t+n:(e/=a/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t}},{key:"easeInCirc",value:function(e,t,n,a){return-n*(Math.sqrt(1-(e/=a)*e)-1)+t}},{key:"easeOutCirc",value:function(e,t,n,a){return n*Math.sqrt(1-(e=e/a-1)*e)+t}},{key:"easeInOutCirc",value:function(e,t,n,a){return(e/=a/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t}},{key:"easeInElastic",value:function(e,t,n,a){var r=1.70158,o=0,i=n;return 0===e?t:1==(e/=a)?t+n:(o||(o=.3*a),i<Math.abs(n)?(i=n,r=o/4):r=o/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/o)+t)}},{key:"easeOutElastic",value:function(e,t,n,a){var r=1.70158,o=0,i=n;return 0===e?t:1==(e/=a)?t+n:(o||(o=.3*a),i<Math.abs(n)?(i=n,r=o/4):r=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*a-r)*(2*Math.PI)/o)+n+t)}},{key:"easeInOutElastic",value:function(e,t,n,a){var r=1.70158,o=0,i=n;return 0===e?t:2==(e/=a/2)?t+n:(o||(o=a*(.3*1.5)),i<Math.abs(n)?(i=n,r=o/4):r=o/(2*Math.PI)*Math.asin(n/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/o)*-.5+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/o)*.5+n+t)}},{key:"easeInBack",value:function(e,t,n,a,r){return void 0===r&&(r=1.70158),n*(e/=a)*e*((r+1)*e-r)+t}},{key:"easeOutBack",value:function(e,t,n,a,r){return void 0===r&&(r=1.70158),n*((e=e/a-1)*e*((r+1)*e+r)+1)+t}},{key:"easeInOutBack",value:function(e,t,n,a,r){return void 0===r&&(r=1.70158),(e/=a/2)<1?n/2*(e*e*((1+(r*=1.525))*e-r))+t:n/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t}},{key:"easeInBounce",value:function(e,t,n,a){return n-this.easeOutBounce(a-e,0,n,a)+t}},{key:"easeOutBounce",value:function(e,t,n,a){return(e/=a)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}},{key:"easeInOutBounce",value:function(e,t,n,a){return e<a/2?.5*this.easeInBounce(2*e,0,n,a)+t:.5*this.easeOutBounce(2*e-a,0,n,a)+.5*n+t}}]),e}(),b=function(){function e(){p(this,e)}return f(e,null,[{key:"isMobile",get:function(){return/(iphone|ipod|ipad|android|iemobile|blackberry|bada)/.test(window.navigator.userAgent.toLowerCase())||["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}},{key:"Browser",get:function(){var e,t=function(t){var n=t.indexOf(e);if(-1!==n){var a=t.indexOf("rv:");return"Trident"===e&&-1!==a?parseFloat(t.substring(a+3)):parseFloat(t.substring(n+e.length+1))}},n={};return n[function(){for(var t=[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"IE"},{string:navigator.userAgent,subString:"Trident",identity:"IE"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}],n=0;n<t.length;n++){var a=t[n].string;if(e=t[n].subString,-1!==a.indexOf(t[n].subString))return t[n].identity}return"Other"}()]=!0,n.version=t(navigator.userAgent)||t(navigator.appVersion)||"Unknown",n}},{key:"toCamelCase",value:function(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}},{key:"toDash",value:function(e){return e.split(/(?=[A-Z])/).join("-").toLowerCase()}},{key:"unescapeHTML",value:function(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}},{key:"escapeHTML",value:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,(function(e){return t[e]}))}},{key:"createGUID",value:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{key:"getScriptLocation",value:function(){return"./"!==window[u].BaseUrl?window[u].BaseUrl:function(){if(document.currentScript){var e=document.currentScript.src,t=e.lastIndexOf("/");return e.substring(0,t)}var n=new Error,a="(",r=")";if(Smart.Utilities.Core.Browser.Safari&&(a="@",r="\n"),n.fileName)return n.fileName.replace("/smart.element.js","");var o=n.stack.split(a);return(o=(o=(o=o[1]).split(r)[0]).split(":")).splice(-2,2),(o=o.join(":")).replace("/smart.element.js","")}()}},{key:"CSSVariablesSupport",value:function(){return window.CSS&&window.CSS.supports&&window.CSS.supports("(--fake-var: 0)")}},{key:"assign",value:function(e,t){var n=this,a=function(e){return e&&"object"==d(e)&&!Array.isArray(e)&&null!==e},r=Object.assign({},e);return a(e)&&a(t)&&Object.keys(t).forEach((function(o){var i,l,s;a(t[o])&&o in e?r[o]=n.assign(e[o],t[o]):Object.assign(r,(i={},l=o,s=t[o],l in i?Object.defineProperty(i,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[l]=s,i))})),r}},{key:"html",value:function(e,t){var n="",a=e.childNodes;if(!t){for(var r,o=0,i=a.length;o<i&&(r=a[o]);o++)if(r instanceof HTMLElement||r.tagName&&["strong"].indexOf(r.tagName.toLowerCase())>=0){for(var l,s=r.tagName.toLowerCase(),u=r.attributes,c="<"+s,d=0;l=u[d];d++)c+=" "+l.name+'="'+l.value.replace(/[&\u00A0"]/g,T.Core.escapeHTML)+'"';c+=">",["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"][s]&&(n+=c),n=n+c+this.html(r)+"</"+s+">"}else{if(8===r.nodeType)continue;n+=r.textContent.replace(/[&\u00A0<>]/g,T.Core.escapeHTML)}return n}e.innerHTML=t.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>")}}]),e}(),w=[],_=function(){function e(){p(this,e)}return f(e,null,[{key:"watch",value:function(t){switch(t.nodeName.toLowerCase()){case"smart-grid":case"smart-kanban":case"smart-table":case"smart-pivot-table":case"smart-scheduler":case"smart-tabs":case"smart-card-view":case"smart-list-box":case"smart-combo-box":case"smart-drop-down-list":case"smart-calendar":case"smart-gauge":case"smart-numeric-text-box":case"smart-menu":case"smart-tree":w.push(t);break;default:return}e.start()}},{key:"start",value:function(){e.isStarted||(e.isStarted=!0,e.interval&&clearInterval(e.interval),0===w.length||document.hidden?e.isStarted=!1:e.interval=setInterval((function(){e.observe()}),100))}},{key:"stop",value:function(){e.isStarted=!1,e.interval&&clearInterval(e.interval)}},{key:"observeElement",value:function(t){var n=t;if("test"===window.Smart.Mode||document.hidden)e.interval&&clearInterval(e.interval);else{var a=t._computedStyle||"resize"!==n.hasStyleObserver?document.defaultView.getComputedStyle(n,null):{},r=!0,o="resize"!==n.hasStyleObserver?["paddingLeft","paddingRight","paddingTop","paddingBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","display","visibility","font-size","font-family","font-style","font-weight","max-height","min-height","max-width","min-width","overflow","overflow-x","overflow-y"]:[];if(t.styleProperties&&(o=o.concat(t.styleProperties)),t.observableStyleProperties&&(o=t.observableStyleProperties),n._styleInfo){if(t.isHidden||"none"!==a.display&&(0!==t.offsetWidth&&0!==t.offsetHeight||(t.isHidden=!0)),t.isHidden){if(t.visibilityChangedHandler(),t.isHidden)return;r=!1}for(var i=[],l=0;l<o.length;l++){var s=o[l],u=s.startsWith("--")?a.getPropertyValue(s):a[s];n._styleInfo[s]!==u&&(i[s]={oldValue:n._styleInfo[s],value:u},i.length++),n._styleInfo[s]=u}i.length>0&&(n.$.fireEvent("styleChanged",{styleProperties:i},{bubbles:!1,cancelable:!0}),i.display&&r&&n.$.fireEvent("resize",n,{bubbles:!1,cancelable:!0}))}else{n._styleInfo=[];for(var c=0;c<o.length;c++){var d=o[c],p=d.startsWith("--")?a.getPropertyValue(d):a[d];n._styleInfo[d]=p}}}}},{key:"observe",value:function(){for(var e=0;e<w.length;e++){var t=w[e];this.observeElement(t)}}},{key:"unwatch",value:function(t){e.stop();var n=w.indexOf(t);-1!==n&&w.splice(n,1),e.start()}}]),e}(),k=[],C=[],D=["resize","down","up","move","tap","taphold","swipeleft","swiperight","swipetop","swipebottom"],x=function(){function e(t){p(this,e);var n=this;n.target=t,n.$target=new S(t),n.$document=t.$document?t.$document:new S(document),n.id=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase();var a={handlers:{},boundEventTypes:[],listen:n.listen.bind(n),unlisten:n.unlisten.bind(n)};return n.tapHoldDelay=750,n.swipeMin=10,n.swipeMax=5e3,n.swipeDelay=1e3,n.tapHoldDelay=750,n.inputEventProperties=["clientX","clientY","pageX","pageY","screenX","screenY"],D.forEach((function(e){a[e]=function(t){a.handlers[e]=t},n[e]=function(e){if(!a.handlers[e.type]){if(("mousemove"===e.type||"pointermove"===e.type||"touchmove"===e.type)&&a.handlers.move){var t=n.createEvent(e,"move");a.handlers.move(t)}return!0}return a.handlers[e.type](e)}})),n.listen(),n.handlers=a.handlers,a}return f(e,[{key:"listen",value:function(e){var t=this;if("resize"===e&&t.target!==document&&t.target!==window&&!1!==t.target.hasResizeObserver)if(Smart.Utilities.Core.Browser.Firefox){if(!t.target.resizeObserver){var n,a,r,o=!1,i=t.target.offsetWidth,l=t.target.offsetHeight,s=new ResizeObserver((function(){if(o){var e=new CustomEvent("resize",{bubbles:!1,cancelable:!0});a=t.target.offsetWidth,r=t.target.offsetHeight,n=a!==i||r!==l,t.target.requiresLayout&&(n=!0),n&&(t.resize(e),t.target.requiresLayout=!1)}else o=!0}));s.observe(t.target),t.target.resizeObserver=s}}else if(!t.target.resizeTrigger){var c=document.createElement("div");c.className="smart-resize-trigger-container",c.innerHTML='<div class="smart-resize-trigger-container"><div class="smart-resize-trigger"></div></div><div class="smart-resize-trigger-container"><div class="smart-resize-trigger-shrink"></div></div>',c.setAttribute("aria-hidden",!0),window[u].EnableShadowDOM&&t.target.shadowRoot?t.target.shadowRoot.appendChild(c):t.target.appendChild(c),t.target.resizeTrigger=c;var d,p,m,f,h=c.childNodes[0],v=h.childNodes[0],g=c.childNodes[1],y=function(){v.style.width="100000px",v.style.height="100000px",h.scrollLeft=1e5,h.scrollTop=1e5,g.scrollLeft=1e5,g.scrollTop=1e5},b=t.target.offsetWidth,w=t.target.offsetHeight;0===b||0===w?(t.target.addEventListener("resize",(function e(){y(),t.target.removeEventListener("resize",e)})),y()):y(),t.target.resizeHandler=function(){p||(p=requestAnimationFrame((function(){if(p=0,m=t.target.offsetWidth,f=t.target.offsetHeight,d=m!==b||f!==w,t.target.requiresLayout&&(d=!0),d){b=m,w=f;var e=new CustomEvent("resize",{bubbles:!1,cancelable:!0});t.resize(e),t.target.requiresLayout=!1}}))),y()},h.addEventListener("scroll",t.target.resizeHandler),g.addEventListener("scroll",t.target.resizeHandler)}t.isListening||(t.isListening=!0,t.isPressed=!1,t.isReleased=!1,t.isInBounds=!1,window.PointerEvent?(t.$target.listen("pointerdown.inputEvents"+t.id,t.pointerDown.bind(t)),t.$target.listen("pointerup.inputEvents"+t.id,t.pointerUp.bind(t)),t.$target.listen("pointermove.inputEvents"+t.id,t.pointerMove.bind(t)),t.$target.listen("pointercancel.inputEvents"+t.id,t.pointerCancel.bind(t))):("ontouchstart"in window&&(t.$target.listen("touchmove.inputEvents"+t.id,t.touchMove.bind(t)),t.$target.listen("touchstart.inputEvents"+t.id,t.touchStart.bind(t)),t.$target.listen("touchend.inputEvents"+t.id,t.touchEnd.bind(t)),t.$target.listen("touchcancel.inputEvents"+t.id,t.touchCancel.bind(t))),t.$target.listen("mousedown.inputEvents"+t.id,t.mouseDown.bind(t)),t.$target.listen("mouseup.inputEvents"+t.id,t.mouseUp.bind(t)),t.$target.listen("mousemove.inputEvents"+t.id,t.mouseMove.bind(t)),t.$target.listen("mouseleave.inputEvents"+t.id,t.mouseLeave.bind(t))),t.target._handleDocumentUp||(t.target._handleDocumentUp=t.handleDocumentUp.bind(t),t.target._handleDocumentUpId=t.id,t.$document.listen("mouseup.inputEvents"+t.target._handleDocumentUpId,t.target._handleDocumentUp)))}},{key:"unlisten",value:function(e){var t=this;if(t.isListening=!1,window.PointerEvent?(t.$target.unlisten("pointerdown.inputEvents"+t.id),t.$target.unlisten("pointerup.inputEvents"+t.id),t.$target.unlisten("pointermove.inputEvents"+t.id),t.$target.unlisten("pointercancel.inputEvents"+t.id)):("ontouchstart"in window&&(t.$target.unlisten("touchstart.inputEvents"+t.id),t.$target.unlisten("touchmove.inputEvents"+t.id),t.$target.unlisten("touchend.inputEvents"+t.id),t.$target.unlisten("touchcancel.inputEvents"+t.id)),t.$target.unlisten("mousedown.inputEvents"+t.id),t.$target.unlisten("mouseup.inputEvents"+t.id),t.$target.unlisten("mousemove.inputEvents"+t.id),t.$target.unlisten("mouseleave.inputEvents"+t.id)),t.target._handleDocumentUp&&(t.$document.unlisten("mouseup.inputEvents"+t.target._handleDocumentUpId,t.target._handleDocumentUp),delete t.target._handleDocumentUp,delete t.target._handleDocumentUpId),"resize"===e)if(Smart.Utilities.Core.Browser.Firefox)t.target.resizeObserver&&(t.target.resizeObserver.unobserve(t.target),delete t.target.resizeObserver);else if(t.target.resizeTrigger){var n=t.target.resizeTrigger,a=n.childNodes[0],r=n.childNodes[1];a.removeEventListener("scroll",t.target.resizeHandler),r.removeEventListener("scroll",t.target.resizeHandler),t.target.resizeHandler=null,n.parentNode.removeChild(n),delete t.target.resizeTrigger}}},{key:"handleDocumentUp",value:function(e){var t=this;t.isPressed=!1,t.isReleased=!1,t.resetSwipe(e)}},{key:"createEvent",value:function(e,t){var n=this,a=e.touches,r=e.changedTouches,o=a&&a.length?a[0]:r&&r.length?r[0]:void 0,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,composed:void 0!==n.$target.element.getRootNode().host});if(i.originalEvent=e,o){for(var l=0;l<n.inputEventProperties.length;l++){var s=n.inputEventProperties[l];i[s]=o[s]}return i}for(var u in e)u in i||(i[u]=e[u]);return i}},{key:"fireTap",value:function(e){if(clearTimeout(this.tapHoldTimeout),!this.tapHoldFired&&this.isInBounds){var t=this.createEvent(e,"tap");this.tap(t)}}},{key:"initTap",value:function(e){var t=this;t.isInBounds=!0,t.tapHoldFired=!1,t.tapHoldTimeout=setTimeout((function(){if(t.isInBounds){t.tapHoldFired=!0;var n=t.createEvent(e,"taphold");t.taphold(n)}}),t.tapHoldDelay)}},{key:"pointerDown",value:function(e){return this.handleDown(e)}},{key:"mouseDown",value:function(e){var t=this;if(!(t.isPressed||t.touchStartTime&&new Date-t.touchStartTime<500))return t.handleDown(e)}},{key:"touchStart",value:function(e){var t=this;return t.touchStartTime=new Date,t.isTouchMoved=!0,t.handleDown(e)}},{key:"mouseUp",value:function(e){var t=this;if(!(t.isReleased||t.touchEndTime&&new Date-t.touchEndTime<500))return t.handleUp(e)}},{key:"handleDown",value:function(e){var t=this;t.isReleased=!1,t.isPressed=!0;var n=t.createEvent(e,"down");return(t.handlers.tap||t.handlers.taphold)&&t.initTap(n),(t.handlers.swipeleft||t.handlers.swiperight||t.handlers.swipetop||t.handlers.swipebottom)&&t.initSwipe(n),t.down(n)}},{key:"handleUp",value:function(e){var t=this;t.isReleased=!0,t.isPressed=!1;var n=t.createEvent(e,"up"),a=t.up(n);return(t.handlers.tap||t.handlers.taphold)&&t.fireTap(n),t.resetSwipe(n),a}},{key:"handleMove",value:function(e){var t=this,n=t.move(e);return t.isPressed&&(t._maxSwipeVerticalDistance=Math.max(t._maxSwipeVerticalDistance,Math.abs(t._startY-e.pageY)),t._maxSwipeHorizontalDistance=Math.max(t._maxSwipeHorizontalDistance,Math.abs(t._startX-e.pageX)),n=t.handleSwipeEvents(e)),n}},{key:"touchEnd",value:function(e){return this.touchEndTime=new Date,this.handleUp(e)}},{key:"pointerUp",value:function(e){return this.handleUp(e)}},{key:"pointerCancel",value:function(e){this.pointerUp(e)}},{key:"touchCancel",value:function(e){this.touchEnd(e)}},{key:"mouseLeave",value:function(){this.isInBounds=!1}},{key:"mouseMove",value:function(e){if(!this.isTouchMoved)return this.handleMove(e)}},{key:"pointerMove",value:function(e){return this.handleMove(e)}},{key:"touchMove",value:function(e){for(var t=this,n=e.touches,a=e.changedTouches,r=n&&n.length?n[0]:a&&a.length?a[0]:void 0,o=0;o<t.inputEventProperties.length;o++){var i=t.inputEventProperties[o];void 0===e[i]&&(e[i]=r[i])}return t.isTouchMoved=!0,t.handleMove(e)}},{key:"handleSwipeEvents",value:function(e){var t=this,n=!0;return(t.handlers.swipetop||t.handlers.swipebottom)&&(n=this.handleVerticalSwipeEvents(e)),!1===n||(t.handlers.swipeleft||t.handlers.swiperight)&&(n=this.handleHorizontalSwipeEvents(e)),n}},{key:"handleVerticalSwipeEvents",value:function(e){var t;return t=e.pageY-this._startY,this.swiped(e,t,"vertical")}},{key:"handleHorizontalSwipeEvents",value:function(e){var t;return t=e.pageX-this._startX,this.swiped(e,t,"horizontal")}},{key:"swiped",value:function(e,t,n){var a=this;if(n=n||0,Math.abs(t)>=a.swipeMin&&!a._swipeEvent&&!a._swipeLocked){var r=t<0?"swipeleft":"swiperight";if("horizontal"===n?a._swipeEvent=a.createEvent(e,r):(r=t<0?"swipetop":"swipebottom",a._swipeEvent=a.createEvent(e,t<0?"swipetop":"swipebottom")),a[r]&&(a[r](this._swipeEvent),Math.abs(t)<=this.swipeMax))return e.stopImmediatePropagation(),!1}return!0}},{key:"resetSwipe",value:function(){this._swipeEvent=null,clearTimeout(this._swipeTimeout)}},{key:"initSwipe",value:function(e){var t=this;t._maxSwipeVerticalDistance=0,t._maxSwipeHorizontalDistance=0,t._startX=e.pageX,t._startY=e.pageY,t._swipeLocked=!1,t._swipeEvent=null,t._swipeTimeout=setTimeout((function(){t._swipeLocked=!0}),t.swipeDelay)}}]),e}(),E=function(){function e(t,n,a){p(this,e);var r=this;r.container=t,r.horizontalScrollBar=n,r.verticalScrollBar=a,r.disableSwipeScroll=!1,r.listen()}return f(e,[{key:"scrollWidth",get:function(){return this.horizontalScrollBar?this.horizontalScrollBar.max:-1},set:function(e){e<0&&(e=0),this.horizontalScrollBar&&(this.horizontalScrollBar.max=e)}},{key:"scrollHeight",get:function(){return this.verticalScrollBar?this.verticalScrollBar.max:-1},set:function(e){e<0&&(e=0),this.verticalScrollBar&&(this.verticalScrollBar.max=e)}},{key:"scrollLeft",get:function(){return this.horizontalScrollBar?this.horizontalScrollBar.value:-1},set:function(e){e<0&&(e=0),this.horizontalScrollBar&&(this.horizontalScrollBar.value=e)}},{key:"scrollTop",get:function(){return this.verticalScrollBar?this.verticalScrollBar.value:-1},set:function(e){e<0&&(e=0),this.verticalScrollBar&&(this.verticalScrollBar.value=e)}},{key:"vScrollBar",get:function(){return this.verticalScrollBar}},{key:"hScrollBar",get:function(){return this.horizontalScrollBar}},{key:"listen",value:function(){var e,t,n,a,r,o,i,l,s=this,u=b.isMobile,c=s.horizontalScrollBar,d=s.verticalScrollBar;s.inputEvents=new x(s.container);var p,m=function(e){return{amplitude:0,delta:0,initialValue:0,min:0,max:e.max,previousValue:0,pointerPosition:0,targetValue:0,scrollBar:e,value:0,velocity:0}},f=m(c),h=m(d),v=function(){var e=s.container.touchVelocityCoefficient||50;o=Date.now(),i=o-a,a=o;var t=function(t){t.delta=t.value-t.previousValue,t.previousValue=t.value;var n=e*t.delta/(1+i);t.velocity=.8*n+.2*t.velocity};t(h),t(f)},g=function(e){return l.value=e>l.max?l.max:e<l.min?l.min:e,l.scrollBar.value=l.value,e>l.max?"max":e<l.min?"min":"value"};function y(){var e,n;l.amplitude&&(s.container.$.fireEvent("kineticScroll"),e=Date.now()-a,(n=-l.amplitude*Math.exp(-e/500))>5||n<-5?(g(l.targetValue+n),cancelAnimationFrame(t),t=0,t=requestAnimationFrame(y)):g(l.targetValue))}s.inputEvents.down((function(t){if(u){var o=t.originalEvent.target,i=o&&o.closest?o.closest("smart-scroll-bar"):void 0;if(i!==s.horizontalScrollBar&&i!==s.verticalScrollBar){n=!0,e=!1;var l=function(e,t){e.amplitude=0,e.pointerPosition=t,e.previousValue=e.value,e.value=e.scrollBar.value,e.initialValue=e.value,e.max=e.scrollBar.max};l(h,t.clientY),l(f,t.clientX),a=Date.now(),clearInterval(r),r=setInterval(v,500)}}})),s.inputEvents.up((function(){if(!n)return!0;if(clearInterval(r),s.disableSwipeScroll)n=!1;else{var e=function(e){l=e,e.amplitude=.8*e.velocity,e.targetValue=Math.round(e.value+e.amplitude),a=Date.now(),cancelAnimationFrame(t),t=requestAnimationFrame(y),e.velocity=0};h.velocity>10||h.velocity<-10?e(h):(f.velocity>10||f.velocity<-10)&&e(f),n=!1}})),s.inputEvents.move((function(t){if(!n)return!0;if(!s.disableSwipeScroll&&(e&&(t.originalEvent.preventDefault(),t.originalEvent.stopPropagation()),f.visible=s.scrollWidth>0,h.visible=s.scrollHeight>0,n&&(f.visible||h.visible))){var a,r,o=s.container.touchScrollRatio,i=s.container;o&&("number"==typeof o?(a=-o,r=-o):"function"==typeof o&&(a=o(h.max,i.offsetHeight),r=o(f.max,i.offsetWidth))),h.ratio=a||-h.max/i.offsetHeight,h.delta=(t.clientY-h.pointerPosition)*h.ratio,f.ratio=r||-f.max/i.offsetWidth,f.delta=(t.clientX-f.pointerPosition)*f.ratio;var u="value",c=function(t,n,a){return t.delta>5||t.delta<-5?(l=t,"min"==(u=t.initialValue+t.delta>l.max?"max":t.initialValue+t.delta<l.min?"min":"value")&&0===t.initialValue||"max"===u&&t.initialValue===t.max||!t.visible||(s.container.$.fireEvent("kineticScroll"),g(t.initialValue+t.delta),v(),a.originalEvent.preventDefault(),a.originalEvent.stopPropagation(),e=!0,!1)):null},d=c(h,t.clientY,t);if(null!==d)return d;var p=c(f,t.clientX,t);return null!==p?p:void 0}})),s.scrollTo=function(e,n){var r=!1===n?f:h,o=!1;a||(a=Date.now()),p||(p=Date.now()),Math.abs(Date.now()-p)>375?a=Date.now():o=!0,p=Date.now(),r.value=r.scrollBar.value,r.delta=e-r.value,r.max=r.scrollBar.max,e<=r.min&&(e=r.min),e>=r.max&&(e=r.max),r.targetValue=e;var i=e,l=r.value;r.velocity=100*r.delta/(1+r.max),r.from=l;var u=function(e){return r.value=e>r.max?r.max:e<r.min?r.min:e,r.scrollBar.value=r.value,e>r.max?"max":e<r.min?"min":"value"};cancelAnimationFrame(t),t=requestAnimationFrame((function n(){var c,d=Date.now()-p,m=Math.min(1e3,Date.now()-a),f=r.velocity*Math.exp(m/175);if(o)(f<0&&r.value<=e||f>0&&r.value>=e)&&(f=0),(r.value+f<=r.min||r.value+f>=r.max)&&(f=0),f>.5||f<-.5?(u(r.value+f),cancelAnimationFrame(t),t=0,t=requestAnimationFrame(n)):u(r.targetValue);else{if(d>=175)return cancelAnimationFrame(t),s.container.$.fireEvent("kineticScroll"),void(t=0);c=T.Animation.Easings.easeInSine(d,l,i-l,175),u(c),cancelAnimationFrame(t),t=0,t=requestAnimationFrame(n)}}))},s.inputEvents.listen()}},{key:"unlisten",value:function(){var e=this;e.inputEvents&&e.inputEvents.unlisten(),delete e.inputEvents}}]),e}(),S=function(){function e(t){p(this,e),this.events={},this.handlers={},this.element=t}return f(e,[{key:"hasClass",value:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)if(!this.element.classList.contains(t[n]))return!1;return!0}},{key:"addClass",value:function(e){var t=this;if(!t.hasClass(e)){for(var n=e.split(" "),a=0;a<n.length;a++)t.element.classList.add(n[a]);t.isNativeElement||_.observeElement(t.element)}}},{key:"removeClass",value:function(e){var t=this;if(0!==arguments.length){for(var n=e.split(" "),a=0;a<n.length;a++)t.element.classList.remove(n[a]);""===t.element.className&&t.element.removeAttribute("class"),t.isNativeElement||_.observeElement(t.element)}else t.element.removeAttribute("class")}},{key:"isCustomElement",get:function(){var e=this;return!!e.element.tagName.startsWith(u)||e.element instanceof window[u].BaseElement==1||"DIV"!==e.element.tagName&&"SPAN"!==e.element.tagName&&"BUTTON"!==e.element.tagName&&"INPUT"!==e.element.tagName&&"UL"!==e.element.tagName&&"LI"!==e.element.tagName&&document.createElement(e.element.nodeName)instanceof window[u].BaseElement==1}},{key:"isNativeElement",get:function(){return!this.isCustomElement}},{key:"dispatch",value:function(e){var t=this.events[e.type],n=!1;if(t.length>1)for(var a=0;a<t.length;a++){var r=t[a];if(r.namespace&&r.namespace.indexOf("_")>=0){n=!0;break}}n&&t.sort((function(e,t){var n=e.namespace,a=t.namespace;return(n=-1===n.indexOf("_")?0:parseInt(n.substring(n.indexOf("_")+1)))<(a=-1===a.indexOf("_")?0:parseInt(a.substring(a.indexOf("_")+1)))?-1:n>a?1:0}));for(var o=0;o<t.length;o++){var i=t[o];if(e.namespace=i.namespace,e.context=i.context,e.defaultPrevented)break;var l=i.handler.apply(this.element,[e]);if(void 0!==l&&(e.result=l,!1===l)){e.preventDefault(),e.stopPropagation();break}}return e.result}},{key:"fireEvent",value:function(e,t,n){n||(n={bubbles:!0,cancelable:!0,composed:null!==this.element.getRootNode().host}),n.detail=t||{};var a=new CustomEvent(e,n);return a.originalStopPropagation=a.stopPropagation,a.stopPropagation=function(){return a.isPropagationStopped=!0,a.originalStopPropagation()},this.dispatchEvent(a),a}},{key:"isPassiveSupported",get:function(){var e=this;if(void 0!==e.supportsPassive)return e.supportsPassive;e.supportsPassive=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e.supportsPassive=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e.supportsPassive}},{key:"dispatchEvent",value:function(e){var t=this,n=e.type,a=t.element.context,r=n.substring(0,1).toUpperCase()+n.substring(1);t.element.context=document,t.element["on"+r]?t.element["on"+r](e):t.element["on"+n.toLowerCase()]?t.element["on"+n.toLowerCase()](e):t.element.dispatchEvent(e),t.element.context=a}},{key:"listen",value:function(e,t){var n=this,a=e.split("."),r=a.slice(1).join("."),o=a[0];n.events[o]||(n.events[o]=[]);var i={type:o,handler:t,context:n.element,namespace:r};D.indexOf(o)>=0&&(n.inputEvents||(n.inputEvents=new x(n.element)),n.inputEvents[o]((function(e){n.dispatchEvent(e)})),n.inputEvents.boundEventTypes.push(o),n.inputEvents.listen(o)),0===n.events[o].length&&(n.handlers[o]=n.dispatch.bind(n),"wheel"===o?n.element.addEventListener("wheel",n.handlers[o],!!n.isPassiveSupported&&{passive:!1}):"touchmove"===o||"touchstart"===o||"touchend"===o?n.element.addEventListener(o,n.handlers[o],!!n.isPassiveSupported&&{passive:!1}):n.element.addEventListener(o,n.handlers[o],!1)),n.events[o].push(i)}},{key:"unlisten",value:function(e){var t=this,n=e.split("."),a=n.slice(1).join("."),r=n[0],o=t.events[r];if(t.inputEvents&&t.inputEvents.boundEventTypes.indexOf(r)>=0&&(t.inputEvents.boundEventTypes.splice(t.inputEvents.boundEventTypes.indexOf(r),1),0===t.inputEvents.boundEventTypes.length&&t.inputEvents.unlisten(r)),o){for(var i=0;i<o.length;i++){if(""!==a){var l=o.findIndex((function(e){return e.namespace===a}));o.splice(l,1);break}o=[]}0===o.length&&(t.element.removeEventListener(r,t.handlers[r]),t.events[r]=[],delete t.handlers[r])}}},{key:"getAttributeValue",value:function(e,t){var n=this,a=n.element.getAttribute(e);if(n.isNativeElement)return n.deserialize(a,t);var r=n.element.propertyByAttributeName[e];return void 0===r.deserialize?n.deserialize(a,t,r.nullable):n.element[r.deserialize](a)}},{key:"setAttributeValue",value:function(e,t,n){var a,r=this,o=!1;if(r.isNativeElement){if(a=r.serialize(t,n),"boolean"===n&&["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(e)>=0)return void(t?r.element.setAttribute(e,""):r.element.removeAttribute(e))}else{var i=r.element.propertyByAttributeName[e];o=!i||i.nullable,a=i&&i.serialize?r.element[i.serialize](t):r.serialize(t,n,o)}"array"!==n&&"object"!==n||"[]"!==a&&"{}"!==a?void 0===a?(r.element.removeAttribute(e),r.element.shadowRoot&&r.element.$.root&&r.element.$.root.removeAttribute(e)):(r.element.setAttribute(e,a),r.element.shadowRoot&&r.element.$.root&&r.element.$.root.setAttribute(e,a)):r.element.removeAttribute(e)}},{key:"serialize",value:function(e,t,n){if(void 0===t&&(t=T.Types.getType(e)),void 0!==e&&(n||null!==e)){if(n&&null===e)return"null";if("string"===t)return e;if("boolean"===t||"bool"===t){if(!0===e||"true"===e||1===e||"1"===e)return"";if(!1===e||"false"===e||0===e||"0"===e)return}return"array"===t?JSON.stringify(e):["string","number","int","integer","float","date","any","function"].indexOf(t)>=0?e.toString():"object"===t?JSON.stringify(e):void 0}}},{key:"deserialize",value:function(e,t,n){var a="null"===e;if(void 0!==e&&(!a||n)){if(a&&n)return null;if("boolean"===t||"bool"===t)return null!==e;if("number"===t||"float"===t)return"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:parseFloat(e);if("int"===t||"integer"===t)return"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:parseInt(e);if("string"===t)return e;if("any"===t)return e;if("date"===t)return new Date(e);if("function"===t){if("function"==typeof window[e])return window[e]}else if("array"===t||"object"===t)try{var r=JSON.parse(e);if(r)return r}catch(n){if(window[e]&&"object"==d(window[e]))return window[e];if("array"===t&&e.indexOf("[")>=0){if(e.indexOf("{")>=0){var o=e.replace(/{/gi,"").replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim();o=o.split("},");for(var i=0;i<o.length;i++){for(var l={},s=o[i].trim().split(","),u=0;u<s.length;u++){var c=s[u].split(":")[0].trim(),p=s[u].split(":")[1].trim();l[c]=p}o[i]=l}return o}return e.replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim().split(",")}}}}}]),e}(),A=function(){function e(){p(this,e)}return f(e,null,[{key:"Ripple",get:function(){return g}},{key:"Easings",get:function(){return y}}]),e}(),T=function(){function e(){p(this,e)}return f(e,null,[{key:"Types",get:function(){return v}},{key:"Core",get:function(){return b}},{key:"Animation",get:function(){return A}},{key:"Scroll",get:function(){return E}},{key:"InputEvents",get:function(){return x}},{key:"Extend",value:function(e){return new S(e)}},{key:"Assign",value:function(t,n){if(t.indexOf(".")>=0){var a=t.split(".");return e[a[0]]||(e[a[0]]={}),void(e[a[0]][a[1]]=n)}e[t]=n}}]),e}(),$=T.Extend(document),F=null;document.addEventListener("click",(function(){_.start(),F&&clearTimeout(F),F=setTimeout((function(){_.stop()}),1e4)})),document.addEventListener("mouseenter",(function(){_.start()})),document.addEventListener("mouseleave",(function(){_.stop()}));var L=function e(){p(this,e)};L.cache={};var H=function(e){n(r,e);var t=a(r);function r(){return p(this,r),t.apply(this,arguments)}return f(r,[{key:"getBindings",value:function(e,t){var n=this,a=0,r={},o=function(e){if(e instanceof HTMLElement)return n.parseAttributes(e);var t=n.parseProperty(e.data?e.data.trim():null,"textContent",e);return t?(n&&e.parentNode===n.$.content&&(t.value=""!==n.$.html?n.$.html:void 0,n.innerHTML=""),{textContent:t}):void 0}(e);o&&(r.data=o),t||(r.mapping=[],t=r),e.getAttribute&&(r.nodeId=e.getAttribute("smart-id"),t&&o&&(t.mapping[r.nodeId]=o)),r.node=e,e.firstChild&&(r.children={});for(var i=e.firstChild;i;i=i.nextSibling)r.children[a++]=n.getBindings(i,t);return r}},{key:"_addRemovePropertyBinding",value:function(e,t,n,a,r){if(e&&t&&n){var o=this,i=o.bindings,l=n.getAttribute("smart-id"),s=e.indexOf("{{")>=0,u=!1;(e=e.replace("{{","").replace("}}","").replace("[[","").replace("]]","")).indexOf("!")>=0&&(e=e.replace("!",""),u=!0);var c=o._properties[e],d={name:e,reflectToAttribute:c.reflectToAttribute,twoWay:s,type:c.type,not:u};if(r&&!a){var p={},m={name:e,targetPropertyName:t,reflectToAttribute:c.reflectToAttribute,twoWay:s,type:c.type,not:u};p[e]=m,i.mapping[l]=p}(function e(r){for(var i in r){var s=r[i];if(s.nodeId===l){s.data||(s.data={}),a?(s.data[t]=null,delete s.data[t]):s.data[t]=d;break}if(s.children)e(s.children);else if(s.node&&s.node.children&&s.node===n.parentElement){var u=s.node;if(!u.firstChild)continue;s.children={};for(var c=0,p=u.firstChild;p;p=p.nextSibling)s.children[c++]=o.getBindings(p);e(s.children)}}})(i.children),a?delete o.boundProperties[e]:o.boundProperties[e]=!0,o.updateBoundNodes(e)}}},{key:"addPropertyBinding",value:function(e,t,n,a){this._addRemovePropertyBinding(e,t,n,!1,a)}},{key:"removePropertyBinding",value:function(e,t,n,a){this._addRemovePropertyBinding(e,t,n,!0,a)}},{key:"parseAttributes",value:function(e){for(var t,n=this,a=0;a<e.attributes.length;a++){var r=e.attributes[a],o=r.name,i=r.value;L.cache["toCamelCase"+o]||(L.cache["toCamelCase"+o]=T.Core.toCamelCase(o));var l=L.cache["toCamelCase"+o];if(o.indexOf("(")>=0){var s=o.substring(1,o.length-1);if(n&&!n.dataContext){n.templateListeners[e.getAttribute("smart-id")+"."+s]=i,e.removeAttribute(o);continue}t||(t={});var u=i.substring(0,i.indexOf("("));t[l]={isEvent:!0,name:s,value:u}}else{var c=n.parseProperty(i,o,e);c&&(t||(t={}),t[l]=c)}}return t}},{key:"parseProperty",value:function(e,t){if(e&&e.length){for(var n,a=this,r=e.length,o=0,i=0,l=0,s=!0;i<r;){o=e.indexOf("{{",i);var u=e.indexOf("[[",i),c="}}";if(u>=0&&(o<0||u<o)&&(o=u,s=!1,c="]]"),(l=o<0?-1:e.indexOf(c,o+2))<0)return;n=n||{};var d=e.slice(o+2,l).trim();n.name=d,i=l+2}var p=n.name,m=a?a._properties[p]:null;return n.twoWay=s,n.ready=!1,a&&(p.indexOf("::")>=0?a.boundProperties[p.substring(0,p.indexOf("::"))]=!0:a.boundProperties[p]=!0),m?(n.type=m.type,n.reflectToAttribute=m.reflectToAttribute):(["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(t)>=0?n.type="boolean":n.type="string",n.reflectToAttribute=!0),n}}},{key:"updateTextNodes",value:function(){var e=this;e.updateTextNode(e.shadowRoot||e,e.bindings,e)}},{key:"updateTextNode",value:function(e,t,n){if(t){for(var a=0,r=e.firstChild;r&&t.children;r=r.nextSibling)this.updateTextNode(r,t.children[a++],n);if(t&&t.data)for(var o in t.data){var i=t.data[o],l=i.name;"textContent"===o&&i.twoWay&&!i.updating&&void 0!==i.value&&(n[l]=i.value)}}}},{key:"updateBoundProperty",value:function(e,t){t.updating||(t.updating=!0,this[e]=t.value,t.updating=!1)}},{key:"updateBoundNodes",value:function(e){var t=this;if(t.updateBoundNode(t.shadowRoot||t,t.bindings,t,e),t.detachedChildren.length>0)for(var n=function(n){var a=t.detachedChildren[n],r=a.getAttribute("smart-id"),o=function e(t){if(t.nodeId===r)return t;for(var n in t.children){var a=t.children[n];if((a.getAttribute?a.getAttribute("smart-id"):"")===r)return t;if(a.children){var o=e(a);if(o)return o}}return null}(t.bindings);if(o)t.updateBoundNode(a,o,t,e,!0);else if(a.getAttribute&&t.bindings.mapping){var i=t,l=t.bindings;if(l)for(var s in l.mapping){var u=i.querySelector('[smart-id="'+s+'"]');if(u){var c=l.mapping[s];t.updateBoundData(u,c,i,e)}}}},a=0;a<t.detachedChildren.length;a++)n(a)}},{key:"updateBoundMappedNodes",value:function(){var e=this,t=e.bindings,n=e;if(t.mapping)for(var a in t.mapping){var r=n.querySelector('[smart-id="'+a+'"]');if(n.shadowRoot&&((r=n.querySelector('[id="'+a+'"]'))||(r=n.shadowRoot.querySelector('[id="'+a+'"]')||n.shadowRoot.querySelector('[smart-id="'+a+'"]'))),r){var o=t.mapping[a];e.updateBoundData(r,o,n)}else if(n.getAttribute("aria-controls")){var i=document.getElementById(n.getAttribute("aria-controls"));if(!i&&n.shadowRoot&&(i=n.shadowRoot.getElementById(n.getAttribute("aria-controls"))),r=i.querySelector('[smart-id="'+a+'"]')){var l=t.mapping[a];e.updateBoundData(r,l,n)}}}}},{key:"updateBoundNode",value:function(e,t,n,a,r){var o=this;if(t){var i=0;if(r){if(r&&!t.data)for(var l=e.firstChild;l&&t.children;l=l.nextSibling)l.getAttribute?function(){var e=l.getAttribute("smart-id"),r=function(){for(var n in t.children)if(t.children[n].nodeId===e)return t.children[n]}();o.updateBoundNode(l,r,n,a),i++}():o.updateBoundNode(l,t.children[i++],n,a,r)}else for(var s=e.firstChild;s&&t.children;s=s.nextSibling)s.getAttribute?function(){var e=s.getAttribute("smart-id"),r=function(){for(var n in t.children)if(t.children[n].nodeId===e)return t.children[n]}();o.updateBoundNode(s,r,n,a),i++}():o.updateBoundNode(s,t.children[i++],n,a);if(t&&t.data){var u=t.data;o.updateBoundData(e,u,n,a)}}}},{key:"updateBoundData",value:function(e,t,n,a){var r=this,o=function(o){var i=t[o],l=i.name;if(!i.updating&&(l.indexOf("::")>=0&&(l=l.substring(0,l.indexOf("::"))),void 0===a||a===l)){if(l.indexOf("(")>=0){var s=l.substring(l.indexOf("(")),u=l.substring(0,l.indexOf("("));if((s=(s=(s=s.substring(1,s.length-1)).replace(/ /gi,"")).split(",")).length>0&&""!==s[0]){for(var c=[],p=0;p<s.length;p++)c.push(n[s[p]]);i.value=n[u].apply(n,c)}else i.value=n[u]();i.type=d(i.value)}else i.value=n[l];if("innerHTML"===l?e[o].toString().trim()!==n[l].toString().trim()&&(i.ready||n._properties[l].defaultValue!==i.value)&&(e[o]=i.value.toString().trim()):i.not?(e[o]=!i.value,i.targetPropertyName&&(e[i.targetPropertyName]=!i.value)):(e[o]=i.value,i.targetPropertyName&&(e[i.targetPropertyName]=i.value)),e.$&&e.$.isNativeElement){L.cache["toDash"+o]||(L.cache["toDash"+o]=T.Core.toDash(o));var m=L.cache["toDash"+o],f=e.$.getAttributeValue(m,i.type);!i.reflectToAttribute||f===i.value&&i.ready||e.$.setAttributeValue(m,i.value,i.type),i.reflectToAttribute||e.$.setAttributeValue(m,null,i.type)}if(!i.ready){if(e.$&&e.$.isCustomElement){L.cache["toDash"+o]||(L.cache["toDash"+o]=T.Core.toDash(o));var h=L.cache["toDash"+o];e._properties||(e._beforeCreatedProperties=e._properties=e.propertyByAttributeName=[]),e._properties[o]||(e._properties[o]={attributeName:h},e._beforeCreatedProperties&&(e._beforeCreatedProperties[o]=e._properties[o]),e.propertyByAttributeName[h]=e._properties[o]);var v=e._properties[o];v.isUpdating=!0,i.reflectToAttribute&&(i.not?e.$.setAttributeValue(v.attributeName,!i.value,i.type):e.$.setAttributeValue(v.attributeName,i.value,i.type)),i.reflectToAttribute||e.$.setAttributeValue(v.attributeName,null,i.type),v.isUpdating=!1}if(i.twoWay){var g=function(t){if(i.value=t,e.$&&e.$.isNativeElement){L.cache["toDash"+o]||(L.cache["toDash"+o]=T.Core.toDash(o));var n=L.cache["toDash"+o],a=e.$.getAttributeValue(n,i.type);i.reflectToAttribute&&a!==i.value&&e.$.setAttributeValue(n,i.value,i.type),i.reflectToAttribute||e.$.setAttributeValue(n,null,i.type)}};if(i.name.indexOf("::")>=0){var y=i.name.indexOf("::"),b=i.name.substring(y+2);r["$"+e.getAttribute("smart-id")].listen(b,(function(){g(e[o]);var t=i.name.substring(0,i.name.indexOf("::"));r.updateBoundProperty(t,i)}))}if(e.$&&e.$.isCustomElement){e._properties[o]&&(e._properties[o].notify=!0),L.cache["toDash"+o]||(L.cache["toDash"+o]=T.Core.toDash(o));var w=L.cache["toDash"+o];r["$"+e.getAttribute("smart-id")].listen(w+"-changed",(function(e){var t=e.detail;g(t.value);var n=r.context;e.context!==document&&(r.context=r),r.updateBoundProperty(i.name,i),r.context=n}))}}}i.ready=!0}};for(var i in t)o(i)}},{key:"addMessages",value:function(e,t){Object.assign(this.messages[e],t)}},{key:"localize",value:function(e,t){var n=this;if(n.messages&&n.messages[n.locale]){var a=n.messages[n.locale][e];if(""===a)return"";if(a){var r=a;for(var o in t){var i=t[o];a=a.replace(new RegExp("{{"+o+"}}","g"),i)}return n.localizeFormatFunction&&n.localizeFormatFunction(r,a,t),a}}}},{key:"classNamesMap",get:function(){return{animation:"smart-animate",rippleAnimation:"smart-ripple"}}},{key:"hasAnimation",get:function(){return"none"!==this.animation}},{key:"hasRippleAnimation",get:function(){return"none"!==this.animation&&"advanced"===this.animation}},{key:"properties",get:function(){var e=this;return e._properties||(e._properties=[]),e._properties}},{key:"parents",get:function(){for(var e=this,t=[],n=e.parentNode;n&&9!==n.nodeType;)n instanceof HTMLElement==1&&t.push(n),n=n.parentNode;var a=e.getRootNode();return a.host&&(t=t.concat(function(e){for(var t=[e],n=e.parentNode;n&&9!==n.nodeType;)n instanceof HTMLElement==1&&t.push(n),n=n.parentNode;return t}(a.host))),window[u].EnableShadowDOM&&e.isInShadowDOM&&e.shadowParent&&(t=t.concat(e.shadowParent.parents)),t}},{key:"log",value:function(e){this._logger("log",e)}},{key:"warn",value:function(e){this._logger("warn",e)}},{key:"error",value:function(e){this._logger("error",e)}},{key:"_logger",value:function(e,t){if(this.debugMode){var n=t instanceof Error?t.message:t.toString();console[e](n)}if(this.rethrowError&&"error"===e)throw t}},{key:"focused",get:function(){return this.contains(document.activeElement)}},{key:"template",value:function(){return"<div></div>"}},{key:"registered",value:function(){this.onRegistered&&this.onRegistered()}},{key:"created",value:function(){var e=this;e.isReady=!1,e._initElement(e),e._setModuleState("created"),e.onCreated&&e.onCreated()}},{key:"completed",value:function(){var e=this;e.isCompleted=!0,e._onCompleted&&e._onCompleted(),e.onCompleted&&e.onCompleted()}},{key:"whenReady",value:function(e){var t=this;t.isCompleted?e():(t.whenReadyCallbacks||(t.whenReadyCallbacks=[]),t.whenReadyCallbacks.push(e))}},{key:"whenRendered",value:function(e){var t=this;t.isRendered?e():(t.whenRenderedCallbacks||(t.whenRenderedCallbacks=[]),t.whenRenderedCallbacks.push(e))}},{key:"addThemeClass",value:function(){var e=this;""!==e.theme&&e.classList.add("smart-"+e.theme)}},{key:"addDefaultClass",value:function(){var e=this;e.classList.add(u.toLowerCase()+"-element"),e.classList.add(e.nodeName.toLowerCase())}},{key:"_renderShadowRoot",value:function(){var e=this;if(e.shadowRoot){e.$.root.classList.add(e.nodeName.toLowerCase());for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t];"class"===n.name||"id"===n.name||"style"===n.name||"tabindex"===n.name||n.name.indexOf("aria")>=0||e.$.root.setAttribute(n.name,n.value)}for(var a=0;a<e.classList.length;a++){var r=e.classList[a];"smart-element-init"!==r&&"smart-element"!==r&&"smart-hidden"!==r&&"smart-visibility-hidden"!==r&&e.$.root.classList.add(r)}}}},{key:"render",value:function(){var e=this;if(!e.isRendered&&(e.isRendered=!0,e.isRendering=!1,e.context=document,e._renderShadowRoot(),e.whenRenderedCallbacks)){for(var t=0;t<e.whenRenderedCallbacks.length;t++)e.whenRenderedCallbacks[t]();e.whenRenderedCallbacks=[]}e.onRender&&e.onRender(),e.disabled&&e.setAttribute("aria-disabled",!0),e.readonly&&-1!==["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(e.getAttribute("role"))&&e.setAttribute("aria-readonly",!0)}},{key:"ready",value:function(){var e=this;if(e._setId(),e.addThemeClass(),e.addDefaultClass(),"collapsed"===e.visibility?e.classList.add("smart-hidden"):"hidden"===e.visibility&&e.classList.add("smart-visibility-hidden"),e.dataContext&&e.applyDataContext(),e.onReady&&e.onReady(),e.shadowRoot&&Smart(e._selector)){if(Smart(e._selector).styleUrls)for(var t=Smart(e._selector).styleUrls,n=0;n<t.length;n++)e.importStyle(t[n]);if(Smart(e._selector).styles){var a=document.createElement("style");a.innerHTML=Smart(e._selector).styles,e.shadowRoot.insertBefore(a,e.shadowRoot.firstChild)}}Smart(e._selector)&&Smart(e._selector).ready&&Smart(e._selector).ready()}},{key:"_setId",value:function(){var e=this;if(!e.id){var t=e.elementName;e.id=t.slice(0,1).toLowerCase()+t.slice(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}}},{key:"checkLicense",value:function(){"Evaluation"===window[u].License&&-1===window.location.hostname.indexOf("htmlelements")&&(this.logWatermark(),this.logLicense(),window[u].License="")}},{key:"logWatermark",value:function(){var e=document.createElement("a");e.href="https://www.htmlelements.com/",e.innerHTML="https://www.htmlelements.com/",e.style.position="absolute",e.style.right="5px",e.style.bottom="5px",e.style.color="#fff",e.style.padding="20px",e.style.borderRadius="5px",e.style.background="#0C3D78",e.style.cursor="pointer",e.style.zIndex="999999",e.style.display="block",e.style.fontSize="24px",e.style.textDecoration="none",e.style.fontWeight="bold",e.style.opacity=0,e.style.transition="opacity .35s ease-in-out",e.id="watermark",document.getElementById("watermark")||setTimeout((function(){document.getElementById("watermark")||(document.body.appendChild(e),setTimeout((function(){e.style.opacity=1})),setTimeout((function(){e.style.opacity=0,setTimeout((function(){e.parentNode.removeChild(e)}),350)}),6e3))}),1e3)}},{key:"logLicense",value:function(){console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("*jQWidgets License Key Not Found."),console.log("*This is an EVALUATION only Version, it is NOT Licensed for software projects intended for PRODUCTION."),console.log("*if you want to hide this message, please send an email to: sales@jqwidgets.com for a license."),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************")}},{key:"_selector",get:function(){var e=this;return e.id?"#"+e.id:e.classList.length>0?"."+e.classList[0]:""}},{key:"applyDataContext",value:function(e){var t=this,n="string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext;if(e&&(n=e,t.dataContext=e),n){if(!n._uid){n._uid=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),n._properties=[];var a=function(e){var a=n[e];"function"!=typeof a&&"_properties"!==e&&"_uid"!==e&&(n._properties[e]=a,Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:function(){return n._properties[e]},set:function(a){var r=n._properties[e];n._properties[e]=a;var o=[];o[e]={oldValue:r,value:a},o.length++,t.updatingDataContext=!0,$.fireEvent("dataContextPropertyChanged",{dataContext:n,properties:o},{bubbles:!1,cancelable:!0}),t.updatingDataContext=!1}}))};for(var r in n)a(r)}if(t.dataContextProperties=t.parseAttributes(t),t.dataContextPropertiesMap={},t.dataContextListeners={},t.dataContextProperties){for(var o in t.updatingDataContext=!0,t.dataContextProperties){var i=t.dataContextProperties[o],l=i.name;if(i.propertyName=o,t.dataContextPropertiesMap[l]=o,L.cache["toDash"+o]||(L.cache["toDash"+o]=T.Core.toDash(l)),i.isEvent&&function(){var e=i.value;t.dataContextListeners[l]&&t.removeEventListener(l,t.dataContextListeners[l]),t.dataContextListeners[l]=function(t){n[e](t)},t.addEventListener(l,t.dataContextListeners[l])}(),l.indexOf(".")>=0){for(var s=l.split("."),u=n[s[0]],c=1;c<s.length;c++)u=u[s[c]];void 0!==u&&(t[o]=u)}else t[o]=n[l]}t.dataContextPropertyChangedHandler=function(e){var n=e.detail.properties;if(e.detail.dataContext===("string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext))for(var a in n){var r=t.dataContextPropertiesMap[a],o=t.context;r&&(t.context=document,t[r]=n[a].value,t.context=o)}},$.listen("dataContextPropertyChanged",t.dataContextPropertyChangedHandler),t.updatingDataContext=!1}else t.dataContextProperties=null}else t.dataContextProperties=null,window.addEventListener("load",(function e(){("string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext)&&(t.applyDataContext(),window.removeEventListener("load",e))}))}},{key:"updateDataContextProperty",value:function(e){var t=this,n="string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext,a=t.dataContextProperties[e];if(!t.updatingDataContext&&a.twoWay){var r=a.name;if(r.indexOf(".")>=0){for(var o=r.split("."),i=n[o[0]],l=1;l<o.length;l++)i=i[o[l]];void 0!==i&&(i=t[e],k[n._uid]&&(k[n._uid][e]=i))}else n[r]=t[e],k[n._uid]&&(k[n._uid][e]=n[r])}}},{key:"initProperties",value:function(){var e=this;if(Smart(e._selector)&&Smart(e._selector).properties&&(e._initProperties=Smart(e._selector).properties),e.hasAttribute("props")&&!e.props?e._initProperties=window[e.getAttribute("props")]:e.props&&(e._initProperties=e.props),e._initProperties)for(var t=Object.keys(e._initProperties),n=0;n<t.length;n++){var a=t[n],r=e._initProperties[a];if(r.constructor===Smart.ObservableArray||r instanceof Smart.ObservableArray)e[a]=r.toArray();else if(r.constructor===Smart.DataAdapter||"smartDataAdapter"===r.constructor.name||"object"==d(r)&&Smart.DataAdapter&&r instanceof Smart.DataAdapter||r instanceof Smart.Observable||r.constructor===Smart.Observable||"object"!=d(r)||T.Types.isArray(r)||r instanceof Date){if(void 0===e[a]&&-1===["onReady","onAttached","onDetached","onCreated","onCompleted"].indexOf(a)){var o=e.localize("propertyUnknownName",{name:a});e.log(o)}e[a]=r}else"messages"!==a&&"dataSourceMap"!==a?"object"==d(r)&&function t(n,a){for(var r=Object.keys(n),o=0;o<r.length;o++){var i=r[o],l=n[i],s=e._properties[a+"_"+i];if(s&&null===s.value){if(void 0===e[a+"_"+i]){var u=e.localize("propertyUnknownName",{name:a+"_"+i});e.log(u)}e[a+"_"+i]=l}else if("object"==d(l)&&!T.Types.isArray(l)&&l&&l.constructor!==Date)t(l,a+"_"+i);else{if(void 0===e[a+"_"+i]){var c=e.localize("propertyUnknownName",{name:a+"_"+i});e.log(c)}e[a+"_"+i]=l}}}(r,a):e[a]=r}}},{key:"setup",value:function(){var e=this;if(e.context=this,!e.isReady||e.isCompleted){if(e.isReady)return e._setModuleState("attached"),e.isAttached=!0,e.attached(),e._handleListeners("listen"),void(e.context=document);e.ownerElement&&e.ownerElement.detachedChildren.indexOf(e)>=0&&e.ownerElement.detachedChildren.splice(e.ownerElement.detachedChildren.indexOf(e),1),e.isReady=!0,e.methods=e.getStaticMember("methods"),e.initProperties(),b.isMobile&&e.classList.add("smart-mobile");for(var t=0;t<e.attributes.length;t+=1){var n=e.propertyByAttributeName[e.attributes[t].name];if(n){var a=e.$.getAttributeValue(n.attributeName,n.type),r=a?a.toString():"";if(!(r.indexOf("{{")>=0||r.indexOf("[[")>=0||"object"!==n.type&&"array"!==n.type&&(e.attributes[t].value.indexOf("{{")>=0||e.attributes[t].value.indexOf("[[")>=0)||void 0===a||n.value===a)){var o=T.Types.getType(a),i=e.attributes[t].value;if(("any"===n.type||"object"===n.type)&&""+e[n.name]===a)continue;if("array"===n.type&&e[n.name]&&JSON.stringify(e[n.name])===a)continue;if("number"===o&&isNaN(a)&&"NaN"!==i&&"Infinity"!==i&&"-Infinity"!==i){var l=e.localize("propertyInvalidValueType",{name:n.name,actualType:"string",type:n.type});e.log(l)}n.isUpdatingFromAttribute=!0,e[n.name]=a,n.isUpdatingFromAttribute=!1}}}for(var s in e._properties){var c=e._properties[s];if("innerHTML"===s&&c.value===c.defaultValue&&(c.value=c.defaultValue=T.Core.html(e)),"boolean"!==c.type&&"bool"!==c.type||"false"===e.getAttribute(c.attributeName)&&(c.isUpdating=!0,e.setAttribute(c.attributeName,""),c.isUpdating=!1),c.defaultReflectToAttribute&&c.reflectToAttribute){if(c.defaultReflectToAttribute&&c.defaultReflectToAttributeConditions){for(var d=!0,p=0;p<c.defaultReflectToAttributeConditions.length;p++){var m=c.defaultReflectToAttributeConditions[p],f=void 0,h=void 0;for(var v in m)f=v,h=m[v];e._properties[f]&&e._properties[f].value!==h&&(d=!1)}if(!d)continue}c.isUpdating=!0,e.$.setAttributeValue(c.attributeName,c.value,c.type),c.isUpdating=!1}}var g=[];if(e.children.length>0)for(var y=0;y<e.children.length;y++){var w=e.children[y];T.Extend(w).isCustomElement&&g.push(w)}e.applyTemplate(),e.complete=function(){if(!e.templateBindingsReady){var t=function(e){e.templateBindingsReady||(e.templateBindingsReady=!0,e.updateTextNodes(),e.updateBoundNodes())};if(e.ownerElement){for(var n=e.ownerElement,a=[];n;)a.push(n),n=n.ownerElement;for(var r=a.length-1;r>=0;r--)t(a[r]);t(e)}else t(e)}var o=function(){if(e._setModuleState("ready"),e.ready(),"auto"!==e.renderMode||e.isRendered||e.render(),e.isAttached=!0,e._setModuleState("attached"),e.attached(),e._handleListeners("listen"),e.isHidden||0!==e.offsetWidth&&0!==e.offsetHeight||(e.isHidden=!0),e.completed(),e.isRendered&&(e.context=document),e.whenReadyCallbacks){for(var t=0;t<e.whenReadyCallbacks.length;t++)e.whenReadyCallbacks[t]();e.whenReadyCallbacks=[]}};if(e.wait)e.classList.add("smart-visibility-hidden");else if(e.classList.contains("smart-async"))requestAnimationFrame((function(){o()}));else{var i=e.shadowParent;e.shadowParent=null;var l=e.parents;if(e.shadowParent=i,0===l.length)return;var s=function(){for(var t=e.ownerElement,n=[];t;)n.push(t),t=t.ownerElement;for(var a=n.length-1;a>=0;a--)n[a].updateBoundMappedNodes()};e.ownerElement&&"HTML"!==l[l.length-1].nodeName?e.getRootNode().host?o():e.ownerElement&&"HTML"===e.ownerElement.parents[e.ownerElement.parents.length-1].nodeName?(s(),o()):e.checkIsInDomInterval=setInterval((function(){var t=e.parents;"HTML"===t[t.length-1].nodeName&&(clearInterval(e.checkIsInDomInterval),s(),o())}),100):o()}};var _=[].slice.call(e.querySelectorAll("[smart-id]")).concat(g);if(window[u].EnableShadowDOM&&!0!==e.isInShadowDOM&&(_=[].slice.call(e.shadowRoot.querySelectorAll("[smart-id]")).concat(g)),0===_.length)e.complete();else{e._completeListeners=0;for(var k=function(t){var n=_[t];if(T.Extend(n).isCustomElement){var a=function(){e._completeListeners--,0===e._completeListeners&&(e.complete(),delete e._completeListeners)}.bind(e);n.isCompleted||n.isUtilityElement||!0===n.wait||(e._completeListeners++,n._onCompleted||(n.completeHandlers=[],n._onCompleted=function(){for(var e=0;e<n.completeHandlers.length;e++)n.completeHandlers[e]()}),n.completeHandlers.push(a))}},C=0;C<_.length;C++)k(C);0===e._completeListeners&&e.complete()}}}},{key:"visibilityChangedHandler",value:function(){var e=this;e.isReady&&requestAnimationFrame((function(){0===e.offsetWidth||0===e.offsetHeight?e.isHidden=!0:(e.isHidden=!1,e.$.fireEvent("resize",e,{bubbles:!1,cancelable:!0}))}))}},{key:"attributeChangedCallback",value:function(e,t,n){var a=this,r=a.propertyByAttributeName[e];if("class"!==e&&"style"!==e||a.visibilityChangedHandler(),r||a.attributeChanged(e,t,n),a.onAttributeChanged&&a.onAttributeChanged(e,t,n),!(!r||r&&r.isUpdating)){var o=a.$.getAttributeValue(r.attributeName,r.type);void 0!==n&&a[r.name]!==o&&(r.isUpdatingFromAttribute=!0,a[r.name]=void 0!==o?o:a._properties[r.name].defaultValue,r.isUpdatingFromAttribute=!1)}}},{key:"attributeChanged",value:function(e,t,n){}},{key:"hasStyleObserver",get:function(){return void 0===this._hasStyleObserver||this._hasStyleObserver},set:function(e){var t=this;void 0===t._hasStyleObserver&&(t._hasStyleObserver=e),e?_.watch(t):_.unwatch(t)}},{key:"attached",value:function(){var e=this;e.hasStyleObserver&&_.watch(e),e.onAttached&&e.onAttached(),Smart(e._selector)&&Smart(e._selector).attached&&Smart(e._selector).attached()}},{key:"detached",value:function(){var e=this;e.hasStyleObserver&&_.unwatch(e),e._setModuleState("detached"),e.isAttached=!1,e.ownerElement&&-1===e.ownerElement.detachedChildren.indexOf(e)&&e.ownerElement.detachedChildren.push(e),e._handleListeners("unlisten"),e.onDetached&&e.onDetached(),Smart(e._selector)&&Smart(e._selector).detached&&Smart(e._selector).detached(),C&&C[e._selector]&&delete C[e._selector]}},{key:"propertyChangedHandler",value:function(e,t,n){var a=this;t!==n&&("theme"===e&&(""!==t&&a.classList.remove("smart-"+t),""!==n&&a.classList.add("smart-"+n)),"visibility"===e?("collapsed"===t?a.classList.remove("smart-hidden"):"hidden"===t&&a.classList.remove("smart-visibility-hidden"),"collapsed"===n?a.classList.add("smart-hidden"):"hidden"===n&&a.classList.add("smart-visibility-hidden")):("disabled"===e||"readonly"===e)&&a._ariaPropertyChangedHandler(e,n),a.propertyChanged&&a.propertyChanged(e,t,n))}},{key:"_ariaPropertyChangedHandler",value:function(e,t){var n=this;"readonly"===e&&-1===["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(n.getAttribute("role"))||(t?n.setAttribute("aria-"+e,!0):n.removeAttribute("aria-"+e))}},{key:"_handleListeners",value:function(e){var t=this,n=t.tagName.toLowerCase(),a=function(a){var r=function(r){var o=r.split("."),i=o[0],l=t.$;if(o[1])if(i=o[1],l=t["$"+o[0]],"document"===o[0]){var s=t.smartId;""===s&&(s=T.Core.toCamelCase(n)),i=i+"."+s}else t.smartId&&(i=i+"."+t.smartId+"_"+t.parents.length);else t.smartId&&(i=i+"."+t.smartId);var u=a[r];l&&l[e](i,(function(e){var n=t.context;t.context=t,t[u]&&t[u].apply(t,[e]),t.context=n}))};for(var o in a)r(o)};a(t.getStaticMember("listeners")),a(t.templateListeners),Smart(t._selector)&&Smart(t._selector).properties&&a(Smart(t._selector).listeners)}},{key:"parseTemplate",value:function(){var e=this,t=e.template(),n=document.createDocumentFragment();if(s[e.nodeName]&&!h)return s[e.nodeName].cloneNode(!0);if(""===t)return null;var a=document.createElement("div");n.appendChild(a),a.innerHTML=t;var r=a.childNodes;a.parentNode.removeChild(a);for(var o=0;o<r.length;o++)n.appendChild(r[o]);return s[e.nodeName]=n,h?n:n.cloneNode(!0)}},{key:"applyTemplate",value:function(){var e=this,t=e.parseTemplate();if(t&&t.hasChildNodes){var n=t.childNodes[0],a=function(t,n){e["$"+t]=n.$=T.Extend(n),e.$[t]=n,n.ownerElement=e},r=n;if(n.getElementsByTagName("content").length>0){var o=n.getElementsByTagName("content")[0];(r=o.parentNode).removeChild(o)}else{var i=t.querySelectorAll("[inner-h-t-m-l]");i&&i.length>0&&(r=i[0])}e.$.template="template"===n.nodeName.toLowerCase()?n:n.querySelector("template");var l=t.querySelectorAll("[id]");0===l.length&&(l=t.querySelectorAll("*")),a("root",n),a("content",r),e.$.html=e.innerHTML.toString().trim();for(var s=0;s<l.length;s+=1){var u=l[s];""===u.id&&(u.id="child"+s),a(u.id,u),u.setAttribute("smart-id",u.id),e.shadowRoot?u.shadowParent=e:u.removeAttribute("id")}for(!1!==e.hasTemplateBindings?e.bindings=e.getBindings(t):e.bindings=[],e.$root.addClass("smart-container");e.childNodes.length;)r.appendChild(e.firstChild);if(e.appendTemplate(t),e.$.template){var c=document.createElement("div");c.classList.add("smart-template-container"),e.$.templateContainer=c,e.$.template.parentNode.insertBefore(c,e.$.template),e.refreshTemplate()}}}},{key:"refreshTemplate",value:function(){var e=this;if(e.$.templateContainer){e.templateDetached(e.$.templateContainer);var t=e.$.template.content.cloneNode(!0);e.templateBindings=e.getBindings(t),e.templateProperties=[];var n=document.createDocumentFragment();(function t(n,a,r){for(var o in n){var i=n[o],l=i.node.cloneNode();a.appendChild(l);var s=[],u=!1;if(i.data)for(var c in i.data){var d=i.data[c],p=d.name;if(e.templateProperties[p]=!0,l.removeAttribute(T.Core.toDash(c)),"*items"===c)s=e[p],u=!0;else if(p.indexOf("item.")>=0&&void 0!==r)d.value=r[p.substring("item.".length)],l[c]=d.value;else if(p.indexOf("item")>=0&&void 0!==r)d.value=r,l[c]=d.value;else if("*if"===c)if(p.indexOf("(")>=0){var m=void 0,f=p.substring(p.indexOf("(")),h=p.substring(0,p.indexOf("("));if((f=(f=(f=f.substring(1,f.length-1)).replace(/ /gi,"")).split(",")).length>0&&""!==f[0]){for(var v=[],g=0;g<f.length;g++)v.push(e[f[g]]);m=e[h].apply(e,v)}else m=e[h]();!1===m&&a.removeChild(l)}else e[p]||a.removeChild(l);else e.updateBoundNode(l,i,e,p)}if(s.length>0||u){for(var y=0;y<s.length;y++)i.children&&t(i.children,l,s[y]);if("number"==typeof s)for(var b=0;b<s;b++)i.children&&t(i.children,l,b)}else i.children&&t(i.children,l,r)}})(e.templateBindings.children,n),e.$.templateContainer.innerHTML="",e.$.templateContainer.appendChild(n),e.templateAttached(e.$.templateContainer)}}},{key:"templateAttached",value:function(){}},{key:"templateDetached",value:function(){}},{key:"appendTemplate",value:function(e){this.appendChild(e)}},{key:"defineElementModules",value:function(){var e=this,t=e.constructor.prototype;if("BaseElement"===t.elementName){t.modules=e.constructor.modules;for(var n=t.modules,a=0;a<n.length;a+=1)e.addModule(n[a])}else{var r=t.modules;if(!r)return;for(var o=0;o<r.length;o+=1){var i=r[o],l=i.prototype;e.defineElementMethods(l.methodNames,l),e.defineElementProperties(i.properties)}}}},{key:"watch",value:function(e,t){this._watch=null!==e&&null!==t?{properties:e,propertyChangedCallback:t}:null}},{key:"unwatch",value:function(){this._watch=null}},{key:"set",value:function(e,t,n){var a=this,r=a.context;a.context=!0===n?document:a,a[e]=t,a.context=r}},{key:"get",value:function(e){return this[e]}},{key:"_setModuleState",value:function(e,t){for(var n="is"+e.substring(0,1).toUpperCase()+e.substring(1),a="on"+e.substring(0,1).toUpperCase()+e.substring(1),r=0;r<this.modulesList.length;r++){var o=this.modulesList[r];o[n]=!0,o[e]&&o[e](t),o[a]&&o[a](t)}}},{key:"addModule",value:function(e,t){var n=this;if(e){var a=n.modules.slice(0),r=e.prototype,o=Object.getPrototypeOf(e);if(o.name&&o.name!==e.name&&n.addModule(o),!e.moduleName&&e.name&&(e.moduleName=e.name),-1===a.findIndex((function(t){return e.moduleName===t.moduleName}))&&a.push(e),n.defineModule(e),n.defineElementMethods(r.methodNames,r),n.defineElementProperties(e.properties),n.constructor.prototype.modules=a,t)for(var i in Smart.Elements.tagNames){for(var l=Smart.Elements.tagNames[i],s=Object.getPrototypeOf(l),u=[];s!==HTMLElement;)u.push(s.prototype),s=Object.getPrototypeOf(s);u.indexOf(n)>=0&&l!==n&&l.prototype.addModule(e)}}}},{key:"defineModule",value:function(e){if(!e.isDefined){e.prototype._initModule=function(e){this.ownerElement=e};var t=e.properties||{},n=Object.keys(t),a=Object.getOwnPropertyNames(e.prototype);e.prototype.methodNames=a;for(var r=function(a){var r=n[a],o=t[r];Object.defineProperty(e.prototype,r,{configurable:!1,enumerable:!0,get:function(){return this.ownerElement?this.ownerElement[r]:o.value},set:function(e){this.ownerElement[r]=e}})},o=0;o<n.length;o+=1)r(o);e.isDefined=!0}}},{key:"getStaticMember",value:function(e,t){var n=window[u][this.elementName],a=n[e];t||(t="");for(var r="array"===t?[]:"string"===t?"":{},o=Object.getPrototypeOf(n),i=[];o[e];)i.push(o[e]),o=Object.getPrototypeOf(o);for(var l=i.length-1;l>=0;l--)if("array"===t)for(var s=0;s<i[l].length;s++)-1===r.indexOf(i[l][s])&&r.push(i[l][s]);else"string"===t?-1===r.indexOf(i[l])&&(r+=i[l]):r=T.Core.assign(r,i[l]);if("array"===t){for(var c=0;c<a.length;c++)-1===r.indexOf(a[c])&&r.push(a[c]);return r}return"string"===t?(-1===r.indexOf(a)&&(r+=a),r):T.Core.assign(r,a)}},{key:"defineElementHierarchicalProperties",value:function(e,t){var n=[];!function(e){for(var a=Object.keys(e),r=0;r<a.length;r++){var o=a[r];if("messages"!==o){var i=e[o],l=Object.keys(i),s=l.indexOf("value")>=0&&l.indexOf("type")>=0&&"object"==d(i.value);("propertyObject"===i.type||s)&&function e(a,r){if(a.value)for(var o=Object.keys(a.value),i=function(i){var l=o[i],s=a.value[l],u=r+"_"+l;if("object"!=d(s)||null===s)return"break";var c=Object.keys(s);if(!(c.indexOf("value")>=0&&c.indexOf("type")>=0))return"break";if("array"!==a.type&&(a.isHierarchicalProperty=!0),s.parentPropertyName=r,t){var p=t._properties[u];if(a.value.hasOwnProperty(l)){if(p.isDefined)return"continue";delete a.value[l]}p.isDefined=!0,Object.defineProperty(a.value,l,{configurable:!1,enumerable:!0,get:function(){return t._properties[u].value},set:function(e){t.updateProperty(t,t._properties[u],e)}})}n[u]||(n[u]=s,n.length++),("propertyObject"===s.type||"object"==d(s.value)&&"array"!==s.type)&&e(t?t._properties[u]:s,u)},l=0;l<o.length;l++){if("break"===i(l))break}}(i,o)}}}(e),n.length>0&&!t&&this.defineElementProperties(n)}},{key:"defineElement",value:function(){var e=this,t=e.constructor.prototype,n=e.getStaticMember("properties"),a=Object.getOwnPropertyNames(t);t.extendedProperties={},t.boundProperties={},t.templateListeners={},e.defineElementModules(),e.defineElementMethods(a,t),e.defineElementProperties(n),e.defineElementHierarchicalProperties(e.extendedProperties),t._initElement=function(){var e=this,n=t.extendedProperties,a=Object.keys(n),r=e.modules;e.$=T.Extend(e),e.$document=$,e.smartId=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),e.isCreated||(e.modulesList=[],e._properties=[],e._beforeCreatedProperties&&(e._properties=e._beforeCreatedProperties,delete e._beforeCreatedProperties),e.detachedChildren=[],e.propertyByAttributeName=[]);for(var o=0;o<r.length;o+=1){var i=new(0,r[o]);i._initModule(e),e.modulesList.push(i)}for(var l=function(t){var r=a[t],o=n[r],i=o.value;if(e._properties[r]){if(void 0!==e._properties[r].notify)return"continue";delete e._properties[r]}if(I&&"innerHTML"===r&&delete e[r],-1===window.navigator.userAgent.indexOf("PhantomJS")&&e.hasOwnProperty(r)&&(i=e[r],delete e[r]),"array"===o.type&&null!=i&&(i=i.slice(0)),"object"===o.type&&null!=i&&(i=Array.isArray(i)?i.slice(0):Object.assign({},i)),e._properties[r]={name:r,notify:o.notify,allowedValues:o.allowedValues,type:o.type,nullable:o.nullable,reflectToAttribute:o.reflectToAttribute,defaultReflectToAttribute:o.defaultReflectToAttribute,defaultReflectToAttributeConditions:o.defaultReflectToAttributeConditions,value:i,readOnly:o.readOnly,defaultValue:i,attributeName:o.attributeName,observer:o.observer,inherit:o.inherit,extend:o.extend,validator:o.validator},e.propertyByAttributeName[o.attributeName]=e._properties[r],!o.hasOwnProperty("type")){var l=e.localize("propertyUnknownType",{name:r});e.log(l)}if("any"===o.type||"propertyObject"===o.type)return"continue";var s=T.Types.getType(i);if(null!=i&&o.type!==s&&!o.validator){if("object"===o.type&&"array"===s)return"continue";if("number"===s&&["integer","int","float"].findIndex((function(e){return e===o.type}))>=0)return"continue";var u=e.localize("propertyInvalidValueType",{name:r,actualType:s,type:o.type});e.log(u)}},s=0;s<a.length;s+=1)l(s);e.defineElementHierarchicalProperties(e._properties,e),e.isCreated=!0},t.registered()}},{key:"defineElementMethods",value:function(e,t){var n=this.constructor.prototype,a=["constructor","ready","created","render","attached","detached","appendChild","insertBefore","removeChild","connect","disconnectedCallback","connectedCallback","attributeChangedCallback","propertyChangedHandler","enableShadowDOM","isInShadowDOM","addPropertyBindings"],r=function(r){var o=e[r];o.startsWith("_")||void 0!==a.find((function(e){return e===o}))||n.extendedProperties[o]||T.Types.isFunction(t[o])&&(n[o]=function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){if(!this.isReady&&"localize"!==t&&"localize"!==t&&"cloneNode"!==t&&"importStyle"!==t&&"log"!==t&&"parseAttributes"!==t){var a=this.localize("elementNotInDOM");this.log(a)}for(var r=this,o=0;o<this.modulesList.length;o++){var i=this.modulesList[o];if(t in i){r=i;break}}var l=this.context,s=n.concat(Array.prototype.slice.call(arguments)),u=null,c=function(e,t){return e===t||"number"===e&&("int"===t||"integer"===t||"float"===t)||"bool"===e&&"boolean"===t||"boolean"===e&&"bool"===t||"object"===e&&"any"===t||void 0};if(this.methods){var d=this.methods[t];if(d){var p=d.split(":");u=p[p.length-1].trim();for(var m=[],f=d.substring(1+d.indexOf("("),d.lastIndexOf(")")).split(","),h="",v=0;v<f.length;v++){var g=f[v];h+=g,g.indexOf(":")>=0?(m.push(h),h=""):h+=","}for(var y=m.length,b=0;b<m.length;b++){var w=m[b].trim().split(":"),_=w[0].split("=")[0].trim().indexOf("?")>=0,k=w[1].indexOf("?")>=0,C=w[1].replace(/\?/gi,"").trim(),D=C.split("|"),x=w[0].split("=")[1],E=T.Types.getType(s[b]);if(void 0===s[b]&&x){switch(x=x.trim(),C[0]){case"date":var S=x.substring(x.indexOf("(")+1,x.lastIndexOf(")"));x=0===(S=S.length>0?S.split(",").map((function(e){return parseInt(e)})):[]).length?new Date:new Date(S[0],S[1],S[2]);break;case"bool":case"boolean":x="true"===x||"1"===x;break;case"int":case"integer":x=parseInt(x);break;case"float":case"number":x=parseFloat(x);break;case"any":case"object":x=x.indexOf("{")>=0?JSON.parse(x):x}s.push(x)}else _&&y--;if(C!==E&&E){for(var A=!0,$=0;$<D.length;$++)if(c(E,D[$])){A=!1;break}if(A&&(null!==s[b]||!k)){var F=this.localize("methodInvalidValueType",{name:t,actualType:E,type:C,argumentIndex:b});this.log(F)}}if(s.length<y){var L=this.localize("methodInvalidArgumentsCount",{name:t,actualArgumentsCount:s.length,argumentsCount:y});this.log(L)}}}}this.context=this;var H=e.apply(r,s);if(u){var O=void 0===T.Types.getType(H)?"void":T.Types.getType(H);if(!c(O,u)){var P=this.localize("methodInvalidReturnType",{name:t,actualType:O,type:u});this.log(P)}}return this.context=l,H}}(t[o],o))};for(var o in e)r(o)}},{key:"defineElementProperties",value:function(e){if(e){var t=this,n=t.constructor.prototype,a=Object.keys(e),r=t.getStaticMember("properties");Object.assign(n.extendedProperties,e),t.updateProperty=function(e,t,n){var a=e;if(t&&!t.readOnly){if(t.allowedValues){for(var r=!1,o=0;o<t.allowedValues.length;o++)if(t.allowedValues[o]===n){r=!0;break}if(!r){var i=JSON.stringify(t.allowedValues).replace(/\[|\]/gi,"").replace(",",", ").replace(/"/gi,"'"),l="'"+n+"'",s=a.localize("propertyInvalidValue",{name:t.name,actualValue:l,value:i});return void a.log(s)}}var u=t.name,c=a._properties[u].value;if(t.validator&&a[t.validator]){var p=a.context;a.context=a;var m=a[t.validator](c,n);void 0!==m&&(n=m),a.context=p}if(c!==n){if(a.propertyChanging){var f=a.propertyChanging(u,c,n);if(!1===f||null===f)return}if(!t.hasOwnProperty("type")){var h=a.localize("propertyUnknownType",{name:u});a.log(h)}if("array"!==t.type||JSON.stringify(c)!==JSON.stringify(n)){if(null!=n&&"any"!==t.type&&"propertyObject"!==t.type&&t.type!==T.Types.getType(n)&&!t.validator||null===n&&!t.nullable){var v=!0;if("object"===t.type&&"array"===T.Types.getType(n)&&(v=!1),"number"===T.Types.getType(n)&&["integer","int","float"].findIndex((function(e){return e===t.type}))>=0&&(v=!1),v){var g=a.localize("propertyInvalidValueType",{name:u,actualType:T.Types.getType(n),type:t.type});return void a.error(g)}}if(t.isUpdating=!0,t.isHierarchicalProperty?function e(t,n){for(var r=Object.keys(t),o=0;o<r.length;o++){var i=r[o],l=t[i];"object"==d(l)&&!T.Types.isArray(l)&&l&&l.constructor!==Date?e(l,n+"_"+i):a[n+"_"+i]=l}}(n,u):a._properties[u].value=n,!t.isUpdatingFromAttribute&&t.reflectToAttribute&&a.$.setAttributeValue(t.attributeName,n,t.type),a.isReady&&(!a.ownerElement||a.ownerElement&&a.ownerElement.isReady)){if("wait"===u&&(n||!c||a.isCompleted||(a.classList.remove("smart-visibility-hidden"),a.ownerElement&&a.ownerElement.updateBoundMappedNodes(),a.updateBoundMappedNodes(),a.complete())),"renderMode"===u)return;if(a.context!==a&&!a.wait){var y=a.context;a.context=a,a.propertyChangedHandler(u,c,n),a.context=y,t.observer&&a[t.observer]&&(a.context=a,a[t.observer](c,n),a.context=document),a._watch&&a._watch.properties.indexOf(u)>=0&&a._watch.propertyChangedCallback(u,c,n)}var b=t.notify||a.boundProperties[u];b&&(a.$.fireEvent(t.attributeName+"-changed",{context:a.context,oldValue:c,value:a[u]}),a.boundProperties[u]&&a.updateBoundNodes(u)),b&&a.templateProperties&&a.templateProperties[u]&&a.refreshTemplate(),a.dataContextProperties&&("dataContext"===u?a.applyDataContext():a.dataContextProperties[u]&&a.updateDataContextProperty(u))}t.isUpdating=!1}}}};for(var o=function(t){var o=a[t],i=e[o],l=T.Core.toDash(o),s=i.type||"any",u=s.indexOf("?")>=0||"any"===s;u&&"any"!==s&&(i.type=s.substring(0,s.length-1)),i.nullable=u,i.attributeName=l.toLowerCase(),i.name=o,i.reflectToAttribute=void 0===i.reflectToAttribute||i.reflectToAttribute,i.inherit&&r[o]&&(i.value=r[o].value),i.extend&&r[o]&&T.Core.assign(i.value,r[o].value),n.hasOwnProperty(o)||Object.defineProperty(n,o,{configurable:!1,enumerable:!0,get:function(){if(this._properties[o])return this._properties[o].value},set:function(e){var t=this;t.updateProperty(t,t._properties[o],e)}})},i=0;i<a.length;i+=1)o(i)}}}],[{key:"properties",get:function(){return{animation:{value:"advanced",type:"string",allowedValues:["none","simple","advanced"]},unfocusable:{value:!1,type:"boolean"},disabled:{value:!1,type:"boolean"},dataContext:{value:null,reflectToAttribute:!1,type:"any"},debugMode:{value:!0,type:"boolean",reflectToAttribute:!1},locale:{value:"en",type:"string",reflectToAttribute:!1},localizeFormatFunction:{value:void 0,type:"function",reflectToAttribute:!1},messages:{value:{en:{propertyUnknownName:"Invalid property name: '{{name}}'!",propertyUnknownType:"'{{name}}' property is with undefined 'type' member!",propertyInvalidValue:"Invalid '{{name}}' property value! Actual value: '{{actualValue}}', Expected value: '{{value}}'!",propertyInvalidValueType:"Invalid '{{name}}' property value type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",methodInvalidValueType:"Invalid '{{name}}' method argument value type! Actual type: '{{actualType}}', Expected type: '{{type}}' for argument with index: '{{argumentIndex}}'!",methodInvalidArgumentsCount:"Invalid '{{name}}' method arguments count! Actual arguments count: '{{actualArgumentsCount}}', Expected at least: '{{argumentsCount}}' argument(s)!",methodInvalidReturnType:"Invalid '{{name}}' method return type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",elementNotInDOM:"Element does not exist in DOM! Please, add the element to the DOM, before invoking a method.",moduleUndefined:"Module is undefined.",missingReference:"{{elementType}}: Missing reference to '{{files}}'.",htmlTemplateNotSuported:"{{elementType}}: Web Browser doesn't support HTMLTemplate elements.",invalidTemplate:"{{elementType}}: '{{property}}' property accepts a string that must match the id of an HTMLTemplate element from the DOM."}},reflectToAttribute:!1,inherit:!0,type:"object"},props:{value:null,reflectToAttribute:!1,isHierarchicalProperty:!0,type:"any"},readonly:{value:!1,type:"boolean"},renderMode:{value:"auto",type:"string",reflectToAttribute:!1,allowedValues:["auto","manual"]},rightToLeft:{value:!1,type:"boolean"},rethrowError:{value:!0,type:"boolean",reflectToAttribute:!1},theme:{value:window[u].Theme,type:"string"},visibility:{value:"visible",allowedValues:["visible","collapsed","hidden"],type:"string"},wait:{value:!1,type:"boolean"}}}},{key:"clearCache",value:function(){this.cache={}}},{key:"requires",get:function(){return{}}},{key:"listeners",get:function(){return{"theme-changed":function(e){this.theme=e.detail.newValue}}}},{key:"methods",get:function(){return{}}},{key:"modules",get:function(){return window[u].Modules}},{key:"version",get:function(){return window[u].Version}}]),r}(i(HTMLElement)),O=[],P=[],B=[],I=!1,M=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);M&&parseInt(M[2],10)<=50&&(I=!0);var R=function(){function e(){p(this,e)}return f(e,null,[{key:"register",value:function(e,t){var n=t.prototype,a=b.toCamelCase(e).replace(/[a-z]+/,""),r=t.version||window[u].Version;if(!window.customElements.get(e)||window.customElements.get(e).version!==r){var o=e;for(r=r.split(".");window.customElements.get(e);)e=o+"-"+r.join("."),r[2]=parseInt(r[2])+1;if(!O[e]){if(e.startsWith(u.toLowerCase()))O[e]=window[u][a]=window[u.toLowerCase()+a]=t;else{var i=e.split("-")[0];i=i.substring(0,1).toUpperCase()+i.substring(1),window[u][i]||(window[u][i]={}),O[e]=window[u][i][a]=window[i.toLowerCase()+a]=t,window[u][a]&&(a=b.toCamelCase(e)),window[u][a]=t}n.elementName=a,n.defineElement(),P[e]&&P[e](n),window.customElements.define(e,t)}}}},{key:"registerElements",value:function(){var e=this;if(e.toRegister){e.isRegistering=!0;for(var t=0;t<e.toRegister.length;t++){var n=e.toRegister[t];e.register(n.tagName,n.element)}e.isRegistering=!1}}},{key:"get",value:function(e){if(O[e])return O[e]}},{key:"whenRegistered",value:function(e,t){if(!e)throw new Error("Syntax Error: Invalid tag name");var n=P[e],a=this.get(e),r=a?a.modules.length:3;try{n||a?!n&&a?(t(a.prototype),P[e]=void 0):n&&!a?P[e]=function(e){n(e),t(e)}:n&&a&&(a.proto&&(n(a.proto),t(a.proto)),P[e]=void 0):P[e]=function(e){try{t(e)}catch(e){var n=e instanceof Error?e.message:e.toString();console.log(n)}}}catch(e){var o=e instanceof Error?e.message:e.toString();console.log(o)}if(a&&r!==a.prototype.modules.length)for(var i=document.querySelectorAll(e),l=0;l<i.length;l++){var s=i[l];s.isCreated&&s._initElement()}}}]),e}();R.lazyRegister=!1,R.tagNames=[];var z=function(){function e(){p(this,e);var t=this;t.name="observableArray",t.observables=arguments.length<3?null:arguments[2];var n=new Proxy(t,{deleteProperty:function(e,t){return delete e[t],!0},apply:function(e,t,n){return e.apply(t,n)},get:function(e,n){return e[n]||isNaN(parseInt(n))?e[n]:t.getItem(parseInt(n))},set:function(e,n,a){return e[n]||isNaN(parseInt(n))?(e[n]=a,!0):(t.setItem(parseInt(n),a),!0)}});if(t._addArgs={eventName:"change",object:n,action:"add",index:null,removed:new Array,addedCount:1},t._removeArgs={eventName:"change",object:n,action:"remove",index:null,removed:null,addedCount:0},arguments.length>=1&&Array.isArray(arguments[0])){t._array=[];for(var a=arguments[0],r=0,o=a.length;r<o;r++){var i=t._getItem(t._array.length,a[r]);t._array.push(i)}}else t._array=Array.apply(null,arguments);return 2===arguments.length&&(t.notifyFn=arguments[1]),n}return f(e,[{key:"canNotify",get:function(){var e=this;return void 0===e._canNotify&&(e._canNotify=!0),e._canNotify},set:function(e){this._canNotify=e}},{key:"_notify",value:function(e){var t=this;t.canNotify&&t.notifyFn&&t.notifyFn(e)}},{key:"notify",value:function(e){e&&(this.notifyFn=e)}},{key:"toArray",value:function(){return this._array}},{key:"_getItem",value:function(e,t){var n=this;return"string"==typeof t||"number"==typeof t||void 0===t?t:new Proxy(t,{deleteProperty:function(e,t){return delete e[t],!0},set:function(t,a,r){var o=t[a];return t[a]=r,!n._canNotify||!1===t.canNotify||(n.observables&&!n.observables[a]||n._notify({eventName:"change",object:n,target:t,action:"update",index:e,path:e+"."+a,oldValue:o,newValue:r,propertyName:a}),!0)}})}},{key:"getItem",value:function(e){return this._array[e]}},{key:"setItem",value:function(e,t){var n=this,a=n._array[e];n._array[e]=n._getItem(e,t),n._notify({eventName:"change",object:n._array,action:"update",index:e,removed:[a],addedCount:1})}},{key:"length",get:function(){return this._array.length},set:function(e){var t=this;v.isNumber(e)&&t._array&&t._array.length!==e&&t.splice(e,t._array.length-e)}},{key:"toString",value:function(){return this._array.toString()}},{key:"toLocaleString",value:function(){return this._array.toLocaleString()}},{key:"concat",value:function(){var e=this;e._addArgs.index=e._array.length;var t=e._array.concat.apply(e._array,arguments);return new Smart.ObservableArray(t)}},{key:"join",value:function(e){return this._array.join(e)}},{key:"pop",value:function(){var e=this;e._removeArgs.index=e._array.length-1,delete e[e._array.length-1];var t=e._array.pop();return e._removeArgs.removed=[t],e._notify(e._removeArgs),e._notifyLengthChange(),t}},{key:"push",value:function(){var e=this;if(e._addArgs.index=e._array.length,1===arguments.length&&Array.isArray(arguments[0]))for(var t=arguments[0],n=0,a=t.length;n<a;n++){var r=e._getItem(e._array.length,t[n]);e._array.push(r)}else{var o=e._getItem(e._addArgs.index,arguments[0]);e._array.push.apply(e._array,[o])}return e._addArgs.addedCount=e._array.length-e._addArgs.index,e._notify(e._addArgs),e._notifyLengthChange(),e._array.length}},{key:"_notifyLengthChange",value:function(){var e=this;if(e.canNotify){var t=e._createPropertyChangeData("length",e._array.length);e._notify(t)}}},{key:"_createPropertyChangeData",value:function(e,t,n){return{eventName:"change",object:this,action:e,value:t,oldValue:n}}},{key:"reverse",value:function(){return this._array.reverse()}},{key:"shift",value:function(){var e=this,t=e._array.shift();return e._removeArgs.index=0,e._removeArgs.removed=[t],e._notify(e._removeArgs),e._notifyLengthChange(),t}},{key:"slice",value:function(e,t){return this._array.slice(e,t)}},{key:"sort",value:function(e){return this._array.sort(e)}},{key:"splice",value:function(e,t,n){var a,r=this,o=r._array.length;if(n&&n.length)for(var i=0;i<n.length;i++)a=r._array.splice(e+i,t,n[i]);else a=r._array.splice.apply(r._array,arguments);if(n){var l=r.canNotify;if(r.canNotify=!1,n.length)for(var s=0;s<n.length;s++)r.setItem(e+s,n[s]);else r.setItem(e,n);r.canNotify=l,r._notify({eventName:"change",object:this,action:"add",index:e,added:a,addedCount:r._array.length>o?r._array.length-o:0})}else r._notify({eventName:"change",object:this,action:"remove",index:e,removed:a,addedCount:r._array.length>o?r._array.length-o:0});return r._array.length!==o&&r._notifyLengthChange(),a}},{key:"unshift",value:function(){var e=this,t=e._array.length,n=e._array.unshift.apply(e._array,arguments);return e._addArgs.index=0,e._addArgs.addedCount=n-t,e._notify(this._addArgs),e._notifyLengthChange(),n}},{key:"indexOf",value:function(e,t){for(var n=t||0,a=this._array.length;n<a;n++)if(this._array[n]===e)return n;return-1}},{key:"lastIndexOf",value:function(e,t){for(var n=t||this._array.length-1;n>=0;n--)if(this._array[n]===e)return n;return-1}},{key:"find",value:function(e,t){return this._array.find(e,t)}},{key:"findIndex",value:function(e,t){return this._array.findIndex(e,t)}},{key:"every",value:function(e,t){return this._array.every(e,t)}},{key:"some",value:function(e,t){return this._array.some(e,t)}},{key:"forEach",value:function(e,t){this._array.forEach(e,t)}},{key:"map",value:function(e,t){return this._array.map(e,t)}},{key:"filter",value:function(e,t){return this._array.filter(e,t)}},{key:"reduce",value:function(e,t){return void 0!==t?this._array.reduce(e,t):this._array.reduce(e)}},{key:"reduceRight",value:function(e,t){return void 0!==t?this._array.reduceRight(e,t):this._array.reduceRight(e)}},{key:"move",value:function(e,t){this.splice(t,0,this.splice(e,1)[0])}}]),e}(),N={};window[u]&&(N=window[u]),window[u]=function(e,t){var n=e;if(e){if(e.indexOf("#")>=0||e.indexOf(".")>=0)return C[e]?C[e]:t?(C[e]=new t,function(e,t){var n=t.properties;t._properties=[],function n(a,r){for(var o=Object.keys(a),i=function(i){var l=o[i],s=a[l];t._properties[r+l]=s,Array.isArray(s)?t._properties[r+l]=new z(s,(function(t){var n=l+"."+t.path,a=t.newValue,r=document.querySelector(e);if(r){for(var o=n.split("."),i=r,s=0;s<o.length;s++)i=i[o[s]];i=a}})):(Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:function(){return t._properties[r+l]},set:function(e){t._properties[r+l]=e}}),s&&"DataAdapter"===s.constructor.name||s&&"object"==d(s)&&Smart.DataAdapter&&s instanceof Smart.DataAdapter||"object"==d(s)&&s&&Object.keys(s).length>0&&n(s,r+l+"."))},l=0;l<o.length;l++)i(l)}(n,""),Object.defineProperty(t,"properties",{configurable:!1,enumerable:!0,get:function(){return n}});var a=document.querySelector(e);if(a&&a.isReady)for(var r in n)a[r]=n[r];else if(a)for(var o in a.props={},n)a.props[o]=n[o]}(e,C[e]),C[e]):void 0;if(t){if(R.tagNames[e]=t,R.lazyRegister){R.toRegister||(R.toRegister=[]);var a=b.toCamelCase(n).replace(/[a-z]+/,"");return window[u][a]=t,void R.toRegister.push({tagName:n,element:t})}R.register(n,t)}}},window.addEventListener("load",(function(){var e=window[u].Elements.tagNames,t=[];for(var n in e){for(var a=e[n],r=document.querySelectorAll("["+n+"]"),o=0;o<r.length;o++){var i=r[o];i instanceof HTMLDivElement&&(i.__proto__=a.prototype,i.created(),i.connectedCallback()),i.classList.add("smart-element-ready")}var l=a.name;"Item"===l&&(l="ListItem"),r=document.querySelectorAll('[is="'+u.toLocaleLowerCase()+l+'"]');for(var s=0;s<r.length;s++)t.push(r[s])}if(t.length>0){var c=function(e){for(var t=[],n=e.parentNode;n&&9!==n.nodeType;)n instanceof HTMLElement==1&&t.push(n),n=n.parentNode;return t};t.sort((function(e,t){var n=c(e).length,a=c(t).length;return n<a?1:n>a?-1:0}));for(var d=0;d<t.length;d++){var p=t[d],m=p.getAttribute("is");("smartItem"===m?new window.smartListItem(p):new window[m](p)).removeAttribute("is")}}}));var V=function e(){if("complete"===document.readyState&&"manual"!==window[u].RenderMode){B.sort((function(e,t){var n=e.element.parents.length,a=t.element.parents.length;return n<a?-1:n>a?1:0}));for(var t=0;t<B.length;t++)window[u].RenderMode="",B[t].element.isLoading=!1,B[t].callback(),window[u].RenderMode="";B=[],document.removeEventListener("readystatechange",e)}};Object.assign(window[u],{Elements:R,Modules:[],BaseElement:function(i){n(s,i);var l=a(s);function s(t,n){var a;p(this,s);var i=o(a=l.call(this));if(t){n&&(i._initProperties=n);var u=function(t){if("string"==typeof t?document.querySelector(t):t){var a="string"==typeof t?document.querySelector(t):t;if(a instanceof HTMLDivElement){var r,o=document.createElement(i.tagName),l=function(t,n){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,n){if(t){if("string"==typeof t)return e(t,n);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){a&&(t=a);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){a=a.call(t)},n:function(){var e=a.next();return l=e.done,e},e:function(e){s=!0,i=e},f:function(){try{l||null==a.return||a.return()}finally{if(s)throw i}}}}(a.attributes);try{for(l.s();!(r=l.n()).done;){var s=r.value;o.setAttribute(s.name,a.getAttribute(s.name))}}catch(e){l.e(e)}finally{l.f()}for(;a.childNodes.length;)o.appendChild(a.firstChild);return"string"==typeof t&&(o.id=t.substring(1)),o._initProperties=n,a.parentNode&&a.parentNode.replaceChild(o,a),o}if(n){var u=a.context;if(a._initProperties=n,a.isReady){a.context=a;var c={},d={};for(var p in n)c[p]=a[p],d[p]=n[p];Object.getOwnPropertyNames(n).length>0&&(a.initProperties(),a.propertyChangedHandler(n,c,d)),a.context=u}}return a}};if("string"==typeof t){var c=document.querySelectorAll(t),d=[];if(c.length>1){for(var m=0;m<c.length;m++){var f=u(c[m]);d.push(f)}return r(a,d)}}else if(t&&t.length>0){var h=t;if(h.length>1){for(var v=0;v<h.length;v++){var g=u(h[v]);O.push(g)}return r(a,O)}}return r(a,u(t))}return i._styleUrl="",i.isUtilityElement||i.created(),a}return f(s,[{key:"styleUrl",get:function(){return this._styleUrl},set:function(e){this._styleUrl=e}},{key:"isInShadowDOM",get:function(){var e=this,t=e.getRootNode();return!e.hasAttribute("smart-blazor")&&t!==document&&t!==e}},{key:"getShadowRootOrBody",value:function(){return this.isInShadowDOM?this.getRootNode().host.shadowRoot:document.body}},{key:"enableShadowDOM",get:function(){return window[u].EnableShadowDOM}},{key:"importStyle",value:function(e,t){this._importStyle(e,t)}},{key:"_importStyle",value:function(e,t){var n=this;if(n.shadowRoot&&e){var a=function(e){for(var a=n.shadowRoot.children,r=0;r<a.length;r++){var o=a[r];if(o instanceof HTMLLinkElement&&o.href===e)return t&&t(),null}var i=document.createElement("link");return i.rel="stylesheet",i.type="text/css",i.href=e,i.onload=t,i},r=function(){for(var e=n.shadowRoot.children,t=null,a=0;a<e.length;a++){var r=e[a];r instanceof HTMLLinkElement&&(t=r)}return t}(),o=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)};if(Array.isArray(e)){for(var i=document.createDocumentFragment(),l=0;l<e.length;l++){var s=a(e[l]);s&&i.appendChild(s)}r?o(i,r):n.shadowRoot.insertBefore(i,n.shadowRoot.firstChild)}else{var u=a(e);if(!u)return;r?o(u,r):n.shadowRoot.insertBefore(u,n.shadowRoot.firstChild)}}}},{key:"attributeChanged",value:function(e,t,n){"style-url"===e&&(this.styleUrl=n)}},{key:"attributeChangedCallback",value:function(e,n,a){this.isReady&&t(c(s.prototype),"attributeChangedCallback",this).call(this,e,n,a)}},{key:"_getRootShadowParent",value:function(){for(var e=this.shadowParent;e;){if(!e.shadowParent)return e;e=e.shadowParent}return e||this.shadowParent}},{key:"_getStyleUrl",value:function(e){var t=T.Core.getScriptLocation()+window[u].StyleBaseUrl+e;return this.shadowParent&&(t=t.replace("scoped/","")),t}},{key:"_getStyleUrls",value:function(){var e=this;e.nodeName.startsWith(u);for(var t=e.getStaticMember("styleUrls","array"),n=[],a=0;a<t.length;a++){var r=t[a],o=e._getStyleUrl(r);n.push(o)}return n}},{key:"_setupShadowRoot",value:function(){var e=this;e.classList.add("smart-element-init");var t=function(t){t.$.root&&(t.$.root.classList.add(u.toLowerCase()+"-element"),t.$.root.classList.add(e.nodeName.toLowerCase())),t.setup(),t.classList.remove("smart-element-init")};if(document.adoptedStyleSheets)if(window[u].AdoptedStyleSheets)window[u].AdoptedStyleSheetsLoaded?(e.shadowRoot.adoptedStyleSheets=window[u].AdoptedStyleSheets,t(e)):(e.shadowRoot.adoptedStyleSheets=window[u].AdoptedStyleSheets,window[u].AdoptedStyleSheetsLoadedQueue||(window[u].AdoptedStyleSheetsLoadedQueue=[]),window[u].AdoptedStyleSheetsLoadedQueue.push(e));else{var n=new CSSStyleSheet,a=T.Core.getScriptLocation()+"/styles/smart.default.css";n.replace('@import url("'+a+'")').then((function(){if(t(e),window[u].AdoptedStyleSheetsLoaded=!0,window[u].AdoptedStyleSheetsLoadedQueue){for(var n=window[u].AdoptedStyleSheetsLoadedQueue,a=0;a<n.length;a++){var r=n[a];t(r)}delete window[u].AdoptedStyleSheetsLoadedQueue}})).catch((function(e){console.error("Failed to load:",e)})),window[u].AdoptedStyleSheets=[n],document.adoptedStyleSheets=[n],e.shadowRoot.adoptedStyleSheets=window[u].AdoptedStyleSheets}}},{key:"connect",value:function(){var e=this;window[u].EnableShadowDOM&&!e.shadowRoot&&!0!==e.isInShadowDOM&&(e.attachShadow({mode:"open"}),e.shadowRoot&&e.$.root&&(e.shadowRoot.appendChild(e.$.root),e.$.root.classList.add(e.nodeName.toLowerCase()))),e.shadowRoot||e.shadowParent?e.shadowRoot?e._setupShadowRoot():(e.shadowParent&&window[u].EnableShadowDOM,e.setup()):e.setup()}},{key:"connectedCallback",value:function(){var e=this;if(!e.isLoading&&!e.isUtilityElement){e.classList.add("smart-element-init");var t=function(){e.classList.remove("smart-element-init")};if("complete"===document.readyState&&(void 0===window[u].isAngular&&(window[u].isAngular=null!==document.body.querySelector("[ng-version]")),window[u].isAngular))for(var n=0;n<e.parents.length&&!e.parents[n].nodeName.toLowerCase().startsWith(u.toLowerCase()+"-");n++)if(e.parents[n].hasAttribute("ng-version")&&!e.classList.contains("smart-angular")){window[u].RenderMode="manual";break}if("complete"===document.readyState&&"manual"!==window[u].RenderMode){var a=e.parents;a.length&&"HTML"===a[a.length-1].nodeName||e.getRootNode().host?(e.checkIsInDomTimer&&clearInterval(e.checkIsInDomTimer),t(),e.connect()):(e.checkIsInDomTimer&&clearInterval(e.checkIsInDomTimer),a.length>0&&(e.checkIsInDomTimer=setInterval((function(){var n=e.parents;0===n.length&&clearInterval(e.checkIsInDomTimer),n.length>0&&"HTML"===n[n.length-1].nodeName&&(clearInterval(e.checkIsInDomTimer),t(),e.connect())}),100)))}else e.isLoading=!0,B.push({element:this,callback:function(){this.isReady||(t(),this.connect())}.bind(e)})}}},{key:"disconnectedCallback",value:function(){var e=this;e.isAttached?(e.shadowParent=null,e.detached()):e._resetShadowParent()}},{key:"adoptedCallback",value:function(){this.setup()}},{key:"appendTemplate",value:function(e){var t=this;t.shadowRoot?t.shadowRoot.appendChild(e):t.appendChild(e)}},{key:"_resetShadowParent",value:function(){var e=this;if(window[u].EnableShadowDOM&&null!==e.shadowParent){for(var t=[],n=e.parentNode;n&&9!==n.nodeType;){if(n instanceof HTMLElement==1)t.push(n);else if(11===n.nodeType&&n.host){n=n.host;continue}n=n.parentNode}for(var a=0;a<t.length;a++)if(t[a]===e.shadowParent)return;t.length>0&&"HTML"===t[t.length-1].nodeName&&(e.shadowParent=null)}}}],[{key:"observedAttributes",get:function(){var e=["external-style"];for(var t in this.prototype.extendedProperties){var n=this.prototype.extendedProperties[t];e.push(n.attributeName)}return e}},{key:"styleUrls",get:function(){return[]}},{key:"styles",get:function(){return""}}]),s}(H),Utilities:T,Import:function(e,t){var n=0,a=function(e,t){return new Promise((function(n){var a=document.createElement("script");a.src=e,a.onload=n;for(var r=0;r<document.head.children.length;r++){var o=document.head.children[r];if(o.src&&o.src.toString().indexOf(t)>=0)return void n()}document.head.appendChild(a)}))};return new Promise((function(r){var o=T.Core.getScriptLocation();if(t)for(var i=0;i<e.length;i++){var l=o+"/"+e[i];a(l,e[i]).then((function(){++n===e.length&&r()}))}else!function t(i){if(e[i]){var l=o+"/"+e[i];a(l,e[i]).then((function(){++n===e.length&&r(),t(i+1)}))}}(0)}))},ObservableArray:z,Observable:function(){function e(t,n){p(this,e);var a,r=this;return this.name="observable",t&&Object.assign(r,t),a=t,Object.getOwnPropertyNames(Object.getPrototypeOf(a)).forEach((function(e){return"constructor"===e||!!e.startsWith("_")||void(r[e]=a[e])})),new Proxy(r,{deleteProperty:function(e,t){return delete e[t],!0},get:function(e,t){return e[t]},set:function(e,t,a){var o=e[t];return o===a||(e[t]=a,!("notifyFn"!==t&&!t.startsWith("_")&&"canNotify"!==t&&(!n||-1!==n.indexOf(t))&&r.canNotify&&(r._notify({target:e,propertyName:t,oldValue:o,newValue:a}),0)))}})}return f(e,[{key:"canNotify",get:function(){var e=this;return void 0===e._canNotify&&(e._canNotify=!0),e._canNotify},set:function(e){this._canNotify=e}},{key:"_notify",value:function(e){var t=this;if(t.canNotify&&t.notifyFn)for(var n=0;n<t.notifyFn.length;n++)t.notifyFn[n](e)}},{key:"notify",value:function(e){var t=this;e&&(t.notifyFn||(t.notifyFn=[]),t.notifyFn.push(e))}}]),e}(),Component:function(){function e(t,n){p(this,e);var a=this.name,r=null;return t?r=new window[a](t,n):(r=new window[a])._initProperties=n,this._element=r,r}return f(e,[{key:"name",get:function(){return"Component"}},{key:"element",get:function(){return this._element}}]),e}(),Theme:N.Theme||"",EnableShadowDOM:N.ShadowDom||!1,BaseUrl:"./",StyleBaseUrl:"/styles/default/",Version:l,RenderMode:N.RenderMode||"auto",Render:function(){var e=function(){window[u].RenderMode="",V()};"complete"===document.readyState?e():(window.removeEventListener("load",e),window.addEventListener("load",e))},Data:C,Mode:N.Mode||"production",License:"Evaluation"});var W=window[u].Theme;"manual"!==window[u].RenderMode&&document.addEventListener("readystatechange",V),Object.defineProperty(window[u],"Theme",{configurable:!1,enumerable:!0,get:function(){return W},set:function(e){var t=W;W=e,$.fireEvent("theme-changed",{oldValue:t,newValue:e},{bubbles:!0,cancelable:!0})}}),window[u]("smart-base-element",window[u].BaseElement),window[u]("smart-content-element",function(e){n(o,e);var r=a(o);function o(){return p(this,o),r.apply(this,arguments)}return f(o,[{key:"template",value:function(){return"<div inner-h-t-m-l='[[innerHTML]]'></div>"}},{key:"ready",value:function(){t(c(o.prototype),"ready",this).call(this),this.applyContent()}},{key:"refresh",value:function(){}},{key:"clearContent",value:function(){for(var e=this;e.$.content.firstChild;)e.$.content.removeChild(e.$.content.firstChild)}},{key:"applyContent",value:function(){var e=this;if(void 0!==e.content)if(""!==e.content&&null!==e.content){if(e.content instanceof HTMLElement)return e.clearContent(),void e.$.content.appendChild(e.content);var t=document.createDocumentFragment(),n=document.createElement("div");t.appendChild(n),e.content instanceof HTMLElement?n.appendChild(e.content):n.innerHTML=e.content;var a=Array.from(n.childNodes);n.parentNode.removeChild(n);for(var r=0;r<a.length;r++)t.appendChild(a[r]);e.clearContent(),e.$.content.appendChild(t)}else e.clearContent();else e.content=e.$.content}},{key:"propertyChangedHandler",value:function(e,n,a){t(c(o.prototype),"propertyChangedHandler",this).call(this,e,n,a);var r=this;n!==a&&("innerHTML"===e&&(r.content=a,r.applyContent(),r.innerHTML=r.content=T.Core.html(r.$.content)),"content"===e&&r.applyContent())}}],[{key:"properties",get:function(){return{content:{type:"any",reflectToAttribute:!1},innerHTML:{type:"string",reflectToAttribute:!1}}}}]),o}(window[u].BaseElement)),window[u]("smart-scroll-viewer",function(e){n(o,e);var r=a(o);function o(){return p(this,o),r.apply(this,arguments)}return f(o,[{key:"template",value:function(){return'<div id="container" class="smart-container" role="presentation">\n                        <div id="scrollViewerContainer" class="smart-scroll-viewer-container" role="presentation">\n                            <div id="scrollViewerContentContainer" inner-h-t-m-l=\'[[innerHTML]]\' class="smart-scroll-viewer-content-container" role="presentation">\n                                <content></content>\n                            </div>\n                        </div>\n                        <smart-scroll-bar id="verticalScrollBar" theme="[[theme]]"  animation="[[animation]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]" orientation="vertical"></smart-scroll-bar>\n                        <smart-scroll-bar id="horizontalScrollBar" theme="[[theme]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]"></smart-scroll-bar>\n                    </div>'}},{key:"appendChild",value:function(e){var t=this;if(e){if(!t.isCompleted||e.classList&&e.classList.contains("smart-resize-trigger-container")){var n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}t.$.scrollViewerContentContainer.appendChild(e)}}},{key:"removeChild",value:function(e){var t=this;if(e){if(!t.isCompleted||e.classList&&e.classList.contains("smart-resize-trigger-container")){var n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}t.$.scrollViewerContentContainer.removeChild(e)}}},{key:"removeAll",value:function(){this.isCompleted&&(this.$.scrollViewerContentContainer.innerHTML="")}},{key:"_horizontalScrollbarHandler",value:function(e){var t=this;t.$.scrollViewerContentContainer.style.left=(t.rightToLeft?1:-1)*t.scrollLeft+"px",e.stopPropagation&&e.stopPropagation(),t.onHorizontalChange&&t.onHorizontalChange(e)}},{key:"_verticalScrollbarHandler",value:function(e){var t=this;t.$.scrollViewerContentContainer.style.top=-t.scrollTop+"px",e.stopPropagation&&e.stopPropagation(),t.onVerticalChange&&t.onVerticalChange(e)}},{key:"_touchmoveHandler",value:function(e){var t=this;if(t._touchmoveInside&&e.cancelable)return e.preventDefault(),void e.stopPropagation();var n=t.scrollHeight>0,a=t.scrollWidth>0,r=t._touchCoords;if((n||a)&&r){var o,i,l,s,u=e.touches[0];t._touchCoords=[u.pageX,u.pageY],n?(o=t.scrollTop,i=t.scrollHeight,l=u.pageY,s=r[1]):(o=t.scrollLeft,i=t.scrollWidth,l=u.pageX,s=r[0]);var c=parseFloat(l.toFixed(5)),d=parseFloat(s.toFixed(5));0===o&&c>=d||o===i&&c<=d||(l!==s&&(t._touchmoveInside=!0),e.cancelable&&(e.preventDefault(),e.stopPropagation()))}}},{key:"_touchstartHandler",value:function(e){var t=e.touches[0];this._touchCoords=[t.pageX,t.pageY]}},{key:"_mouseWheelHandler",value:function(e){var t=this;if(!t.disabled&&(t.computedHorizontalScrollBarVisibility||t.computedVerticalScrollBarVisibility)){if(e.shiftKey&&t.computedHorizontalScrollBarVisibility){var n=t.scrollLeft;if(0===n&&e.deltaX<0||n===t.scrollHeight&&e.deltaX>0)return;return e.stopPropagation(),e.preventDefault(),void(t.scrollWidth>0&&t.scrollTo(void 0,t.scrollLeft+t._getScrollCoefficient(e,t.offsetWidth)))}if(t.computedVerticalScrollBarVisibility){var a=t.scrollTop;if(0===a&&e.deltaY<0||a===t.scrollHeight&&e.deltaY>0)return;e.stopPropagation(),e.preventDefault(),t.scrollHeight>0&&t.scrollTo(t.scrollTop+t._getScrollCoefficient(e,t.offsetHeight))}}}},{key:"_overriddenHandler",value:function(){}},{key:"_upHandler",value:function(){delete this._touchCoords,delete this._touchmoveInside}},{key:"_getScrollCoefficient",value:function(e,t){var n,a=e.deltaMode,r=Math.abs(e.deltaY);return 0===a?n=r<100/3?r:t:1===a?n=r<1?r*(100/3):t:2===a&&(n=t),e.deltaY<0?-n:n}},{key:"applyContent",value:function(){t(c(o.prototype),"applyContent",this).call(this),this.refresh()}},{key:"computedHorizontalScrollBarVisibility",get:function(){var e=this;return e._scrollView&&e._scrollView.hScrollBar?!e._scrollView.hScrollBar.$.hasClass("smart-hidden"):null}},{key:"computedVerticalScrollBarVisibility",get:function(){var e=this;return e._scrollView&&e._scrollView.vScrollBar?!e._scrollView.vScrollBar.$.hasClass("smart-hidden"):null}},{key:"scrollTo",value:function(e,t){var n=this;n._scrollView&&(void 0!==e&&n._scrollView.scrollTo(e),void 0!==t&&n._scrollView.scrollTo(t,!1))}},{key:"refreshScrollBarsVisibility",value:function(){var e=this;e._scrollView&&(e._scrollView.hScrollBar.disabled=e.disabled,e._scrollView.vScrollBar.disabled=e.disabled,"disabled"===e.horizontalScrollBarVisibility&&(e._scrollView.hScrollBar.disabled=!0),"disabled"===e.verticalScrollBarVisibility&&(e._scrollView.vScrollBar.disabled=!0),e.scrollWidth>0?e._scrollView.hScrollBar.$.removeClass("smart-hidden"):"visible"!==e.horizontalScrollBarVisibility&&e._scrollView.hScrollBar.$.addClass("smart-hidden"),e.scrollHeight>0?e._scrollView.vScrollBar.$.removeClass("smart-hidden"):"visible"!==e.verticalScrollBarVisibility&&e._scrollView.vScrollBar.$.addClass("smart-hidden"),"hidden"===e.horizontalScrollBarVisibility&&e._scrollView.hScrollBar.$.addClass("smart-hidden"),"hidden"===e.verticalScrollBarVisibility&&e._scrollView.vScrollBar.$.addClass("smart-hidden"),"visible"===e.horizontalScrollBarVisibility&&e._scrollView.hScrollBar.$.removeClass("smart-hidden"),"visible"===e.verticalScrollBarVisibility&&(e._scrollView.vScrollBar.$.removeClass("smart-hidden"),e.disabled||(e._scrollView.vScrollBar.disabled=e.scrollHeight<=0)),e.computedHorizontalScrollBarVisibility&&e.computedVerticalScrollBarVisibility?(e._scrollView.hScrollBar.$.addClass("bottom-corner"),e._scrollView.vScrollBar.$.addClass("bottom-corner")):(e._scrollView.hScrollBar.$.removeClass("bottom-corner"),e._scrollView.vScrollBar.$.removeClass("bottom-corner")))}},{key:"ready",value:function(){t(c(o.prototype),"ready",this).call(this);var e=this;e.$.verticalScrollBar.onChange=function(t){t.detail=t,e._verticalScrollbarHandler(t)},e.$.horizontalScrollBar.onChange=function(t){t.detail=t,e._horizontalScrollbarHandler(t)},e.$.verticalScrollBar.setAttribute("aria-controls",e.id),e.$.horizontalScrollBar.setAttribute("aria-controls",e.id),e._customScrollView||(e._scrollView=new Smart.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),e.refresh()}},{key:"refresh",value:function(){var e=this;function t(){var t=e.$.scrollViewerContainer.classList.contains("vscroll");e.$.scrollViewerContainer.classList.remove("vscroll");var n=e.$.scrollViewerContentContainer.offsetWidth-e.$.scrollViewerContainer.offsetWidth;return n>0&&"hidden"!==e.horizontalScrollBarVisibility||"visible"===e.horizontalScrollBarVisibility?e.$.scrollViewerContainer.classList.add("hscroll"):e.$.scrollViewerContainer.classList.remove("hscroll"),t&&e.$.scrollViewerContainer.classList.add("vscroll"),n}function n(){var t,n=e.$.scrollViewerContainer.classList.contains("hscroll");if(e.$.scrollViewerContainer.classList.remove("hscroll"),Smart.Utilities.Core.Browser.Safari){var a=e.$.scrollViewerContentContainer.getBoundingClientRect().height,r=e.$.scrollViewerContainer.getBoundingClientRect().height;t=a&&r?parseInt(a)-parseInt(r):e.$.scrollViewerContentContainer.offsetHeight-e.$.scrollViewerContainer.offsetHeight}else t=e.$.scrollViewerContentContainer.offsetHeight-e.$.scrollViewerContainer.offsetHeight;return t>0&&"hidden"!==e.verticalScrollBarVisibility||"visible"===e.verticalScrollBarVisibility?e.$.scrollViewerContainer.classList.add("vscroll"):e.$.scrollViewerContainer.classList.remove("vscroll"),n&&e.$.scrollViewerContainer.classList.add("hscroll"),t}if(e.$.scrollViewerContentContainer){var a=e.scrollWidth,r=e.scrollHeight;e.scrollWidth=t(),e.scrollHeight=n(),e.scrollHeight&&r===e.scrollHeight||(e.scrollWidth=t()),e.scrollWidth&&a===e.scrollWidth||(e.scrollHeight=n()),e.computedVerticalScrollBarVisibility&&(e.scrollHeight+=e._scrollView.hScrollBar.offsetHeight),e.computedHorizontalScrollBarVisibility&&(e.scrollWidth+=e._scrollView.vScrollBar.offsetWidth),0===e.scrollHeight&&e.scrollWidth>0&&e.$.container.offsetHeight-e.$.content.offsetHeight<5&&(e.$.container.style.paddingBottom=e._scrollView.hScrollBar.offsetHeight+"px")}}},{key:"attached",value:function(){var e=this;t(c(o.prototype),"attached",this).call(this),e._scrollView||e._customScrollView||(e._scrollView=new Smart.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar))}},{key:"detached",value:function(){var e=this;t(c(o.prototype),"detached",this).call(this),e._scrollView&&(e._scrollView.unlisten(),delete e._scrollView)}},{key:"scrollWidth",get:function(){var e=this;return e._scrollView&&e._scrollView.hScrollBar?1===e._scrollView.hScrollBar.max&&"visible"===e.horizontalScrollBarVisibility?0:e._scrollView.hScrollBar.max:-1},set:function(e){var t=this;e<0&&(e=0),t._scrollView&&t._scrollView.hScrollBar&&(0===e&&"visible"===t.horizontalScrollBarVisibility?t._scrollView.hScrollBar.max=0:t._scrollView.hScrollBar.max=e,t.refreshScrollBarsVisibility())}},{key:"scrollHeight",get:function(){var e=this;return e._scrollView&&e._scrollView.vScrollBar?1===e._scrollView.vScrollBar.max&&"visible"===e.verticalScrollBarVisibility?0:e._scrollView.vScrollBar.max:0},set:function(e){var t=this;e<0&&(e=0),t._scrollView&&t._scrollView.vScrollBar&&(0===e&&"visible"===t.verticalScrollBarVisibility?t._scrollView.vScrollBar.max=1:t._scrollView.vScrollBar.max=e,t.refreshScrollBarsVisibility())}},{key:"scrollLeft",get:function(){var e=this;return e._scrollView&&e._scrollView.hScrollBar?e._scrollView.hScrollBar.value:0},set:function(e){var t=this;e<0&&(e=0),t._scrollView&&t._scrollView.hScrollBar&&(t._scrollView.hScrollBar.value=e)}},{key:"scrollTop",get:function(){var e=this;return e._scrollView&&e._scrollView.vScrollBar?e._scrollView.vScrollBar.value:0},set:function(e){var t=this;e<0&&(e=0),t._scrollView&&t._scrollView.vScrollBar&&(t._scrollView.vScrollBar.value=e)}},{key:"propertyChangedHandler",value:function(e,n,a){t(c(o.prototype),"propertyChangedHandler",this).call(this,e,n,a),"animation"!==e&&"theme"!==e&&this.refresh()}}],[{key:"properties",get:function(){return{horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},touchScrollRatio:{type:"any",value:null},touchVelocityCoefficient:{type:"number",value:50},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}},{key:"listeners",get:function(){return{touchmove:"_touchmoveHandler",touchstart:"_touchstartHandler",wheel:"_mouseWheelHandler","document.up":"_upHandler"}}},{key:"styleUrls",get:function(){return["smart.scrollviewer.css"]}}]),o}(window[u].ContentElement)),window[u].Utilities.Assign("PositionDetection",function(){function e(t,n,a,r){p(this,e);var o=this;if(n){var i="dropDown"+Math.floor(65536*(1+Math.random())).toString(16).substring(1);n.id=i,t.setAttribute("aria-owns",i)}o.context=t,o.dropDown=n,o.defaultParent=a,o.closeMethod=r}return f(e,[{key:"handleAutoPositioning",value:function(){var e=this,t=e.context;if("auto"===t.dropDownPosition&&!t.disabled&&!t.isHidden){var n,a=window.requestAnimationFrame,r=Date.now();return n=a((function o(){t.isHidden||document.hidden||(n=a(o),"auto"===t.dropDownPosition&&!t.disabled&&(t.isInShadowDOM?document.body.contains(t.shadowParent):document.body.contains(t))||cancelAnimationFrame(n),t.isHidden&&cancelAnimationFrame(n),Date.now()-r>=200&&(e.scrollHandler(),r=Date.now()))}))}}},{key:"checkBrowserBounds",value:function(e){var t=this.context;if("auto"===t.dropDownPosition&&!t.disabled)switch(e){case"vertically":this.checkBrowserBoundsVertically();break;case"horizontally":this.checkBrowserBoundsHorizontally();break;default:this.checkBrowserBoundsVertically(),this.checkBrowserBoundsHorizontally()}}},{key:"checkBrowserBoundsHorizontally",value:function(){var e,t=this.context,n=this.dropDown,a=0;b.isMobile||window.innerWidth===document.documentElement.clientWidth||(a=window.innerWidth-document.documentElement.clientWidth),null!==t._dropDownParent?e=!0:n.style.left="";var r=window.innerWidth-a,o=t.getBoundingClientRect().left;if(o<0&&(n.style.left=(e?0:Math.abs(o))+"px",o=parseFloat(n.style.left)),o+n.offsetWidth>r){var i=o-Math.abs(r-o-n.offsetWidth);e&&(i+=window.pageXOffset),n.style.left=(e?i:i-o)+"px",window.innerWidth===document.documentElement.clientWidth&&(n.style.left=parseFloat(n.style.left)+a+"px"),e&&window.innerHeight===document.documentElement.clientHeight&&this.positionDropDown(!0)}}},{key:"checkBrowserBoundsVertically",value:function(e){var t=this.context,n=this.dropDown,a=t._dropDownListPosition;e||(e=t.getBoundingClientRect()),0!==e.height&&(document.documentElement.clientHeight-Math.abs(e.top+e.height+n.offsetHeight)>=0?t._dropDownListPosition="bottom":e.top-n.offsetHeight>=0?t._dropDownListPosition="top":t._dropDownListPosition="overlay-center",this.updatePositionAttribute(a,t._dropDownListPosition))}},{key:"scrollHandler",value:function(){var e=this.context;if(e.parentElement){var t=e.getBoundingClientRect();if(t.top!==e._positionTop){var n=e._dropDownListPosition;this.checkBrowserBoundsVertically(t),e._dropDownListPosition!==n&&this.positionDropDown(),e._positionTop=t.top}}}},{key:"getDropDownParent",value:function(e){var t=this.context,n=this.dropDown,a=t.dropDownAppendTo;t._positionedParent=null,null===a?t._dropDownParent=null:"body"===a||a===document.body?t.getRootNode().host?t._dropDownParent=t.getRootNode().host.shadowRoot:t._dropDownParent=document.body:a instanceof HTMLElement||"string"==typeof a&&(a=document.getElementById(a))instanceof HTMLElement?t._dropDownParent=a:(t.dropDownAppendTo=null,t._dropDownParent=null);var r=t._dropDownParent;if(null!==r){for(;r&&r instanceof HTMLElement&&"static"===window.getComputedStyle(r).position&&r!==t.getShadowRootOrBody();)r=r.parentElement;r===document.body?t._positionedParent=null:t._positionedParent=r,n&&(n.setAttribute("animation",t.animation),""!==t.theme&&n.$.addClass(t.theme),e&&(t._dropDownParent.appendChild(n),n.$.addClass("smart-drop-down-repositioned")),-1===t.detachedChildren.indexOf(n)&&t.detachedChildren.push(n))}}},{key:"dropDownAppendToChangedHandler",value:function(){var e=this.context,t=this.dropDown,n=e._dropDownParent;this.getDropDownParent(),e._dropDownParent!==n&&(e[this.closeMethod](),["left","top","font-size","font-family","font-style","font-weight"].forEach((function(e){return t.style[e]=null})),null===e._dropDownParent?(this.defaultParent.appendChild(t),t.$.removeClass("smart-drop-down-repositioned")):(e._dropDownParent.appendChild(t),t.$.addClass("smart-drop-down-repositioned")))}},{key:"dropDownPositionChangedHandler",value:function(){var e=this;e.dropDown.style.transition="none",e.context[e.closeMethod](),e.setDropDownPosition(),e.handleAutoPositioning()}},{key:"dropDownAttached",value:function(e){var t=this.context;null!==t._dropDownParent&&(t._dropDownParent.appendChild(this.dropDown),this.handleAutoPositioning(),e&&t[e]())}},{key:"dropDownDetached",value:function(){var e=this.context;null!==e._dropDownParent&&document.body.contains(this.dropDown)&&document.body.contains(e._dropDownParent)&&e._dropDownParent.removeChild(this.dropDown)}},{key:"setDropDownPosition",value:function(){var e=this.context,t=e.dropDownPosition,n=e._dropDownListPosition;"auto"===t?this.checkBrowserBounds():e._dropDownListPosition=t,this.updatePositionAttribute(n,e._dropDownListPosition)}},{key:"updatePositionAttribute",value:function(e,t){var n=this.context,a=this.dropDown;n.$.dropDownButton&&!n.$.dropDownButton.hasAttribute(t)&&(n.$.dropDownButton.removeAttribute(e),n.$.dropDownButton.setAttribute(t,"")),a.hasAttribute(t)||(a.style.transition="none",a.removeAttribute(e),a.setAttribute(t,""),requestAnimationFrame((function(){a.style.transition=null})))}},{key:"positionDropDown",value:function(e){var t=this.context,n=this.dropDown;if(t.opened&&null!==t._dropDownParent){var a,r,o=t.getBoundingClientRect();if(this.customPositionDropDown){var i=this.customPositionDropDown(o);a=i.left,r=i.top}else switch(a=o.left,r=o.top,t._dropDownListPosition){case"bottom":r+=t.$.container.offsetHeight-1;break;case"center-bottom":r+=t.$.container.offsetHeight-1,a+=t.offsetWidth-n.offsetWidth/2;break;case"center-top":r-=n.offsetHeight-1,a+=t.offsetWidth-n.offsetWidth/2;break;case"top":r-=n.offsetHeight-1;break;case"overlay-bottom":break;case"overlay-center":r-=n.offsetHeight/2-t.offsetHeight/2;break;case"overlay-top":r-=n.offsetHeight-t.offsetHeight}var l=this.getDropDownOffset();n.style.top=r+l.y+"px",e||(n.style.left=a+l.x+"px")}}},{key:"getDropDownOffset",value:function(){var e,t,n=this.context._positionedParent;if(n){var a=n.getBoundingClientRect();e=-a.left,t=-a.top}else e=window.pageXOffset,t=window.pageYOffset;return{x:e,y:t}}},{key:"placeOverlay",value:function(){var e=this.context;if(e.dropDownOverlay&&!e._overlay){var t=document.createElement("div");t.classList.add("smart-drop-down-overlay"),t.style.width=document.documentElement.scrollWidth+"px",t.style.height=document.documentElement.scrollHeight+"px",document.body.appendChild(t),e._overlay=t}}},{key:"removeOverlay",value:function(e){var t=this,n=t.context;n._overlay&&(n.hasAnimation&&e?requestAnimationFrame((function e(){t.dropDown.getBoundingClientRect().height>0?requestAnimationFrame(e):(document.body.removeChild(n._overlay),delete n._overlay)})):(document.body.removeChild(n._overlay),delete n._overlay))}}]),e}())}()},1006:()=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Smart.Utilities.Assign("DataExporter",function(){function n(e,t,a,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o=this;e||(e={}),o.style=e.style,o.header=e.header,o.exportHeader=void 0===e.exportHeader||e.exportHeader,o.hierarchical=e.hierarchical,o.expandChar=e.expandChar||"+",o.collapseChar=e.collapseChar||"-",o.pageOrientation=e.pageOrientation,o.allowNull=e.allowNull||!1,!o.hierarchical&&t&&t.length>0?o.groupBy=t:o.mergedCells=e.mergedCells,!o.groupBy&&a&&Object.keys(a).length>0&&(o.filterBy=a),r&&(o.conditionalFormatting=r),o.timeBetween1900And1970=new Date(1970,0,1).getTime()-new Date(1900,0,1).getTime()}var a,r;return a=n,(r=[{key:"downloadFile",value:function(e,t,n){var a;if(!n)return e;if(a=e instanceof Blob?e:new Blob([e],{type:t}),window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(a,n);else{var r=document.createElement("a"),o=URL.createObjectURL(a);r.href=o,r.download=n,r.style.position="absolute",r.style.visibility="hidden",document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(o)}),100)}}},{key:"exportData",value:function(e,t,n,a){var r=this;if(r.actualHierarchy=r.hierarchical,t=t.toLowerCase(),r.exportHeader&&(r.header?(0===(e=e.slice(0)).length&&(r.actualHierarchy=!1),r.processComplexHeader(r.header,e,t)):1===e.length&&(r.actualHierarchy=!1)),0!==e.length){"xlsx"===t&&(r.xlsxStartIndex=r.complexHeader?r.complexHeader.length:+r.exportHeader),r.actualHierarchy&&(e=r.processHierarchicalData(e,t)),r.getDatafields(e),n&&n.slice(n.length-t.length-1,n.length)!=="."+t&&(n+="."+t);var o=null;switch(t){case"csv":o=r.exportToCSVAndTSV(e,{delimiter:", ",MIME:"text/csv",toRemove:2},n);break;case"html":o=r.exportToHTML(e,n);break;case"jpeg":case"png":r.exportToImage(e,n,t,a);break;case"json":o=r.exportToJSON(e,n);break;case"pdf":o=r.exportToPDF(e,n);break;case"tsv":o=r.exportToCSVAndTSV(e,{delimiter:"\t",MIME:"text/tab-separated-values",toRemove:1},n);break;case"xlsx":o=r.exportToXLSX(e,n);break;case"xml":o=r.exportToXML(e,n);break;case"md":o=r.exportToMD(e,n)}return a&&o&&a(o),delete r.complexHeader,o}console.warn("No data to export.")}},{key:"exportToCSVAndTSV",value:function(e,t,n){for(var a=this,r=a.datafields,o="",i=0;i<e.length;i++){for(var l=e[i],s="",u=0;u<r.length;u++)a.actualHierarchy&&0===u?s+=('""'+t.delimiter).repeat(l._level-1)+'"'+l[r[u]]+'"'+t.delimiter+('""'+t.delimiter).repeat(a.maxLevel-l._level):s+='"'+l[r[u]]+'"'+t.delimiter;o+=s=s.slice(0,s.length-t.toRemove)+"\n"}return this.downloadFile(o,t.MIME,n)}},{key:"exportToHTML",value:function(e,t){var n=this,a=n.datafields,r=n.style,o="",i=0,l="";e=n.processGroupingInformation(e),n.data=e,n.exportHeader&&(o=n.getHTMLHeader(a,e),i=1),arguments[2]&&(l='<script type="text/javascript" src="'.concat(Array.from(document.getElementsByTagName("script")).find((function(e){return-1!==e.src.indexOf("html2canvas")})).src,'"><\/script>'));var s='<!DOCTYPE html>\n<html>\n<head>\n    <meta charset="UTF-8">\n    <style type="text/css">\n'.concat(n.getRowStyle()).concat(n.getColumnStyle(),"\n    </style>").concat(l).concat(n.toggleableFunctionality(),"\n</head>\n<body>\n    <table").concat(n.getTableStyle(),">").concat(o,"\n        <tbody>\n"),u={},c={},d=[];n.getMergedCellsInfo(u,c);e:for(var p=i;p<e.length;p++){var m=e[p],f=p-i,h=n.getAlternationIndex(f," rowN"),v="",g="",y="",b=0;if(n.actualHierarchy)m._collapsed&&(v=" collapsed"),g=' level="'.concat(m._level,'"');else if(n.groupBy)for(var w=0;w<n.groupBy.length;w++){var _=n.groupBy[w],k=m[_],C=n.groups[_][k];if(y+=k,-1===d.indexOf(y)){s+='            <tr class="row">\n                <td class="column group" style="padding-left: '.concat(25*b,'px;" colspan="').concat(n.datafields.length,'">').concat(C,"</td>\n            </tr>"),d.push(y),p--;continue e}b++}var D='            <tr class="row row'.concat(f).concat(h).concat(v,'"').concat(g);t||(D+=' style="page-break-inside: avoid;"'),D+=">\n";for(var x=0;x<a.length;x++){var E=x+","+f,S=1,A=1;if(u[E])S=u[E].colspan,A=u[E].rowspan;else if(c[E])continue;var T=a[x],$=m[T],F="";if(n.actualHierarchy&&0===x){var L="";m._expanded?L=n.collapseChar:!1===m._expanded&&(L=n.expandChar),F='<div class="toggle-element" style="margin-left: '.concat(25*(m._level-1)+5,'px;" expanded>').concat(L,"</div>")}$=n.getFormattedValue($,T);var H="";if(r&&r.columns&&r.columns[T]&&r.columns[T][f]){var O=r.columns[T][f];H+="border-color: ".concat(O.border,"; background-color: ").concat(O.background,"; color: ").concat(O.color,';"')}0===x&&b>1&&(H+="padding-left: ".concat(25*(b-1),'px;"')),H&&(H=' style="'.concat(H,'"')),D+='                <td class="column column'.concat(T,'"').concat(H,' colspan="').concat(S,'" rowspan="').concat(A,'">').concat(F+$,"</td>\n")}s+=D+"            </tr>\n"}return s+="        </tbody>\n    </table>\n</body>\n</html>",arguments[2]?s:this.downloadFile(s,"text/html",t)}},{key:"exportToImage",value:function(e,t,n,a){try{html2canvas}catch(e){throw new Error("smart-grid: Missing reference to 'html2canvas.min.js'.")}var r=null,o=this.exportToHTML(e,t,!0),i=document.createElement("iframe");return i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.border="none",i.style.width="100%",i.style.height="100%",i.style.opacity=0,i.style.pointerEvents="none",document.body.appendChild(i),i.contentDocument.write(o),function e(){i.contentDocument.body&&i.contentDocument.body.firstElementChild?i.contentWindow.html2canvas(i.contentDocument.body.firstElementChild).then((function(e){var o=new Smart.Utilities.Draw(document.createElement("div"));r=e.toDataURL("image/png"),a?a(r):(document.body.appendChild(e),o.exportImage(void 0,e,n,t)),i.remove(),e.remove()})):requestAnimationFrame(e)}(),r}},{key:"getMergedCellsInfo",value:function(e,t,n){var a=this;if(a.mergedCells){var r=n&&0!==n[a.datafields.length-1];a.mergedCellsPDF=a.mergedCells.slice(0);for(var o=0;o<a.mergedCellsPDF.length;o++){var i=a.mergedCellsPDF[o],l=i.colspan,s=i.rowspan;if(!(s<2&&l<2)){var u=i.cell[1],c=i.cell[0];if(r&&l>1){var d=n[c],p=n[c+l-1],m=[];if(p>d){var f=d,h=c,v=0;e:for(var g=d;g<=p;g++){for(var y=h,b=0;n[h]===f;)if(h++,b++,++v===l){m.push({start:y,span:b});break e}m.push({start:y,span:b}),f=n[h]}l=m[0].span;for(var w=1;w<m.length;w++)a.mergedCellsPDF.push({cell:[m[w].start,u],colspan:m[w].span,rowspan:s,originalCell:c})}}for(var _=c;_<c+l;_++)for(var k=u;k<u+s;k++){var C=_+","+k;_!==c||k!==u?t[C]=!0:e[C]={colspan:l,rowspan:s,originalCell:i.originalCell}}}}}}},{key:"getAlternationIndex",value:function(e,t){if(!this.style)return"";var n=this.style.rows;return n&&n.alternationCount&&((void 0===n.alternationStart||e>=n.alternationStart)&&(void 0===n.alternationEnd||e<=n.alternationEnd)||n.alternationStart===n.alternationEnd)?t+e%n.alternationCount:""}},{key:"getFormattedValue",value:function(e,t){var n=this,a=n.style;if(null===e)return n.allowNull?"null":"";if(t&&a&&a.columns&&a.columns[t]&&a.columns[t].format){if("number"==typeof e)return n.formatNumber(e,a.columns[t].format);if(e instanceof Date)return n.formatDate(e,a.columns[t].format)}else if(e instanceof Date)return n.formatDate(e,"d");return e}},{key:"exportToJSON",value:function(e,t){return this.downloadFile(JSON.stringify(e,this.datafields.concat("rows")),"application/json",t)}},{key:"exportToMD",value:function(e,t){for(var n=this.datafields,a="",r=0,o=e.length;r<o;r+=1)for(var i=0,l=n.length;i<l;i+=1){var s=e[r][n[i]];"string"==typeof s&&(a+=s)}return this.downloadFile(a,"application/text",t)}},{key:"exportToPDF",value:function(e,t){try{pdfMake}catch(e){throw new Error("Missing reference to 'pdfmake.min.js'.")}var n,a=this,r=a.datafields,o=+a.exportHeader,i=[],l={},s={},u={},c=o?a.complexHeader?a.complexHeader.length:1:0,d={pageOrientation:a.pageOrientation||"portrait"},p=[],m=[];function f(){for(var e=[],t=0;t<n.length;t++)e.push([]);return e}e=a.processGroupingInformation(e),a.data=e,a.headerRows=c,a.getPDFStyle();var h=a.styleInfo;n=h?a.wrapPDFColumns(d,u):[{body:p,datafields:r}],o&&(p=a.getPDFHeader(r,n,u)),a.getMergedCellsInfo(l,s,u);e:for(var v=o;v<e.length;v++){var g=e[v],y="",b=0;if(a.groupBy)for(var w=0;w<a.groupBy.length;w++){var _=a.groupBy[w],k=g[_],C=a.groups[_][k];if(y+=k,-1===i.indexOf(y)){a.createGroupHeaderRow(n,{text:C,style:["row","cell","group"],marginLeft:7.5*b}),i.push(y),v--;continue e}b++}for(var D=f(),x=v-o,E=a.getAlternationIndex(x,""),S=0;S<r.length;S++){var A=r[S],T={style:["row","row"+x,"cell","cell"+A]},$=u[S]||0;if(void 0!==E&&T.style.splice(1,0,"rowN"+E),a.mergedCellsPDF){var F=S+","+x,L=l[F];if(L){if(T.colSpan=L.colspan,T.rowSpan=L.rowspan,void 0!==L.originalCell){T.text="",T.style[T.style.length-1]="cell"+r[L.originalCell],D[$].push(T);continue}}else if(s[F]){D[$].push({});continue}}var H=a.getFormattedValue(g[A],A);T.text=H.toString(),a.getUniqueStylePDF(T,A,x),a.setIndentation(T,{j:S,currentRecord:g,value:H,outlineLevel:b}),D[$].push(T)}for(var O=0;O<n.length;O++)n[O].body.push(D[O])}if(h){for(var P=0;P<n.length;P++){for(var B=n[P].body,I=c-1;I>=0;I--)B.unshift(p[P][I]);m.push({table:{headerRows:c,widths:n[P].widths,heights:function(e){return h.heights[e]?h.heights[e]:h.defaultHeight?h.defaultHeight:void 0},body:B},pageBreak:"after"})}delete m[n.length-1].pageBreak,d.styles=h.styles}else{for(var M=n[0].body,R=c-1;R>=0;R--)M.unshift(p[0][R]);m=[{table:{headerRows:c,body:M}}],d.styles={header:{bold:!0},group:{bold:!0}}}d.content=m,pdfMake.createPdf(d).download(t),delete a.mergedCellsPDF,delete a.styleInfo}},{key:"getPDFStyle",value:function(){var e=this,t=e.style;if(!t)return"";var n=e.data[0],a=t.header,r=t.columns,o=t.rows,i={heights:[],widths:Array(e.datafields.length).fill("*"),styles:{header:{},row:{},cell:{},group:{fillColor:"#FFFFFF",color:"#000000",bold:!0}}};function l(t,a){if(t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))if(void 0===n[r])if("height"===r&&"header"===a)for(var o=0;o<e.headerRows;o++)i.heights[o]=parseInt(t[r],10)/e.headerRows/1.4;else e.storePDFStyle({prop:r,value:t[r],toUpdate:a});else for(var l in t[r])if(isNaN(l)&&Object.prototype.hasOwnProperty.call(t[r],l)){var s=t[r][l],u=e.datafields.indexOf(r);"width"===l&&"*"===i.widths[u]?i.widths[u]=s:e.storePDFStyle({prop:l,value:s,toUpdate:a+r})}}if(e.styleInfo=i,l(a,"header"),l(r,"cell"),o){for(var s in o)if(Object.prototype.hasOwnProperty.call(o,s)&&-1===s.indexOf("alt")){var u=o[s];if(isNaN(s))"height"===s?i.defaultHeight=parseFloat(u)/1.4:e.storePDFStyle({prop:s,value:u,toUpdate:"row"});else for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&("height"===c?i.heights[parseFloat(s)+e.headerRows]=parseFloat(u[c])/1.4:e.storePDFStyle({prop:c,value:u[c],toUpdate:"row"+s}))}if(o.alternationCount)for(var d=0;d<o.alternationCount;d++){var p={};o["alternationIndex".concat(d,"Color")]&&(p.color=o["alternationIndex".concat(d,"Color")]),o["alternationIndex".concat(d,"BackgroundColor")]&&(p.fillColor=o["alternationIndex".concat(d,"BackgroundColor")]),i.styles["rowN"+d]=p}}}},{key:"storePDFStyle",value:function(e){var t=this.styleInfo.styles[e.toUpdate];t||(t={},this.styleInfo.styles[e.toUpdate]=t);var n=e.value;switch(e.prop){case"backgroundColor":t.fillColor=n;break;case"color":t.color=n;break;case"fontSize":t.fontSize=parseFloat(n);break;case"fontStyle":"italic"===n&&(t.italics=!0);break;case"fontWeight":"bold"===n&&(t.bold=!0);break;case"textAlign":t.alignment=n}}},{key:"wrapPDFColumns",value:function(e,t){for(var n=this.styleInfo,a="portrait"===e.pageOrientation?655:1155,r=[],o=0,i=0;i<n.widths.length;i++){var l=void 0,s=n.widths[i];if("*"===s?l=a/6:"string"==typeof s&&-1!==s.indexOf("%")?(l=Math.min(a,Math.floor(parseFloat(s)/100*a)))===a&&(s="*"):(s=parseFloat(s))>=a?(l=a,s="*"):(l=s,s/=1.4),void 0!==r[o]){var u=r[o];u.width+l>a?(o++,i--):(t[i]=o,u.width+=l,u.widths.push(s),u.datafields.push(this.datafields[i]))}else r[o]={body:[],width:l,widths:[s],datafields:[this.datafields[i]]},t[i]=o}return r}},{key:"getPDFHeader",value:function(e,t,n){var a,r,o=this,i=[],l=o.headerRows,s=[],u=[],c=[];o.complexHeader?(a=o.complexHeader,r=o.complexDataFieldsHeader):r=a=[Object.values(o.data[0])];for(var d=0;d<l;d++)for(var p=a[d],m=r[d],f=0;f<p.length;f++){var h=n[f]||0;s[h]||(s[h]=[],u[h]=[]),s[h][d]||(s[h][d]=[],u[h][d]=[]),s[h][d].push(p[f]),u[h][d].push(m[f])}function v(e,t,n,a){for(var r=0;r<l;r++){for(var o=e[r],i=t[r],s=[],u=0;u<o.length;u++){var c=i[u],d=1,p=1;if(i[u-1]&&i[u-1]===c||t[r-1]&&t[r-1][u]===c)s.push({});else{for(var m=u+1;i[m]&&i[m]===i[m-1];)d++,m++;for(m=r+1;t[m]&&t[m][u]===c;)p++,m++;var f=r===l-1||p+r===l?a.datafields[u]:null,h={text:o[u],colSpan:d,rowSpan:p};f?h.style=["header","header"+f]:(h.alignment="center",h.style="header"),s.push(h)}}n.push(s)}}for(var g=0;g<t.length;g++)c=[],v(s[g],u[g],c,t[g]),i.push(c);return i}},{key:"createGroupHeaderRow",value:function(e,t){for(var n=0;n<e.length;n++){var a=Object.assign({},t),r=e[n].datafields.length,o=[a];a.colSpan=r,o.length=r,o.fill({},1,r-1),e[n].body.push(o)}}},{key:"getUniqueStylePDF",value:function(e,t,n){var a=this.style;if(a&&a.columns&&a.columns[t]){var r=a.columns[t][n];r&&(e.fillColor=function(e){var t=/rgba\((\d+),(\d+),(\d+)\,(\d*.\d+|\d+)\)/gi.exec(e.replace(/\s/g,""));if(null===t)return e;var n=parseFloat(t[1]).toString(16).toUpperCase(),a=parseFloat(t[2]).toString(16).toUpperCase(),r=parseFloat(t[3]).toString(16).toUpperCase();return"#"+"0".repeat(2-n.length)+n+"0".repeat(2-a.length)+a+"0".repeat(2-r.length)+r}(r.background),e.color=r.color.toLowerCase())}}},{key:"setIndentation",value:function(e,t){if(0===t.j)if(this.actualHierarchy){var n=t.currentRecord;void 0!==n._expanded?(e.marginLeft=25*(n._level-1),e.text=this.collapseChar+" "+t.value):e.marginLeft=25*(n._level-1)+6}else t.outlineLevel>1&&(e.marginLeft=7.5*(t.outlineLevel-1))}},{key:"exportToXLSX",value:function(e,t){try{JSZip}catch(e){throw new Error("Missing reference to 'jszip.min.js'.")}var n=this,a=n.style;if(e=n.processGroupingInformation(e,!0),n.data=e,n.getColumnsArray(),n.complexHeaderMergedCells=[],n.complexHeaderMergeInfo)for(var r in n.complexHeaderMergeInfo)if(Object.prototype.hasOwnProperty.call(n.complexHeaderMergeInfo,r)){var o=n.complexHeaderMergeInfo[r];if(o.from[0]===o.to[0]&&o.from[1]===o.to[1])continue;n.complexHeaderMergedCells.push({from:n.columnsArray[o.from[1]]+(o.from[0]+1),to:n.columnsArray[o.to[1]]+(o.to[0]+1)})}n.getConditionalFormatting(),a||(a=n.generateDefaultStyle(e));var i=n.generateSharedStrings(e),l=i.collection,s=i.xml,u=n.generateStyles(a),c=n.groupBy?n.generateSheet1WithGrouping(e,l):n.generateSheet1(e,l),d=n.generateAuxiliaryFiles(),p=new JSZip,m=p.folder("_rels"),f=p.folder("docProps"),h=p.folder("xl"),v=h.folder("_rels"),g=h.folder("theme"),y=h.folder("worksheets");m.file(".rels",d._relsRels),f.file("app.xml",d.docPropsAppXml),f.file("core.xml",d.docPropsCoreXml),v.file("workbook.xml.rels",d.xl_relsWorkbookXmlRels),g.file("theme1.xml",d.xlThemeTheme1Xml),y.file("sheet1.xml",c),h.file("sharedStrings.xml",s),h.file("styles.xml",u),h.file("workbook.xml",d.xlWorkbookXml),p.file("[Content_Types].xml",d.Content_TypesXml),p.generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}).then((function(e){return n.downloadFile(e,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",t)})),delete n.conditionalFormattingXLSX,delete n.complexHeaderMergeInfo,delete n.defaultRowHeight,delete n.rowHeight}},{key:"processGroupingInformation",value:function(t,n){var a,r=this;if(!r.groupBy)return t;if(t=t.slice(0),r.exportHeader&&(n&&r.complexHeader?(a=t.slice(0,r.complexHeader.length),t.splice(0,r.complexHeader.length)):(a=[t[0]],t.splice(0,1))),t.length>1){var o=function(t,n){var a;switch(n||e(t)){case"string":a=(new Intl.Collator).compare;break;case"number":a=function(e,t){return e-t};break;case"boolean":case"bool":a=function(e,t){return e===t?0:!1===e?-1:1};break;case"date":case"time":case"dateTime":t instanceof Date?a=function(e,t){return e.getTime()-t.getTime()}:(t instanceof Smart.Utilities.DateTime||t instanceof Smart.Utilities.BigNumber)&&(a=function(e,t){return e.compare(t)});break;case"object":if(t instanceof Date)a=function(e,t){return e.getTime()-t.getTime()};else if(t instanceof Smart.Utilities.DateTime||t instanceof Smart.Utilities.BigNumber)a=function(e,t){return e.compare(t)};else if(t instanceof Smart.Utilities.Complex||window.NIComplex&&t instanceof window.NIComplex){var r=new Smart.Utilities.ComplexNumericProcessor;a=function(e,t){return r.compareComplexNumbers(e,t)}}}return a};!function(e,t,n,a){if(e&&Array.isArray(e)&&0!==e.length&&t&&(!Array.isArray(t)||0!==t.length)){"string"==typeof t&&(t=[t]);var r=[],i=[];void 0===n&&(n=[]);for(var l=0;l<t.length;l++)void 0===n[l]||"asc"===n[l]||"ascending"===n[l]?r[l]=1:r[l]=-1,i[l]=o(e[0][t[l]]);e.sort((function(e,n){for(var a=0;a<t.length;a++){var o=i[a](e[t[a]],n[t[a]]);if(0===o){if(t[a+1])continue;return void 0!==e._index?(e._index-n._index)*r[a]:0}return o*r[a]}}))}}(t,r.groupBy)}return a&&(t=a.concat(t)),r.getGroupLabels(t),t}},{key:"exportToXML",value:function(e,t){var n=this.datafields.slice(0),a='<?xml version="1.0" encoding="UTF-8" ?>\n<table>\n';return-1===n.indexOf("rows")&&n.push("rows"),a+=function e(t,a){for(var r="",o=0;o<t.length;o++){var i=t[o];r+=a+"<row>\n";for(var l=0;l<n.length;l++){var s=n[l];if("rows"!==s)r+=a+"    <".concat(s,">").concat(i[s],"</").concat(s,">\n");else{if(!i.rows)continue;r+="".concat(a,"    <rows>\n").concat(e(i.rows,a+"        ")).concat(a,"    </rows>\n")}}r+=a+"</row>\n"}return r}(e,"    ")+"</table>",this.downloadFile(a,"application/xml",t)}},{key:"formatDate",value:function(e,t){if(!Smart.Utilities.DateTime)return e;try{return new Smart.Utilities.DateTime(e).toString(t)}catch(t){return e}}},{key:"formatNumber",value:function(e,t){if(!Smart.Utilities.NumberRenderer)return e;var n=(new Smart.Utilities.NumberRenderer).formatNumber(e,t);return void 0===n?e:n}},{key:"generateAuxiliaryFiles",value:function(){var e=(new Date).toISOString();return{_relsRels:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',docPropsAppXml:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>',docPropsCoreXml:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>Smart HTML Elements</dc:creator><cp:lastModifiedBy>Smart HTML Elements</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">'.concat(e,'</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">').concat(e,"</dcterms:modified></cp:coreProperties>"),xl_relsWorkbookXmlRels:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>',xlThemeTheme1Xml:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="游ゴシック Light"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="等线 Light"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="游ゴシック"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="等线"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>',xlWorkbookXml:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15 xr xr6 xr10 xr2" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision" xmlns:xr6="http://schemas.microsoft.com/office/spreadsheetml/2016/revision6" xmlns:xr10="http://schemas.microsoft.com/office/spreadsheetml/2016/revision10" xmlns:xr2="http://schemas.microsoft.com/office/spreadsheetml/2015/revision2"><fileVersion appName="xl" lastEdited="7" lowestEdited="7" rupBuild="20325"/><workbookPr defaultThemeVersion="166925"/><mc:AlternateContent xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"><mc:Choice Requires="x15"><x15ac:absPath url="C:UsersjqwidgetsDesktop" xmlns:x15ac="http://schemas.microsoft.com/office/spreadsheetml/2010/11/ac"/></mc:Choice></mc:AlternateContent><xr:revisionPtr revIDLastSave="0" documentId="13_ncr:1_{0DEDCB6D-5403-4CD8-AAA5-59B6D238A8B6}" xr6:coauthVersionLast="34" xr6:coauthVersionMax="34" xr10:uidLastSave="{00000000-0000-0000-0000-000000000000}"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="19200" windowHeight="6950" xr2:uid="{0CB664E6-3800-4A88-B158-B46A682E7484}"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><calcPr calcId="179021"/><extLst><ext uri="{140A7094-0E35-4892-8432-C4D2E57EDEB5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:workbookPr chartTrackingRefBase="1"/></ext></extLst></workbook>',Content_TypesXml:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="bin" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings"/><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/><Default Extension="xml" ContentType="application/xml"/><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/><Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/></Types>'}}},{key:"generateDefaultStyle",value:function(e){var t=this,n={},a=t.datafields,r=t.complexHeader?e[t.complexHeader.length]:e[+t.exportHeader];if(!r)return n;for(var o=0;o<a.length;o++)r[a[o]]instanceof Date&&(n.columns||(n.columns=[]),n.columns[a[o]]={format:"d"});return n}},{key:"generateGroupRow",value:function(e){var t=e.rowNumber,n="A"+t,a='        <row r="'.concat(t,'" outlineLevel="').concat(e.outlineLevel,'" spans="1:').concat(e.numberOfColumns,'"').concat(this.getCustomRowHeight(t-1),' x14ac:dyDescent="0.45">\n            <c r="').concat(n,'" t="s" s="0">\n                <v>').concat(e.sharedStringIndex,"</v>\n            </c>\n        </row>\n");return e.mergedCells.push({from:n,to:this.columnsArray[e.numberOfColumns-1]+t}),a}},{key:"generateSharedStrings",value:function(e){var t=this,n=t.datafields,a=[],r="",o=0,i=0;function l(e){o++,-1===a.indexOf(e)&&(i++,a.push(e),e=(e=(e=(e=(e=e.replace(/&(?!amp;)/g,"&amp;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")).replace(/>/g,"&gt;")).replace(/</g,"&lt;"),r+="<si><t>".concat(e,"</t></si>"))}for(var s=0;s<e.length;s++)for(var u=e[s],c=0;c<n.length;c++){var d=u[n[c]];null!==d||t.allowNull||(d=""),"string"==typeof d&&l(d)}if(t.groupLabels)for(var p=0;p<t.groupLabels.length;p++)l(t.groupLabels[p]);return r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="'.concat(o,'" uniqueCount="').concat(i,'">').concat(r,"</sst>"),{collection:a,xml:r}}},{key:"generateSheet1",value:function(e,t){var n=this,a=n.columnsArray.length,r=e.length,o=n.columnsArray[a-1]+r,i=n.datafields,l=n.getFilters(),s=[].concat(n.complexHeaderMergedCells),u='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac xr xr2 xr3" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision" xmlns:xr2="http://schemas.microsoft.com/office/spreadsheetml/2015/revision2" xmlns:xr3="http://schemas.microsoft.com/office/spreadsheetml/2016/revision3" xr:uid="{7F25248B-C640-4C64-AD47-C0EA0E5D90D0}">\n    <sheetPr filterMode="'.concat(""!==l,'" />\n    <dimension ref="A1:').concat(o,'" />\n    <sheetViews>\n        <sheetView tabSelected="1" workbookViewId="0" />\n    </sheetViews>\n    <sheetFormatPr defaultRowHeight="14.5" x14ac:dyDescent="0.35" />').concat(n.getCustomColumnWidths(),"\n    <sheetData>\n");function c(e,t){return n.columnsArray[e]+t}for(var d=0;d<=e.length;d++){var p=e[d],m=d+1,f="";if(n.actualHierarchy){var h=e[d-1];h&&h._collapsed&&(!p||h._level>p._level)&&(f=' collapsed="true"')}if(d===e.length){f&&(u+='        <row r="'.concat(m,'" outlineLevel="').concat(Math.max(e[d-1]._level-2,0),'" hidden="false" collapsed="true" />\n'));break}for(var v='        <row r="'.concat(m,'"').concat(n.getOutlineLevel(p),' hidden="').concat(p._hidden||p._collapsed||!1,'"').concat(f,' spans="1:').concat(a,'"').concat(n.getCustomRowHeight(m-1),' x14ac:dyDescent="0.45">\n'),g=0;g<i.length;g++){var y=n.getXLSXCellStyle(c(g,m));v+=n.getActualCellData(p[i[g]],{r:c(g,m),s:y},t)}u+=v+="        </row>\n"}return u+"    </sheetData>".concat(n.conditionalFormattingXLSX.conditions).concat(l).concat(n.getMergedCells(s),'\n    <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />\n    <pageSetup paperSize="9" orientation="portrait" r:id="rId1" />\n</worksheet>')}},{key:"generateSheet1WithGrouping",value:function(e,t){var n=this,a=n.columnsArray.length,r=e.length,o=n.columnsArray[a-1]+r,i=n.datafields,l=[].concat(n.complexHeaderMergedCells),s='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac xr xr2 xr3" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision" xmlns:xr2="http://schemas.microsoft.com/office/spreadsheetml/2015/revision2" xmlns:xr3="http://schemas.microsoft.com/office/spreadsheetml/2016/revision3" xr:uid="{7F25248B-C640-4C64-AD47-C0EA0E5D90D0}">\n    <dimension ref="A1:'.concat(o,'" />\n    <sheetViews>\n        <sheetView tabSelected="1" workbookViewId="0" />\n    </sheetViews>\n    <sheetFormatPr defaultRowHeight="14.5" x14ac:dyDescent="0.35" />').concat(n.getCustomColumnWidths(),"\n    <sheetData>\n"),u=0,c=[];function d(e,t){return n.columnsArray[e]+t}e:for(var p=0;p<e.length;p++){var m=e[p],f=p+1+u,h=0,v="";if(!n.exportHeader||!n.complexHeader&&0!==p||n.complexHeader&&p>=n.complexHeader.length){for(var g="",y=0;y<n.groupBy.length;y++){var b=n.groupBy[y],w=m[b],_=n.groups[b][w];if(g+=w,-1===c.indexOf(g)){var k=t.indexOf(_);s+=n.generateGroupRow({rowNumber:f,outlineLevel:h,numberOfColumns:a,sharedStringIndex:k,mergedCells:l}),c.push(g),p--,u++;continue e}h++}v=' outlineLevel="'.concat(h,'"')}for(var C='        <row r="'.concat(f,'"').concat(v,' spans="1:').concat(a,'"').concat(n.getCustomRowHeight(f-1),' x14ac:dyDescent="0.45">\n'),D=0;D<i.length;D++){var x=n.getXLSXCellStyle(d(D,p+1));C+=n.getActualCellData(m[i[D]],{r:d(D,f),s:x},t)}s+=C+="        </row>\n"}return s+"    </sheetData>".concat(n.getMergedCells(l),'\n    <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />\n    <pageSetup paperSize="9" orientation="portrait" r:id="rId1" />\n</worksheet>')}},{key:"getActualCellData",value:function(e,t,n){var a=t.r,r=t.s||' s="0"';return null!==e||this.allowNull||(e=""),"string"==typeof e?'            <c r="'.concat(a,'" t="s"').concat(r,">\n                <v>").concat(n.indexOf(e),"</v>\n            </c>\n"):"boolean"==typeof e?'            <c r="'.concat(a,'" t="b"').concat(r,">\n                <v>").concat(+e,"</v>\n            </c>\n"):e instanceof Date?'            <c r="'.concat(a,'"').concat(r,">\n                <v>").concat((e.getTime()+this.timeBetween1900And1970)/864e5+2,"</v>\n            </c>\n"):'            <c r="'.concat(a,'"').concat(r,">\n                <v>").concat(e,"</v>\n            </c>\n")}},{key:"getColumnsArray",value:function(){var e=this.datafields.length,t=[];function n(e){return e<26?"":String.fromCharCode(64+Math.floor(e/26))}for(var a=0;a<e;a++)t.push(n(a)+String.fromCharCode(65+(a<26?a:a%26)));this.columnsArray=t}},{key:"getColumnStyle",value:function(){var e,t=this,n=t.style;if(!n)return"        .header { border: 1px solid black; padding: 5px; }\n        .column { border: 1px solid black; padding: 5px; }\n        .group { background-color: #FFFFFF; color: #000000; font-weight: bold; }";e=n.removeDefault?{header:"",column:"",group:""}:{header:"border: 1px solid black; padding: 5px; ",column:"white-space: nowrap; overflow: hidden; border: 1px solid black; padding: 5px; ",group:"background-color: #FFFFFF; color: #000000; font-weight: bold; "};var a=t.data[0],r="",o=n.header||{};for(var i in o)if(Object.prototype.hasOwnProperty.call(o,i)){var l=o[i];if(a[i]){for(var s in e["header"+i]||(e["header"+i]=""),l)if(Object.prototype.hasOwnProperty.call(l,s)){var u=Smart.Utilities.Core.toDash(s)+": "+l[s]+"; ";e["header"+i]+=u,"width"===s&&(e["column"+i]||(e["column"+i]=""),e["column"+i]+=u)}}else"height"===i&&t.complexHeader?e.header+="height: "+parseInt(o[i],10)/t.complexHeader.length+"px; ":e.header+=Smart.Utilities.Core.toDash(i)+": "+o[i]+"; "}var c=n.columns||{};for(var d in c)if(Object.prototype.hasOwnProperty.call(c,d)){var p=c[d];if(a[d])for(var m in e["column"+d]||(e["column"+d]=""),p)isNaN(m)&&Object.prototype.hasOwnProperty.call(p,m)&&"format"!==m&&(e["column"+d]+=Smart.Utilities.Core.toDash(m)+": "+p[m]+"; ");else e.column+=Smart.Utilities.Core.toDash(d)+": "+p+"; "}for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(r+="        .".concat(f," { ").concat(e[f],"}\n"));return n.custom&&(r+="".concat(n.custom,"\n")),r}},{key:"getCustomColumnWidths",value:function(){var e=this;if(!e.style||!e.columnWidth||0===e.columnWidth.length)return"";for(var t="\n    <cols>\n",n=0;n<e.columnWidth.length;n++){var a=e.columnWidth[n];void 0!==a&&(a=Math.round(parseFloat(a))/7,t+='        <col min="'.concat(n+1,'" max="').concat(n+1,'" width="').concat(a,'" customWidth="1" />\n'))}return t+"    </cols>"}},{key:"getCustomFilter",value:function(e,t){var n,a="equal";switch(e instanceof Date&&(e=(e.getTime()+this.timeBetween1900And1970)/864e5+2),t=t.toUpperCase()){case"EMPTY":n="";break;case"NOT_EMPTY":n="",a="notEqual";break;case"CONTAINS":case"CONTAINS_CASE_SENSITIVE":n="*".concat(e,"*");break;case"DOES_NOT_CONTAIN":case"DOES_NOT_CONTAIN_CASE_SENSITIVE":n="*".concat(e,"*"),a="notEqual";break;case"STARTS_WITH":case"STARTS_WITH_CASE_SENSITIVE":n="".concat(e,"*");break;case"ENDS_WITH":case"ENDS_WITH_CASE_SENSITIVE":n="*".concat(e);break;case"EQUAL":case"EQUAL_CASE_SENSITIVE":n=e;break;case"NULL":n=null;break;case"NOT_NULL":n=null,a="notEqual";break;case"NOT_EQUAL":n=e,a="notEqual";break;case"LESS_THAN":n=e,a="lessThan";break;case"LESS_THAN_OR_EQUAL":n=e,a="lessThanOrEqual";break;case"GREATER_THAN":n=e,a="greaterThan";break;case"GREATER_THAN_OR_EQUAL":n=e,a="greaterThanOrEqual"}return'                <customFilter val="'.concat(n,'" operator="').concat(a,'"/>\n')}},{key:"getCustomRowHeight",value:function(e){var t=this;return t.style&&(t.rowHeight[e]||t.defaultRowHeight)||""}},{key:"getDatafields",value:function(e){var t=e[0],n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&"_"!==a.charAt(0)&&n.push(a);this.datafields=n}},{key:"getFilters",value:function(){var e=this,t=e.filterBy;if(!t)return"";var n="";for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var r=e.datafields.indexOf(a);if(-1===r)continue;var o=t[a],i=o.filters;n+='        <filterColumn colId="'.concat(r,'">\n            <customFilters and="').concat(!o.operator,'">\n');for(var l=0;l<i.length;l++)n+=e.getCustomFilter(i[l].value,i[l].condition);n+="            </customFilters>\n        </filterColumn>"}return n?n='\n    <autoFilter ref="A1:'.concat(e.columnsArray[e.columnsArray.length-1]+e.data.length,'">\n').concat(n,"\n    </autoFilter>"):""}},{key:"getGroupLabels",value:function(e){for(var t=this,n=void 0!==t.xlsxStartIndex?t.xlsxStartIndex:+t.exportHeader,a={},r=[],o=n;o<e.length;o++)for(var i=e[o],l=0;l<t.groupBy.length;l++){var s=t.groupBy[l],u=i[s],c=a[s];void 0===c&&(a[s]={},c=a[s]),void 0===c[u]&&(c[u]=(t.exportHeader?e[n-1][s]:s)+": "+u,r.push(c[u]))}t.groups=a,t.groupLabels=r}},{key:"getHTMLHeader",value:function(e,t){var n=this,a="\n        <thead>\n";if(!n.complexHeader){a+="            <tr>\n";for(var r=0;r<e.length;r++){var o=e[r];a+='                <th class="header header'.concat(o,'">').concat(t[0][o],"</th>\n")}return a+"            </tr>\n        </thead>"}for(var i=0;i<n.complexDataFieldsHeader.length;i++){var l=n.complexDataFieldsHeader[i];a+="            <tr>\n";for(var s=0;s<l.length;s++){var u=l[s],c=1,d=1;if(!(l[s-1]&&l[s-1]===u||n.complexDataFieldsHeader[i-1]&&n.complexDataFieldsHeader[i-1][s]===u)){for(var p=s+1;l[p]&&l[p]===l[p-1];)c++,p++;for(p=i+1;n.complexDataFieldsHeader[p]&&n.complexDataFieldsHeader[p][s]===u;)d++,p++;a+='                <th class="header'.concat(i===n.complexHeader.length-1||d+i===n.complexHeader.length?" header"+e[s]:"",'" colspan="').concat(c,'" rowspan="').concat(d,'">').concat(n.complexHeader[i][s],"</th>\n")}}a+="            </tr>\n"}return a+"        </thead>"}},{key:"getConditionalFormatting",value:function(){var e=this,t=e.conditionalFormatting;if(t){for(var n=[],a="",r="",o=t.length-1;o>=0;o--){var i=t[o],l=e.columnsArray[e.datafields.indexOf(i.column)],s=l+(e.xlsxStartIndex+1),u=s+":"+l+e.data.length,c=i.background+i.color,d=e.getConditionalAttributes(i,s),p=n.indexOf(c);-1===p&&(r+='        <dxf>\n            <font>\n                <b val="0"/>\n                <i val="0"/>\n                <color rgb="'.concat("White"===i.color?"FFFFFFFF":"FF000000",'"/>\n                <sz val="10"/>\n            </font>\n            <fill>\n                <patternFill>\n                    <bgColor rgb="').concat(e.toARGB(i.background),'"/>\n                </patternFill>\n            </fill>\n        </dxf>\n'),p=n.length,n.push(c)),a+='    <conditionalFormatting sqref="'.concat(u,'">\n        <cfRule dxfId="').concat(p,'" text="').concat(d.text,'" rank="').concat(d.rank,'" percent="').concat(d.percent,'" bottom="').concat(d.bottom,'" equalAverage="').concat(d.equalAverage,'" aboveAverage="').concat(d.aboveAverage,'"').concat(d.operator).concat(d.timePeriod,' priority="').concat(o+2,'" type="').concat(d.type,'">\n').concat(d.formula,"        </cfRule>\n    </conditionalFormatting>\n")}r='    <dxfs count="'.concat(n.length,'">\n').concat(r,"    </dxfs>"),e.conditionalFormattingXLSX={conditions:a,styles:r}}else e.conditionalFormattingXLSX={conditions:"",styles:""}}},{key:"getConditionalAttributes",value:function(e,t){var n=e.condition,a=e.comparator,r="",o=0,i=0,l=0,s=0,u="",c="",d="",p="";switch(n){case"equal":u="equal",d="cellIs",p="            <formula>".concat(a,"</formula>\n");break;case"lessThan":u="lessThan",d="cellIs",p="            <formula>".concat(a,"</formula>\n");break;case"greaterThan":u="greaterThan",d="cellIs",p="            <formula>".concat(a,"</formula>\n");break;case"notEqual":u="notEqual",d="cellIs",p="            <formula>".concat(a,"</formula>\n");break;case"between":u="between",d="cellIs",p="            <formula>".concat(e.min,"</formula>\n            <formula>").concat(e.max,"</formula>\n");break;case"duplicate":d="duplicateValues",p="            <formula>0</formula>\n";break;case"topNItems":o=a,d="top10";break;case"bottomNItems":o=a,l=1,d="top10";break;case"topNPercent":o=a,i=1,d="top10";break;case"bottomNPercent":o=a,i=1,l=1,d="top10";break;case"aboveAverage":s=1,d="aboveAverage",p="            <formula>0</formula>\n";break;case"belowAverage":d="aboveAverage",p="            <formula>0</formula>\n";break;case"contains":r=a,u="containsText",d="containsText",p='            <formula>NOT(ISERROR(SEARCH("'.concat(a,'",').concat(t,")))</formula>\n");break;case"doesNotContain":r=a,u="notContains",d="notContainsText",p='            <formula>ISERROR(SEARCH("'.concat(a,'",').concat(t,"))</formula>\n");break;case"dateOccur":c=' timePeriod="'.concat(a,'"'),d="timePeriod"}return u&&(u=' operator="'.concat(u,'" ')),{text:r,rank:o,percent:i,bottom:l,equalAverage:0,aboveAverage:s,operator:u,timePeriod:c,type:d,formula:p}}},{key:"getMergedCells",value:function(e){for(var t=this,n="",a=0;a<e.length;a++)e[a].from!==e[a].to&&(n+='\n        <mergeCell ref="'.concat(e[a].from,":").concat(e[a].to,'" />\n'));if(t.mergedCells)for(var r=0;r<t.mergedCells.length;r++){var o=t.mergedCells[r];o.rowspan<2&&o.colspan<2||(n+='\n        <mergeCell ref="'.concat(t.columnsArray[o.cell[0]]+(o.cell[1]+t.xlsxStartIndex+1),":").concat(t.columnsArray[o.cell[0]+o.colspan-1]+(o.cell[1]+t.xlsxStartIndex+o.rowspan),'" />\n'))}return n&&(n='\n    <mergeCells count="'.concat(e.length,'">').concat(n,"    </mergeCells>")),n}},{key:"getNumFmtIndex",value:function(e,t){var n=t.collection.indexOf(e);return-1===n?(n=t.collection.length+100,t.collection.push(e),t.xml+='<numFmt numFmtId="'.concat(n,'" formatCode="').concat(e,'"/>')):n+=100,n}},{key:"getOutlineLevel",value:function(e){return this.actualHierarchy&&1!==e._level?' outlineLevel="'.concat(e._level-1,'"'):""}},{key:"getRowStyle",value:function(){var e=this.style;if(!e)return"";var t=e.rows;if(!t)return"";var n={row:""},a="";for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&"alternationCount"!==r&&"alternationStart"!==r&&"alternationEnd"!==r){var o=t[r];if(-1===r.indexOf("alt"))if(isNaN(r))n.row+=Smart.Utilities.Core.toDash(r)+": "+t[r]+"; ";else for(var i in n["row"+r]||(n["row"+r]=""),o)Object.prototype.hasOwnProperty.call(o,i)&&(n["row"+r]+=Smart.Utilities.Core.toDash(i)+": "+o[i]+"; ");else{var l=r.slice(16,17),s=r.slice(17);n["rowN"+l]||(n["rowN"+l]=""),n["rowN"+l]+="Color"===s?"color : "+o+"; ":"BorderColor"===s?"border-color : "+o+"; ":"background-color : "+o+"; "}}var u=Object.keys(n);u.sort((function(e,t){if("row"===e)return-1;if("row"===t)return 1;var n=!isNaN(e.slice(3)),a=!isNaN(t.slice(3));return n&&!a?1:!n&&a?-1:+(e<t)}));for(var c=0;c<u.length;c++)a+="        .".concat(u[c]," { ").concat(n[u[c]],"}\n");return a}},{key:"getTableStyle",value:function(){var e=this.style;if(!e)return' style="table-layout: fixed; border: 1px solid black; border-collapse: collapse;"';var t="table-layout: fixed; ";for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===["header","columns","rows","removeDefault","custom"].indexOf(n)&&(t+=Smart.Utilities.Core.toDash(n)+": "+e[n]+"; ");return t&&(t=' style="'+t+'"'),t}},{key:"getXLSXCellStyle",value:function(e){return void 0!==this.cellStyleMapping[e]?' s="'.concat(this.cellStyleMapping[e],'"'):""}},{key:"getXLSXFormat",value:function(e,t){if("number"==typeof t){if(!/^([a-zA-Z]\d*)$/g.test(e))return e;var n=parseFloat(e.slice(1))||0,a=n>0?"."+"0".repeat(n):"";switch(e=e.slice(0,1)){case"C":case"c":return"$#,0"+a;case"D":case"d":return n?"0".repeat(n):"0";case"E":case"e":return"0"+a+e+"000";case"F":case"f":return"0"+a;case"N":case"n":return"#,0"+a;case"P":case"p":return"#,0"+a+" %";default:return}}else if(t instanceof Date){switch(e){case"d":return"m/d/yyyy";case"D":return"nnnnmmmm dd, yyyy";case"t":return"h:m AM/PM";case"T":return"h:mm:ss AM/PM";case"f":return"nnnnmmmm dd, yyyy h:m AM/PM";case"F":return"nnnnmmmm dd, yyyy h:mm:ss AM/PM";case"M":return"mmmm d";case"Y":return"yyyy mmmm";case"FP":case"PP":return"yyyy-mm-dd hh:mm:ss";case"FT":case"PT":return"hh:mm:ss"}return(e=(e=(e=e.replace(/f|u|n|p|e|a|x|o/gi,"")).replace(/tt/gi,"AM/PM")).replace(/:{2,}|:\s|:$|\.$/g,"")).trim()}}},{key:"processColumnStyle",value:function(e){var t=this,n=e.header,a=e.columns,r=t.data[0],o=t.xlsxStartIndex;if(t.columnWidth=[],o&&n)for(var i=0;i<t.columnsArray.length;i++){var l=t.columnsArray[i],s=l+o,u=n[t.datafields[i]];for(var c in n)if(Object.prototype.hasOwnProperty.call(n,c)&&void 0===r[c])if(t.complexHeader)for(var d=0;d<t.complexHeader.length;d++)"height"!==c?t.storeCellStyle(l+(d+1),c,n[c]):t.rowHeight[d]=' ht="'.concat(parseFloat(n.height)/t.complexHeader.length/2,'"');else{if("height"===c){t.rowHeight[0]=' ht="'.concat(parseFloat(n.height)/2,'"');continue}t.storeCellStyle(s,c,n[c])}if(u)for(var p in u)if(Object.prototype.hasOwnProperty.call(u,p)){if("width"===p){t.columnWidth[i]=u.width;continue}t.storeCellStyle(s,p,u[p])}}else if(n)for(var m=0;m<t.columnsArray.length;m++){var f=n[t.datafields[m]];f&&void 0!==f.width&&(t.columnWidth[m]=f.width)}if(!a)return"";for(var h=o;h<t.data.length;h++)for(var v=0;v<t.columnsArray.length;v++){var g=t.columnsArray[v]+(h+1),y=t.datafields[v],b=a[y];for(var w in a)Object.prototype.hasOwnProperty.call(a,w)&&void 0===r[w]&&t.storeCellStyle(g,w,a[w]);if(b)for(var _ in b)isNaN(_)&&Object.prototype.hasOwnProperty.call(b,_)&&t.storeCellStyle(g,_,b[_],t.data[h][y])}}},{key:"processComplexHeader",value:function(e,t,n){var a=this,r={},o=-1!==["html","jpeg","pdf","png","xlsx"].indexOf(n)&&e.columngroups,i=[],l={},s={},u=[],c=[],d=0;function p(t){for(var n=0;n<e.columngroups.length;n++){var a=e.columngroups[n];if(a.name===t)return a}}function m(e,t){for(var n=[];e;){if(n.unshift(e[t]),!e.parentGroup)return n;e=p(e.parentGroup)}}if(o){for(var f=0;f<e.columngroups.length;f++){var h=e.columngroups[f],v=m(h,"label");l[h.name]=v,s[h.name]=m(h,"name"),d=Math.max(d,v.length)}d++;for(var g=0;g<d;g++)u[g]=[],c[g]=[]}for(var y=0;y<e.columns.length;y++){var b=e.columns[y];if(r[b.dataField]=b.label,o&&(i[y]=b.dataField,u[d-1][y]=b.label,c[d-1][y]=b.dataField,b.columnGroup)){var w=l[b.columnGroup],_=s[b.columnGroup];if(w)for(var k=0;k<w.length;k++)u[k][y]=w[k],c[k][y]=_[k]}}if(u.length>1){for(var C=Object.keys(r).length,D=0;D<d-1;D++){for(var x={},E=0;E<C;E++){if(void 0===u[D][E]){for(var S=D+1;void 0===u[S][E];)S++;u[D][E]=u[S][E],c[D][E]=c[S][E]}x[i[E]]=u[D][E]}"xlsx"===n&&t.splice(D,0,x)}if(a.complexHeader=u,a.complexDataFieldsHeader=c,"xlsx"!==n)t.unshift(r);else{t.splice(d-1,0,r);for(var A={},T=0;T<d;T++)for(var $=0;$<C;$++){var F=c[T][$];if(A[F]){var L=A[F].to;if(T-L[0]>1||$-L[1]>1){A[F+Math.random().toString(36)]=A[F],A[F]={from:[T,$],to:[T,$]};continue}A[F].to=[T,$]}else A[F]={from:[T,$]},A[F].to=A[F].from}a.complexHeaderMergeInfo=A}}else t.unshift(r)}},{key:"processHierarchicalData",value:function(e,t){var n=this,a="xlsx"!==t?+n.exportHeader:n.xlsxStartIndex,r={},o=[],i=0,l=!1;if(void 0===e[a]._keyDataField)return n.processNestedData(e,t,a);for(var s=a;s<e.length;s++){var u=Object.assign({},e[s]),c=u._parentDataField;void 0===c&&(c=null),void 0===r[c]?r[c]=[u]:r[c].push(u)}if(a)for(var d=0;d<a;d++)o.push(Object.assign({},e[d])),-1===["json","pdf","xml"].indexOf(t)&&(o[d]._level=1);return"json"!==t&&"xml"!==t?function e(t,n,a){var s=r[t];if(i=Math.max(i,n),void 0!==s)for(var u=0;u<s.length;u++){var c=s[u],d=c._keyDataField;c._collapsed=a,c._level=n,o.push(c),r[d]&&(l=!0,c._expanded=void 0===c._expanded||c._expanded,e(d,n+1,a||!c._expanded))}}(null,1,!1):function e(n,a,o){var s=r[n];if(i=Math.max(i,a),void 0!==s)for(var u=0;u<s.length;u++){var c=s[u],d=c._keyDataField,p=void 0;if("json"===t)for(var m in p={},c)Object.prototype.hasOwnProperty.call(c,m)&&"_"!==m.charAt(0)&&(p[m]=c[m]);else p=Object.assign({},c);o.push(p),r[d]&&(l=!0,p.rows=[],e(d,a+1,p.rows))}}(null,1,o),l||(n.actualHierarchy=!1),n.maxLevel=i,o}},{key:"processNestedData",value:function(e,t,n){var a=[],r=0,o=!1;if(n)for(var i=0;i<n;i++)a.push(Object.assign({},e[i])),-1===["json","pdf","xml"].indexOf(t)&&(a[i]._level=1);return"json"!==t&&"xml"!==t?function e(t,n,i,l){r=Math.max(r,i);for(var s=t;s<n.length;s++){var u=Object.assign({},n[s]);u._collapsed=l,u._level=i,a.push(u),u.children&&u.children.length>0&&(o=!0,u._expanded=void 0===u._expanded||u._expanded,e(0,u.children,i+1,l||!u._expanded)),delete u.children}}(n,e,1,!1):function e(t,n,i,l){r=Math.max(r,l);for(var s=t;s<n.length;s++){var u=Object.assign({},n[s]);1===l?a[s]=u:i[s]=u,u.children&&u.children.length>0&&(o=!0,u.rows=[],e(0,u.children,u.rows,l+1)),delete u.children}}(n,e,void 0,1),o||(this.actualHierarchy=!1),this.maxLevel=r,a}},{key:"processRowStyle",value:function(e){var t=this,n=e.rows;if(t.rowHeight=[],n){var a=t.xlsxStartIndex;n.height&&(t.defaultRowHeight=' ht="'.concat(parseFloat(n.height)/2,'"'));for(var r=a;r<t.data.length;r++){var o=r-a;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&-1===i.indexOf("alt")&&isNaN(i)&&"height"!==i&&u(o,i,n[i]);if(n.alternationCount&&((void 0===n.alternationStart||o>=n.alternationStart)&&(void 0===n.alternationEnd||o<=n.alternationEnd)||n.alternationStart===n.alternationEnd)){var l=(o-(n.alternationStart||0))%n.alternationCount;n["alternationIndex".concat(l,"Color")]&&u(o,"color",n["alternationIndex".concat(l,"Color")]),n["alternationIndex".concat(l,"BorderColor")]&&u(o,"borderColor",n["alternationIndex".concat(l,"BorderColor")]),n["alternationIndex".concat(l,"BackgroundColor")]&&u(o,"backgroundColor",n["alternationIndex".concat(l,"BackgroundColor")])}if(n[o])for(var s in n[o])if(Object.prototype.hasOwnProperty.call(n[o],s)){if("height"===s){t.rowHeight[r]=' ht="'.concat(parseFloat(n[o].height)/2,'"');continue}u(o,s,n[o][s])}}}function u(e,n,r){for(var o=0;o<t.columnsArray.length;o++){var i=t.columnsArray[o]+(e+1+a);t.storeCellStyle(i,n,r)}}}},{key:"storeCellStyle",value:function(e,t,n){var a=this.styleMap[e];switch(t){case"backgroundColor":a.fills.fgColor=n;break;case"color":a.fonts.color=n;break;case"fontFamily":a.fonts.name=n.replace(/"/g,"'");break;case"fontSize":a.fonts.sz=parseFloat(n);break;case"fontStyle":"italic"===n?a.fonts.i=!0:delete a.fonts.i;break;case"fontWeight":"bold"===n?a.fonts.b=!0:delete a.fonts.b;break;case"numFmt":a.numFmt=n;break;case"textAlign":a.alignment.horizontal=n;break;case"textDecoration":"underline"===n?a.fonts.u=!0:delete a.fonts.u;break;case"verticalAlign":"middle"===n&&(n="center"),a.alignment.vertical=n}}},{key:"toARGB",value:function(e){e=e.replace(/\s/g,"");var t=/rgb\((\d+),(\d+),(\d+)\)/gi.exec(e);if(null!==t){var n=parseFloat(t[1]).toString(16).toUpperCase(),a=parseFloat(t[2]).toString(16).toUpperCase(),r=parseFloat(t[3]).toString(16).toUpperCase();return"FF"+"0".repeat(2-n.length)+n+"0".repeat(2-a.length)+a+"0".repeat(2-r.length)+r}var o=/rgba\((\d+),(\d+),(\d+)\,(\d*.\d+|\d+)\)/gi.exec(e);if(null!==o){var i=Math.round(255*parseFloat(o[4])).toString(16).toUpperCase(),l=parseFloat(o[1]).toString(16).toUpperCase(),s=parseFloat(o[2]).toString(16).toUpperCase(),u=parseFloat(o[3]).toString(16).toUpperCase();return"0".repeat(2-i.length)+i+"0".repeat(2-l.length)+l+"0".repeat(2-s.length)+s+"0".repeat(2-u.length)+u}var c=/^#(.)(.)(.)$/gi.exec(e);if(null!==c){var d=c[1].toUpperCase(),p=c[2].toUpperCase(),m=c[3].toUpperCase();return"FF"+d+d+p+p+m+m}return"FF"+e.toUpperCase().slice(1)}},{key:"toggleableFunctionality",value:function(){var e=this;return e.actualHierarchy?'\n    <style type="text/css">\n        .toggle-element {\n            width: 5px;\n            height: 1px;\n            padding-right: 5px;\n            float: left;\n            text-align: right;\n            cursor: pointer;\n            user-select: none;\n        }\n\n        .collapsed {\n            display: none;\n        }\n    </style>\n    <script type="text/javascript">\n        window.onload = function () {\n            var expandChar = \''.concat(e.expandChar,"',\n                collapseChar = '").concat(e.collapseChar,"',\n                toggleElements = document.getElementsByClassName('toggle-element');\n\n            function getParent(child) {\n                var prevSibling = child.previousElementSibling;\n\n                while (prevSibling) {\n                    if (child.getAttribute('level') > prevSibling.getAttribute('level')) {\n                        return prevSibling;\n                    }\n\n                    prevSibling = prevSibling.previousElementSibling;\n                }\n\n            }\n\n            function getFirstCollapsedAncestor(child) {\n                var parent = getParent(child);\n\n                while (parent) {\n                    if (parent.firstElementChild.firstElementChild.innerHTML === expandChar) {\n                        return parent;\n                    }\n\n                    parent = getParent(parent);\n                }\n            }\n\n            for (var i = 0; i < toggleElements.length; i++) {\n                toggleElements[i].addEventListener('click', function (event) {\n                    var expanded = this.innerHTML === collapseChar,\n                        row = this.parentElement.parentElement,\n                        sibling = row.nextElementSibling;\n\n                    if (expanded) {\n                        this.innerHTML = expandChar;\n                    }\n                    else {\n                        this.innerHTML = collapseChar;\n                    }\n\n                    while (sibling && row.getAttribute('level') < sibling.getAttribute('level')) {\n                        if (expanded) {\n                            sibling.style.display = 'none';\n                        }\n                        else {\n                            var firstCollapsedAncestor = getFirstCollapsedAncestor(sibling);\n\n                            if (!firstCollapsedAncestor || firstCollapsedAncestor === row) {\n                                sibling.classList.remove('collapsed');\n                                sibling.style.display = null;\n                            }\n\n                        }\n\n                        sibling = sibling.nextElementSibling;\n                    }\n                });\n            }\n        }\n    <\/script>"):""}},{key:"generateStyles",value:function(e){var t=this;if(t.cellStyleMapping={},0===Object.keys(e).length&&!t.complexHeader)return'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac x16r2 xr" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:x16r2="http://schemas.microsoft.com/office/spreadsheetml/2015/02/main" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision"><fonts count="1" x14ac:knownFonts="1"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><charset val="204"/><scheme val="minor"/></font></fonts><fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>'.concat(t.conditionalFormattingXLSX.styles||'<dxfs count="0"/>','<tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>');t.styleMap={};for(var n=0;n<t.data.length;n++)for(var a=0;a<t.columnsArray.length;a++)t.styleMap[t.columnsArray[a]+(n+1)]={numFmts:{},fonts:{},fills:{},borders:{},alignment:{}};if(e&&e.columns)for(var r=0;r<t.columnsArray.length;r++){var o=t.datafields[r];if(e.columns[o]&&e.columns[o].format){var i=t.getXLSXFormat(e.columns[o].format,t.data[t.data.length-1][o]);i&&(e.columns[o].numFmt=i)}}t.processRowStyle(e),t.processColumnStyle(e);for(var l={},s=0;s<t.complexHeaderMergedCells.length;s++){var u=t.complexHeaderMergedCells[s];parseFloat(u.to[1])!==t.complexHeader.length?(t.styleMap[u.from].alignment.horizontal="center",t.styleMap[u.from].alignment.vertical="center"):l[u.to]=u.from}for(var c={xml:'<font><sz val="11" /><color theme="1" /><name val="Calibri" /><family val="2" /><charset val="204" /><scheme val="minor" /></font>',collection:["default"]},d={xml:'<fill><patternFill patternType="none" /></fill><fill><patternFill patternType="gray125" /></fill>',collection:["default","gray125"]},p={xml:"",collection:[]},m={xml:'<xf fontId="0" fillId="0" borderId="1"/>',collection:["default"]},f=0;f<t.data.length;f++)for(var h=0;h<t.columnsArray.length;h++){var v=t.columnsArray[h]+(f+1),g=t.styleMap[v],y="",b="",w="",_=[],k=[],C=[],D=[];for(var x in g.fonts)if(Object.prototype.hasOwnProperty.call(g.fonts,x)){var E=g.fonts[x];switch(x){case"color":_[0]=E,y+='<color rgb="'.concat(t.toARGB(E),'" />');break;case"name":_[1]=E,y+='<name val="'.concat(E,'" />');break;case"sz":_[2]=E,y+='<sz val="'.concat(E,'" />');break;case"i":_[3]=E,y+="<i />";break;case"b":_[4]=E,y+="<b />";break;case"u":_[5]=E,y+="<u />"}}for(var S in g.fills)if(Object.prototype.hasOwnProperty.call(g.fills,S)){var A=g.fills[S];switch(S){case"fgColor":k[0]=A,b+='<fgColor rgb="'.concat(t.toARGB(A),'" />')}}for(var T in g.alignment)if(Object.prototype.hasOwnProperty.call(g.alignment,T)){var $=g.alignment[T];switch(T){case"horizontal":C[0]=$,w+='horizontal="'.concat($,'" ');break;case"vertical":C[1]=$,w+='vertical="'.concat($,'" ')}}if(_=_.toString(),k=k.toString(),""!==y){var F=c.collection.indexOf(_);-1===F&&(F=c.collection.length,c.xml+="<font>"+y+"</font>",c.collection.push(_)),D[0]=F}if(""!==b){var L=d.collection.indexOf(k);-1===L&&(L=d.collection.length,d.xml+='<fill><patternFill patternType="solid">'+b+"</patternFill></fill>",d.collection.push(k)),D[1]=L}C.length>0&&(D[2]=w),void 0!==g.numFmt&&(D[3]=t.getNumFmtIndex(g.numFmt,p));var H=D.toString();if(""!==H){var O=m.collection.indexOf(H);if(-1===O){var P="<xf ";O=m.collection.length,void 0!==D[0]&&(P+='fontId="'.concat(D[0],'" ')),void 0!==D[1]&&(P+='fillId="'.concat(D[1],'" ')),void 0!==D[3]&&(P+='numFmtId="'.concat(D[3],'" ')),void 0!==D[2]?P+='applyAlignment="1" borderId="1"><alignment '.concat(w,"/></xf>"):P+=' borderId="1"/>',m.xml+=P,m.collection.push(H)}t.cellStyleMapping[l[v]||v]=O}}return p.collection.length&&(p.xml='<numFmts count="'.concat(p.collection.length,'">').concat(p.xml,"</numFmts>")),'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac x16r2 xr" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:x16r2="http://schemas.microsoft.com/office/spreadsheetml/2015/02/main" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision">'.concat(p.xml,'<fonts count="').concat(c.collection.length,'" x14ac:knownFonts="1">').concat(c.xml,'</fonts><fills count="').concat(d.collection.length,'">').concat(d.xml,'</fills><borders count="2"><border><left/><right/><top/><bottom/></border><border><left style="hair"/><right style="hair"/><top style="hair"/><bottom style="hair"/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="').concat(m.collection.length,'">').concat(m.xml,'</cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>').concat(t.conditionalFormattingXLSX.styles,'<dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>')}}])&&t(a.prototype,r),n}())},7438:()=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Smart("smart-file-upload",function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(m,Smart.BaseElement);var l,s,u,c,d,p=(c=m,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=i(c);if(d){var n=i(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return o(this,e)});function m(){return t(this,m),p.apply(this,arguments)}return l=m,u=[{key:"properties",get:function(){return{accept:{value:null,type:"string?"},appendTo:{value:null,type:"any"},autoUpload:{value:!1,type:"boolean"},directory:{value:!1,type:"boolean"},dropZone:{value:null,type:"any"},hideFooter:{value:!1,type:"boolean"},itemTemplate:{value:null,type:"any"},messages:{value:{en:{browse:"Browse",uploadFile:"Upload File",cancelFile:"Cancel File",pauseFile:"Pause File",uploadAll:"Upload All",cancelAll:"Cancel All",pauseAll:"Pause All",totalFiles:"Total files: ",connectionError:"{{elementType}}: File Upload requires connection to the server.",wrongItemIndex:"{{elementType}}: There is no file with such an index in the list of uploaded files.",tooLongFileName:"{{elementType}}: File name is too long."}},type:"object",extend:!0},multiple:{value:!1,type:"boolean"},name:{value:"",type:"string"},responseHandler:{value:null,type:"function?",reflectToAttribute:!1},setHeaders:{value:null,type:"function?",reflectToAttribute:!1},showProgress:{value:!1,type:"boolean"},validateFile:{value:null,type:"function?",reflectToAttribute:!1},uploadUrl:{value:"",type:"string",reflectToAttribute:!1},removeUrl:{value:"",type:"string",reflectToAttribute:!1}}}},{key:"listeners",get:function(){return{"browseButton.click":"browse","browseButton.focus":"_focusHandler","browseButton.blur":"_blurHandler","browseInput.change":"_browseInputChangeHandler","selectedFiles.click":"_selectedFilesClickHandler","uploadAllButton.click":"uploadAll","cancelAllButton.click":"cancelAll","pauseAllButton.click":"pauseAll","dropZone.dragenter":"_dropZoneHandler","dropZone.dragleave":"_dropZoneHandler","dropZone.dragover":"_dropZoneHandler","dropZone.drop":"_dropZoneHandler",resize:"_handleComponentsByAvailableHeight"}}},{key:"requires",get:function(){return{"Smart.Button":"smart.button.js","Smart.ProgressBar":"smart.progressbar.js"}}},{key:"styleUrls",get:function(){return["smart.fileupload.css"]}}],(s=[{key:"_blurHandler",value:function(){this.$.fireEvent("blur")}},{key:"_focusHandler",value:function(){this.$.fireEvent("focus")}},{key:"template",value:function(){return'<div id="container" role="presentation">\n                    <div id="fileUploadHeader" class="smart-file-upload-header" role="presentation">\n                        <smart-button class="smart-browse-button" id="browseButton" disabled="[[disabled]]" theme="[[theme]]" right-to-left="[[rightToLeft]]"></smart-button>\n                        <input type="file" class="smart-browse-input" id="browseInput" name="[[name]]" animation="[[animation]]" disabled="[[disabled]]" unfocusable="[[unfocusable]]" multiple="[[multiple]]" webkitdirectory="[[directory]]" mozdirectory="[[directory]]" />\n                    </div>\n                    <div id="fileUploadContainer" class="smart-file-upload-container">\n                        <div id="dropZone" class="smart-drop-zone" aria-label="Drag files here"></div>\n                        <div id="selectedFiles" class="smart-selected-files" role="list" aria-label="Selected files"></div>\n                    </div>\n                    <div id="totalFiles" class="smart-total-files smart-hidden" role="presentation">Total flies: 0</div>\n                    <div id="fileUploadFooter" class="smart-file-upload-footer smart-hidden"><smart-button class="smart-upload-all-button success" id="uploadAllButton" animation="[[animation]]" disabled="[[disabled]]" unfocusable="[[unfocusable]]"" theme="[[theme]]" right-to-left="[[rightToLeft]]"></smart-button><smart-button class="smart-cancel-all-button error" id="cancelAllButton" animation="[[animation]]" disabled="[[disabled]]" unfocusable="[[unfocusable]]" theme="[[theme]]" right-to-left="[[rightToLeft]]"></smart-button><smart-button class="smart-pause-all-button primary" id="pauseAllButton" animation="[[animation]]" disabled="[[disabled]]" unfocusable="[[unfocusable]]" theme="[[theme]]" right-to-left="[[rightToLeft]]"></smart-button></div>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,t,n){var r=this;switch(a(i(m.prototype),"propertyChangedHandler",this).call(this,e,t,n),e){case"accept":r.$.browseInput.accept=n;break;case"dropZone":case"appendTo":r._handleContainers();break;case"messages":case"locale":r._updateTextValues();break;case"multiple":r.$.browseButton.disabled=!!(!r.multiple&&r._selectedFiles.length>0||r.disabled),!n&&r._selectedFiles.length>1&&(r._selectedFiles.splice(1),r._renderSelectedFiles());break;case"itemTemplate":r._items.length>0&&(r._renderSelectedFiles(),r._handleComponentsByAvailableHeight());break;case"rightToLeft":r._items&&r._items.forEach((function(e){var t=e.querySelector("smart-progress-bar");t&&(t.rightToLeft=n),n?e.setAttribute("right-to-left",""):e.removeAttribute("right-to-left")})),n?r.$.dropZone.setAttribute("right-to-left",""):r.$.dropZone.removeAttribute("right-to-left")}}},{key:"attached",value:function(){a(i(m.prototype),"attached",this).call(this),this._handleContainers()}},{key:"detached",value:function(){a(i(m.prototype),"detached",this).call(this);var e=this;e.$.fileUploadContainer.contains(e.$.dropZone)||e.$.fileUploadContainer.insertBefore(e.$.dropZone,e.$.fileUploadContainer.firstChild),e.$.fileUploadContainer.contains(e.$.selectedFiles)||e.$.fileUploadContainer.appendChild(e.$.selectedFiles)}},{key:"ready",value:function(){a(i(m.prototype),"ready",this).call(this);var e=this;e.$.dropZone.id||(e.$.dropZone.id=e.id+"DropZone"),e.$.selectedFiles.id||(e.$.selectedFiles.id=e.id+"SelectedFiles"),e.$.fileUploadContainer.setAttribute("aria-owns",e.$.dropZone.id+" "+e.$.selectedFiles.id),e.setAttribute("role","dialog"),e.rightToLeft?e.$.dropZone.setAttribute("right-to-left",""):e.$.dropZone.removeAttribute("right-to-left"),e._setInitialValues(),e._updateTextValues(),e._handleContainers(),e._handleComponentsByAvailableHeight()}},{key:"browse",value:function(){var e=this;e.disabled||!e.multiple&&e._selectedFiles.length>0||e.$.browseInput.click()}},{key:"addFile",value:function(e){var t=this,n=t.multiple,a=t._selectedFiles;a&&(n||!a.length)&&e instanceof File&&("function"!=typeof t.validateFile||t.validateFile(e))&&(a=a.push(e),t._renderSelectedFiles([e]),t.$.browseButton.disabled=!!(!n&&a.length>0||t.disabled),t.$.browseInput.value="")}},{key:"cancelAll",value:function(){var e=this;if(!e.disabled&&0!==e._items.length){for(var t=e._items.length-1;t>=0;t--)e.cancelFile(e._items[t].index);e.$.browseButton.disabled=!!(!e.multiple&&e._selectedFiles.length>0||e.disabled)}}},{key:"cancelFile",value:function(e){var t=this,n=function(){t.$.selectedFiles.removeChild(a),t._selectedFiles.splice(r,1),t._items.splice(r,1),t.$.fireEvent("uploadCanceled",{filename:a.file.name,type:a.file.type,size:a.file.size,index:a.index}),t.$.browseButton.disabled=!!(!t.multiple&&t._selectedFiles.length>0||t.disabled),0===t._selectedFiles.length&&t.$.fileUploadFooter.classList.add("smart-hidden"),t._handleComponentsByAvailableHeight()};if("number"==typeof e&&!t.disabled&&0!==t._selectedFiles.length){var a=t._getFileItem(e,!0);if(a){var r=t._items.indexOf(a),o=t._selectedFiles[r];if(a&&a.xhr&&a.xhr.abort(),t.removeUrl){var i=new FormData,l=new XMLHttpRequest;i.append("userfile[]",o),l.open("POST",t.removeUrl),t.setHeaders&&"function"==typeof t.setHeaders&&t.setHeaders(l,o),l.onload=function(){l.status>=200&&l.status<=299?n():t.$.fireEvent("uploadCanceledError",{filename:a.file.name,type:a.file.type,size:a.file.size,status:l.status,index:a.index})},l.onreadystatechange=function(){t.responseHandler&&"function"==typeof t.responseHandler&&t.responseHandler(l)},l.send(i)}else n()}else t.error(t.localize("wrongItemIndex",{elementType:t.nodeName.toLowerCase()}))}}},{key:"value",get:function(){return this._selectedFiles}},{key:"pauseAll",value:function(){var e=this;if(!e.disabled&&0!==e._items.length)for(var t=e._items.length-1;t>=0;t--){var n=e._items[t];n.xhr&&n.xhr.abort()}}},{key:"pauseFile",value:function(e){var t=this;if(!("number"!=typeof e&&"string"!=typeof e||t.disabled||0===t._items.length)){var n=t._getFileItem(e,!0);n?(n.classList.remove("smart-uploading-start"),n&&n.xhr&&n.xhr.abort(),t.$.fireEvent("uploadPaused",{filename:n.file.name,type:n.file.type,size:n.file.size,index:n.index})):t.error(t.localize("wrongItemIndex",{elementType:t.nodeName.toLowerCase()}))}}},{key:"uploadAll",value:function(){var e=this;if(!e.disabled&&0!==e._items.length)for(var t=e._items.length-1;t>=0;t--)e._items[t].uploading||e.uploadFile(e._items[t].index)}},{key:"uploadFile",value:function(e){var t=this,n=!1;if("number"==typeof e&&!t.disabled&&0!==t._selectedFiles.length){var a=t._getFileItem(e,!0);if(a){var r=new FormData,o=t.showProgress?a.getElementsByTagName("smart-progress-bar")[0]:null,i=a.file;a.classList.remove("smart-pause","smart-error"),a.classList.add("smart-uploading-start"),r.append("userfile[]",i);var l=new XMLHttpRequest;l.open("POST",t.uploadUrl),t.setHeaders&&"function"==typeof t.setHeaders&&t.setHeaders(l,i),t.$.fireEvent("uploadStarted",{filename:a.file.name,type:a.file.type,size:a.file.size,index:a.index}),l.upload.onprogress=function(e){n||(n=!0,a.classList.remove("smart-uploading-start"),a.classList.add("smart-uploading"),a.uploading=!0,a.xhr=l),o&&(o.value=Math.round(e.loaded/e.total*100)),a.classList.remove("smart-pause","smart-error")},l.onabort=function(){a.classList.remove("smart-uploading-start","smart-uploading"),a.classList.add("smart-pause"),a.addEventListener("animationend",(function(){a.classList.remove("smart-pause","smart-error")}))},l.onerror=function(){a.classList.remove("smart-uploading-start","smart-uploading"),a.classList.add("smart-error"),a.addEventListener("animationend",(function(){a.classList.remove("smart-pause","smart-error")}))},l.onload=function(){if(n=!1,a.classList.remove("smart-uploading-start","smart-uploading"),l.status>=200&&l.status<=299){var e=t._items.indexOf(a);t.$.selectedFiles.removeChild(a),t._selectedFiles.splice(t._selectedFiles.indexOf(i),1),t._items.splice(e,1),t.$.browseButton.disabled=!!(!t.multiple&&t._selectedFiles.length>0||t.disabled),t.$.fireEvent("uploadCompleted",{filename:a.file.name,type:a.file.type,size:a.file.size,status:l.status,index:a.index}),0===t._selectedFiles.length&&t.$.fileUploadFooter.classList.add("smart-hidden")}else a.classList.add("smart-error"),a.classList.remove("smart-uploading"),t.$.fireEvent("uploadError",{filename:a.file.name,type:a.file.type,size:a.file.size,status:l.status,index:a.index})},l.onreadystatechange=function(){t.responseHandler&&"function"==typeof t.responseHandler&&t.responseHandler(l)},l.send(r)}}}},{key:"_selectedFilesClickHandler",value:function(e){var t=this;if(!t.disabled){var n=e.target,a=n.closest(".smart-item-upload-button"),r=n.closest(".smart-item-cancel-button"),o=n.closest(".smart-item-pause-button"),i=n.closest(".smart-file");a?t.uploadFile(i.index):r?t.cancelFile(i.index):o&&t.pauseFile(i.index)}}},{key:"_browseInputChangeHandler",value:function(){var e=this,t=e._filterNewFiles(Array.from(e.$.browseInput.files)),n=[];e.disabled||0===t.length||(n=e.validateFile&&"function"==typeof e.validateFile?t.filter((function(t){return!!e.validateFile(t)||(e.$.fireEvent("validationError",{filename:t.name,type:t.type,size:t.size}),!1)})):t,e._selectedFiles=e._selectedFiles.concat(n),0!==e._selectedFiles.length&&(e._renderSelectedFiles(n),e.$.browseButton.disabled=!!(!e.multiple&&e._selectedFiles.length>0||e.disabled),e.$.browseInput.value="",e.autoUpload&&e.uploadAll()))}},{key:"_defaultItemTemplate",value:function(e,t){var n=this,a=n.localize("uploadFile"),r=n.localize("cancelFile"),o=n.localize("pauseFile"),i=n.rightToLeft?"right-to-left ":"";return'<span id="'.concat(n.id+"File"+t+"Name",'" class="smart-item-name">').concat(e,'</span><span class="smart-item-upload-button" title="').concat(a,'" role="button" aria-label="').concat(a,'"></span><span class="smart-item-cancel-button" title="').concat(r,'" role="button" aria-label="').concat(r,'"></span><span class="smart-item-pause-button" title="').concat(o,'" role="button" aria-label="').concat(o,'"></span><smart-progress-bar ').concat(i,'aria-label="Upload progress"></smart-progress-bar>')}},{key:"_dropZoneHandler",value:function(e){var t=this;if(e.preventDefault(),e.stopPropagation(),!t.disabled)if("dragenter"!==e.type&&"dragleave"!==e.type){if("drop"===e.type){if(t.$.dropZone.classList.remove("smart-drag-over"),!t.multiple&&t._selectedFiles.length>0)return;if(e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length){var n=t._filterNewFiles(Array.from(e.dataTransfer.files));if(0===n.length)return;t.multiple||n.splice(1),t._selectedFiles=t._selectedFiles.concat(n),t._renderSelectedFiles(n)}t.$.browseButton.disabled=!!(!t.multiple&&t._selectedFiles.length>0||t.disabled)}}else"dragenter"===e.type?t.$.dropZone.classList.add("smart-drag-over"):t.$.dropZone.classList.remove("smart-drag-over")}},{key:"_filterNewFiles",value:function(e){for(var t=[],n=0;n<e.length;n++){for(var a=!0,r=0;r<this._selectedFiles.length;r++){var o=this._selectedFiles[r],i=e[n];if(i.name===o.name&&i.size===o.size&&i.type===o.type&&i.lastModified===o.lastModified){a=!1;break}}a&&t.push(e[n])}return t}},{key:"_getFileItem",value:function(e,t){var n=this,a=null;if(e&&("string"==typeof e||"number"==typeof e)){if(!n._items||0===n._items.length)return null;for(var r=0;r<n._items.length;r++){var o=n._items[r];(t&&o.index===parseInt(e)||o.file.name===e)&&(a=o)}return a}}},{key:"_handleContainers",value:function(){var e=this,t=e._validateDOMElement(e.dropZone),n=e._validateDOMElement(e.appendTo);t?t.appendChild(e.$.dropZone):e.$.fileUploadContainer.insertBefore(e.$.dropZone,e.$.fileUploadContainer.firstChild),n?n.appendChild(e.$.selectedFiles):e.$.fileUploadContainer.appendChild(e.$.selectedFiles)}},{key:"_handleItemTemplate",value:function(e,t){var n=this,a=n.itemTemplate;if("content"in document.createElement("template")){if(!a)return n._defaultItemTemplate(e,t);if("string"==typeof a&&(a=document.getElementById(a)),null!==a&&"content"in a)return a.innerHTML.replace(/{{\w+}}/g,e);n.error(n.localize("invalidTemplate",{elementType:n.nodeName.toLowerCase(),property:"template"}))}else n.error(n.localize("htmlTemplateNotSuported",{elementType:n.nodeName.toLowerCase()}))}},{key:"_renderSelectedFiles",value:function(e){var t=this,n=document.createDocumentFragment(),a=e||t._selectedFiles;e||(t._items=[],t.$.selectedFiles.innerHTML="");for(var r=0;r<a.length;r++){var o=t.directory?a[r].webkitRelativePath:a[r].name,i=document.createElement("div");t._incrementIndex++,i.className="smart-file",i.index=t._incrementIndex,i.setAttribute("item-id",t._incrementIndex),i.innerHTML=t.itemTemplate?t._handleItemTemplate(o,t._incrementIndex):t._defaultItemTemplate(o,t._incrementIndex),i.file=a[r],i.uploading=!1,i.xhr=null,i.setAttribute("role","listitem"),i.setAttribute("aria-labelledby",t.id+"File"+t._incrementIndex+"Name"),t.rightToLeft&&i.setAttribute("right-to-left",""),n.appendChild(i),t._items.push(i),t.$.fireEvent("fileSelected",{filename:a[r].name,type:a[r].type,size:a[r].size,index:i.index})}t.$.selectedFiles.appendChild(n),t.$.fileUploadFooter.classList.remove("smart-hidden"),t._handleComponentsByAvailableHeight()}},{key:"_setInitialValues",value:function(){var e=this;e.$.browseInput.accept=e.accept,e._selectedFiles=[],e._items=[],e._incrementIndex=0}},{key:"_updateTextValues",value:function(){for(var e=this,t=["browse","uploadAll","cancelAll","pauseAll"],n=0;n<t.length;n++){var a=t[n],r=a+"Button";e.$[r].innerHTML=e.localize(a)}for(var o=0;o<e._selectedFiles.length;o++){var i=e._items[o];i.querySelector(".smart-item-upload-button").title=e.localize("uploadFile"),i.querySelector(".smart-item-cancel-button").title=e.localize("cancelFile"),i.querySelector(".smart-item-pause-button").title=e.localize("pauseFile")}}},{key:"_validateDOMElement",value:function(e){if(e)return"string"==typeof e?document.getElementById(e):e instanceof HTMLElement?e:void 0}},{key:"refresh",value:function(){this._handleComponentsByAvailableHeight()}},{key:"_handleComponentsByAvailableHeight",value:function(){var e=this;if(e._calculateAvailableContainerHeight(),e._elementsAutoHeight>e.offsetHeight){if(e.$.container.classList.add("smart-overflow"),e._containerOverflows=!0,e._rowHeight){for(var t=parseInt(e._availableHeight/e._rowHeight),n=0;n<e._items.length;n++){var a=e._items[n];n<t?a.classList.remove("smart-hidden"):a.classList.add("smart-hidden")}e._items.length>t?(e.$.totalFiles.innerHTML=e.localize("totalFiles")+e._items.length,e.$.totalFiles.classList.remove("smart-hidden")):e.$.totalFiles.classList.add("smart-hidden")}}else""===e.dropZone&&e._elementsAutoHeight<e.offsetHeight&&(e.$.container.classList.remove("smart-overflow"),e._containerOverflows=!1)}},{key:"_calculateAvailableContainerHeight",value:function(){var e=this,t=window.getComputedStyle(e.$.fileUploadContainer,null),n=parseInt(t.getPropertyValue("margin-top"))+parseInt(t.getPropertyValue("margin-bottom"))+parseInt(t.getPropertyValue("padding-top"))+parseInt(t.getPropertyValue("padding-bottom")),a=e.$.container.querySelector(".smart-file"),r=e.$.fileUploadHeader.offsetHeight,o=e.$.fileUploadFooter.offsetHeight,i=e.style.height,l=0;a&&(e._rowHeight=a.offsetHeight),e.style.height="auto",e._containerOverflows&&e.$.container.classList.remove("smart-overflow"),e._elementsAutoHeight=e.offsetHeight,e.style.height=i,e._containerOverflows&&e.$.container.classList.add("smart-overflow"),e.$.totalFiles.classList.contains("smart-hidden")&&(e.$.totalFiles.classList.remove("smart-hidden"),l=e.$.totalFiles.offsetHeight,e.$.totalFiles.classList.add("smart-hidden")),e._availableHeight=e.offsetHeight-(r+o)-n-l}}])&&n(l.prototype,s),u&&n(l,u),m}())},1019:()=>{function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Smart("smart-input",function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(h,Smart.BaseElement);var u,c,d,p,m,f=(p=h,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(p);if(m){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function h(){return a(this,h),f.apply(this,arguments)}return u=h,d=[{key:"properties",get:function(){return{autoCompleteDelay:{value:100,type:"number"},dataSource:{type:"any",value:[],reflectToAttribute:!1},dropDownClassList:{value:[],type:"array",reflectToAttribute:!1},dropDownDataSource:{type:"any",value:[]},dropDownHeight:{type:"any",value:200},dropDownOpenMode:{allowedValues:["default","manual"],value:"default",type:"string"},dropDownWidth:{type:"any",value:null},dropDownButtonPosition:{allowedValues:["none","left","right"],value:"none",type:"string"},hint:{type:"string",value:""},inputPurpose:{type:"string",value:"off"},items:{type:"number",value:8},minLength:{type:"number",value:1},name:{value:"",type:"string"},opened:{value:!1,type:"boolean"},query:{type:"string",value:""},queryMode:{allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string",value:"containsIgnoreCase"},placeholder:{value:"",type:"string"},readonly:{type:"boolean",value:!1},sorted:{value:!1,type:"boolean"},sortDirection:{value:"asc",type:"string"},selectedIndex:{type:"number",value:-1},type:{type:"string"},value:{type:"string",value:""}}}},{key:"styleUrls",get:function(){return["smart.textbox.css"]}},{key:"listeners",get:function(){return{"input.focus":"_focusHandler","input.blur":"_blurHandler","input.keydown":"_keyDownHandler","input.keyup":"_keyUpHandler","input.keypress":"_keyPressHandler","input.paste":"_pasteHandler","dropDownButton.down":"_dropDownButtonDownHandler","inputContainer.down":"_downHandler","document.up":"_documentUpHandler"}}}],(c=[{key:"template",value:function(){return'<div id="inputContainer" role="presentation"><input class="smart-input" id=\'input\' readonly=\'[[readonly]]\' placeholder=\'[[placeholder]]\' type=\'[[type]]\' name=\'[[name]]\' value=\'{{value::keyup}}\' disabled=\'[[disabled]]\' aria-label="[[placeholder]]" /><span class="smart-hidden smart-hint" id="span">[[hint]]</span><div id="dropDownButton" tabindex=-1 class="smart-drop-down-button" role="button" aria-label="Toggle popup"><div id="arrow" class="arrow" aria-hidden="true"></div></div></div>'}},{key:"focus",value:function(){this.$.input.focus()}},{key:"select",value:function(){var e=this;e.readonly?e.$.input.focus():e.$.input.select()}},{key:"_documentUpHandler",value:function(e){var t=this,n=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;n!==t&&n!==t.$.dropDownButton&&n!==t.$.input&&n!==t.$.arrow?t.$.scrollView.contains(n.shadowParent||n)?t._isPointerDown&&(t._isPointerDown=!1,t.opened&&(t._preventLookup=!0),t.$.input.focus()):(t.opened&&(t._preventLookup=!0),"manual"===t.dropDownOpenMode||t._isPointerDown||t.close(),t._isPointerDown=!1):t._isPointerDown=!1}},{key:"_focusHandler",value:function(){var e=this;e.setAttribute("focus",""),e.readonly||0!==e.minLength||0!==e.$.input.value.length||e._preventLookup?(e.$.fireEvent("focus"),delete e._preventLookup):e._lookup()}},{key:"_blurHandler",value:function(){var e=this;e.opened||e.removeAttribute("focus"),e.opened||e.$.fireEvent("blur"),e._refreshSelectedIndex(),delete e._preventLookup}},{key:"_pasteHandler",value:function(e){var t=this,n=(e.clipboardData||window.clipboardData).getData("text");e.preventDefault(),t.set("value",n),t.setAttribute("data-value",n),t._refreshSelectedIndex()}},{key:"_refreshSelectedIndex",value:function(){var e=this,t=e.dataSource;if(t){var n=-1;if(e.dataSource instanceof Promise)return;if("function"==typeof e.dataSource)return;"string"==typeof t&&(t=e.$.deserialize(t,"array"));for(var a=0;a<t.length;a++){var r=t[a];if("number"!=typeof r&&"boolean"!=typeof r||(r=""+r),"string"==typeof r){if(r===e.value){n=a;break}}else if(r&&r.label===e.value){n=a;break}}e.set("selectedIndex",n,!1),-1===e.selectedIndex&&(e.$.input.dataValue=null)}}},{key:"selectItem",value:function(e){var t=this,n=t.dataSource;if("string"==typeof n&&(n=t.$.deserialize(n,"array")),n)for(var a=0;a<n.length;a++){var r=n[a];if(t.set("selectedIndex",-1),t.set("value",""),t.$.input.dataValue=null,"string"==typeof r){if(r===e)return t.set("selectedIndex",a,!1),t.set("value",t.$.input.dataValue=e),void t.setAttribute("data-value",t.$.input.dataValue)}else if(r.value===e)return t.set("selectedIndex",a,!1),t.set("value",r.label),t.$.input.dataValue=e,void t.setAttribute("data-value",t.$.input.dataValue)}else t.set("value",t.$.input.dataValue=e),t.setAttribute("data-value",t.$.input.dataValue),t.set("selectedIndex",-1,!1)}},{key:"getSelectedItem",value:function(){var e=this;return{label:e.value,value:e.$.input.dataValue||e.value}}},{key:"_refreshMenu",value:function(){var e=this;e.$.menu.classList.remove("scroll"),e.$.scrollView.computedVerticalScrollBarVisibility&&e.$.menu.classList.add("scroll")}},{key:"_performSelect",value:function(){var e=this,t=e.$.menu.querySelector(".active"),n=t.getAttribute("data-label"),a=t.dataValue,r=e.value,o=e.$.input.dataValue;e.set("value",n),e.$.input.dataValue=a,e.setAttribute("data-value",e.$.input.dataValue),e.set("selectedIndex",t.index),e.close(),n===r&&a===o||e.$.fireEvent("change",{value:a,label:n,oldValue:o,oldLabel:r})}},{key:"_open",value:function(){var e=this;if(!e.opened){var t=window.scrollX,n=window.scrollY,a=e.getBoundingClientRect(),r=0,o=0;if(e.timer&&clearTimeout(e.timer),e.getRootNode()&&e.getRootNode().host?e.getRootNode().host.shadowRoot.appendChild(e.$.scrollView):document.body.appendChild(e.$.scrollView),e.setAttribute("aria-owns",e.$.scrollView.id),e.readonly||e.$.input.setAttribute("aria-controls",e.$.scrollView.id),e.$.scrollView.enableShadowDOM&&!e._importedStyle&&(e.$.scrollView.importStyle(e._getStyleUrl("smart.textbox.css")),e._importedStyle=!0),"static"!==getComputedStyle(document.body).position){var i=document.body.getBoundingClientRect();r=i.left,o=i.top}e.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",""),e.$.scrollView.style.left=-3+a.left+t-r+"px",e.$.scrollView.style.top=a.bottom+n-o+1+"px",e.$.scrollView.classList.remove("open"),e.opening=!0,e._positionTimer=setInterval((function(){var t=e.getBoundingClientRect();if(e.opening)e.opening=!1,a=t;else if(t.top!==a.top||t.left!==a.left)return void e.close()}),50),e.$.scrollView.onpointerdown=function(){e._isPointerDown=!0},requestAnimationFrame((function(){var t=e.dropDownWidth;if(e.$.scrollView.refresh&&e.$.scrollView.refresh(),e._refreshMenu(),e.$.scrollView.setAttribute("open",""),e.setAttribute("open",""),e.$.dropDownButton.setAttribute("open",""),e.$.input.setAttribute("open",""),t&&"string"==typeof t&&-1!==t.indexOf("%")){var n=parseFloat(t)/100;e.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",e.offsetWidth*n+"px")}else if("auto"!==t&&t)e.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",parseFloat(t)+"px");else if("auto"===t){if(e.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",""),e.$.scrollView.$.scrollViewerContainer.classList.contains("vscroll")){var a=e.$.scrollView.offsetWidth+parseFloat(getComputedStyle(e.$.scrollView).getPropertyValue("--smart-scroll-bar-size"));e.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",a+"px")}}else{e.$.menu.style.width="auto";for(var r=e.$.menu.offsetWidth,o=e.$.menu.querySelectorAll("li"),i=0;i<o.length;i++)e._maxDropDownWidth=Math.max((o[i].firstElementChild||o[i]).offsetWidth,e._maxDropDownWidth);e.$.scrollView.computedVerticalScrollBarVisibility&&(r+=e.$.scrollView.$&&e.$.scrollView.$.verticalScrollBar?e.$.scrollView.$.verticalScrollBar.offsetWidth:30),e.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",Math.max(r,e.offsetWidth-8)+"px"),e.$.menu.style.width=""}(e.shadowRoot||e.isInShadowDOM)&&e.$.scrollView._scrollView&&Smart.ScrollBar&&requestAnimationFrame((function(){e.$.scrollView._scrollView&&e.$.scrollView._scrollView.vScrollBar.refresh()}))})),e.$.scrollView.refresh&&e.$.scrollView.refresh(),e._refreshMenu(),e.set("opened",!0),e.setAttribute("aria-expanded",!0),e.$.fireEvent("open")}}},{key:"close",value:function(){var e=this;return!!e.opened&&(e.timer&&clearTimeout(e.timer),e.timer=setTimeout((function(){e.$.scrollView.parentNode&&!e.opened&&(e.$.scrollView.remove(),e.removeAttribute("aria-owns"),e.readonly||e.$.input.removeAttribute("aria-controls"))}),1e3),e._positionTimer&&clearInterval(e._positionTimer),e.$.scrollView.removeAttribute("open"),e.$.dropDownButton.removeAttribute("open"),e.$.input.removeAttribute("open"),e.removeAttribute("open"),e.set("opened",!1),e.setAttribute("aria-expanded",!1),e.$.input.focus(),e.$.fireEvent("close"),!0)}},{key:"refresh",value:function(){var e=this;e.$.scrollView.refresh&&e.$.scrollView.refresh(),e.close()}},{key:"_lookup",value:function(e){var t=this;if(t.query=t.$.input.value,t.$.input.readonly&&(t._incrementalSearchQuery||(t._incrementalSearchQuery=""),t._incrementalSearchQuery+=e.key,t._incrementalSearchTimer&&clearTimeout(t._incrementalSearchTimer),t.query=t._incrementalSearchQuery,t._incrementalSearchTimer=setTimeout((function(){t._incrementalSearchQuery=""}),700)),t.query.length<t.minLength)t.close();else{var n=function(e){clearTimeout(t._autoCompleteTimeout),t._autoCompleteTimeout=setTimeout((function(){var n=t.context;t.context=t,t._process(e),t.context=n}),t.autoCompleteDelay)};"function"==typeof t.dataSource?t.dataSource(t.query,n):n(t.dataSource)}}},{key:"_downHandler",value:function(e){this.readonly&&this._dropDownButtonDownHandler(e)}},{key:"_dropDownButtonDownHandler",value:function(e){var t=this;return"manual"!==t.dropDownOpenMode&&t._toggle(),e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),t._isPointerDown=!0,!1}},{key:"_toggle",value:function(){var e=this;e.opened?e.close():e.open()}},{key:"open",value:function(){var e=this;function t(t){e._process(t);var n=e.$.menu.querySelector(".active");if(n)for(var a=e.$.input.dataValue,r=0;r<e.$.menu.children.length;r++){var o=e.$.menu.children[r],i=o.getAttribute("data-label"),l=o.dataValue;if(void 0!==a&&l===a||void 0===a&&i===e.$.input.value){n.classList.remove("active"),o.classList.add("active"),e._setActiveDescendant(o),e.$.input.dataValue=l,e.setAttribute("data-value",l);break}}e.ensureVisible(),e.$.input.focus(),setTimeout((function(){e.$.input.focus()}),25)}e.dropDownDataSource&&(Array.isArray(e.dropDownDataSource)&&e.dropDownDataSource.length>0||"function"==typeof e.dropDownDataSource)?(e.query="","function"==typeof e.dropDownDataSource?e.dropDownDataSource(e.query,t):t(e.dropDownDataSource)):(e.query="","function"==typeof e.dataSource?e.dataSource(e.query,t):t(e.dataSource))}},{key:"_process",value:function(e){var t=this;"string"==typeof e&&(e=t.$.deserialize(e,"array")),e=e.filter((function(e){return""===e||(t.matcher?t.matcher(e):t._matcher(e))})),e=t._sorter(e),t.sorted&&(e.sort((function(e,t){return void 0!==e.label?e.label.localeCompare(t.label):e.localeCompare(t)})),"desc"===t.sortDirection&&e.reverse()),!e.length&&t.opened&&t.close(),0!==e.length&&(t.query.length>0?t._render(e.slice(0,t.items)):t._render(e),t._open(),t.$.scrollView.refresh&&t.$.scrollView.refresh(),t._refreshMenu(),t.ensureVisible())}},{key:"_matcher",value:function(e){var t=this.query;switch(null===e&&(e="null"),e=""+(e=e.label||e),this.queryMode){case"startsWith":return e.startsWith(t);case"startsWithIgnoreCase":return e.toLowerCase().startsWith(t.toLowerCase());case"doesNotContain":return e.indexOf(t)<0;case"doesNotContainIgnoreCase":return e.toLowerCase().indexOf(t.toLowerCase())<0;case"contains":return e.indexOf(t)>-1;default:case"containsIgnoreCase":return~e.toLowerCase().indexOf(t.toLowerCase());case"equals":return 0===e.localeCompare(t);case"equalsIgnoreCase":return 0===e.toLowerCase().localeCompare(t.toLowerCase());case"endsWith":return e.endsWith(t);case"endsWithIgnoreCase":return e.toLowerCase().endsWith(t.toLowerCase())}}},{key:"_sorter",value:function(e){var t,n=[],a=[],r=[];if(e&&""===e[0])return e;for(;t=e.shift();){var o=t.label||t;(o=""+o).toLowerCase().indexOf(this.query.toLowerCase())?~o.indexOf(this.query)?a.push(t):r.push(t):n.push(t)}return n.concat(a,r)}},{key:"_highlighter",value:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),(function(e,t){return"<strong>"+t+"</strong>"}))}},{key:"_render",value:function(e){var t=this,a=0,r=e.map((function(e){var r=e,o=e;"object"==n(e)&&(r=e.label,o=void 0!==e.value?e.value:r),r=""+r;var i=document.createElement("li"),l=document.createElement("a");return l.href="#",i.id=t.id+"Item"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),i.setAttribute("data-label",r),i.index=a++,i.dataValue=o,"string"==typeof o?i.setAttribute("value",o):i.setAttribute("value",JSON.stringify(o)),i.setAttribute("role","option"),i.setAttribute("aria-label",r),l.innerHTML=t.highlighter?t.highlighter(r):t._highlighter(r),l.setAttribute("aria-hidden",!0),e.icon&&(l.classList.add("icon"),l.classList.add(e.icon)),i.appendChild(l),i}));function o(){var e=t.$.menu.getElementsByClassName("active");e[0]&&e[0].classList.remove("active"),this.classList.add("active"),t._setActiveDescendant(this)}r.length>0&&(r[0].classList.add("active"),t._setActiveDescendant(r[0])),t.$.menu.innerHTML="";for(var i=0;i<r.length;i++){var l=r[i];t.$.menu.appendChild(l),l.onmouseenter=o,l.onmouseleave=function(){this.classList.remove("active"),t._setActiveDescendant(null)},l.onclick=o}}},{key:"ensureVisible",value:function(){var t=this,n=t.$.menu.querySelector(".active");n&&(n.offsetTop+n.offsetHeight>=t.$.scrollView.scrollTop+t.$.scrollView.offsetHeight&&(t.$.scrollView.scrollTop=n.offsetTop+n.offsetHeight),(n.offsetTop<=t.$.scrollView.scrollTop||n.offsetTop>=t.$.scrollView.scrollTop+t.$.scrollView.offsetHeight)&&(t.$.scrollView.scrollTop=n.offsetTop),0===e(t.$.menu.children).indexOf(n)?t.$.scrollView.scrollTop=0:e(t.$.menu.children).indexOf(n)===t.$.menu.children.length-1&&(t.$.scrollView.scrollTop=t.$.scrollView.scrollHeight))}},{key:"_next",value:function(){var e=this,t=e.$.menu.querySelector(".active");if(!t){var n=e.$.menu.firstElementChild;return n.classList.add("active"),void e._setActiveDescendant(n)}t.classList.remove("active");var a=t.nextElementSibling;a||(a=e.$.menu.firstElementChild),a.classList.add("active"),e._setActiveDescendant(a),e.ensureVisible()}},{key:"_prev",value:function(){var e=this,t=e.$.menu.querySelector(".active");if(!t){var n=e.$.menu.firstElementChild;return n.classList.add("active"),void e._setActiveDescendant(n)}t.classList.remove("active");var a=t.previousElementSibling;a||(a=e.$.menu.lastElementChild),a.classList.add("active"),e._setActiveDescendant(a),e.ensureVisible()}},{key:"_move",value:function(e){var t=this;if(t.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),t._prev();break;case 40:e.preventDefault(),t._next()}e.stopPropagation()}}},{key:"_keyDownHandler",value:function(e){var t=this;t._suppressKeyPressRepeat=![40,38,9,13,27,16,17,18].includes(e.keyCode),t._oldValue=t.$.input.value,e.shiftKey||e.altKey||e.ctrlKey||t._move(e)}},{key:"_keyPressHandler",value:function(e){this._suppressKeyPressRepeat||e.shiftKey||e.altKey||e.ctrlKey||this._move(e)}},{key:"_keyUpHandler",value:function(e){var t=this;if(!e.shiftKey)switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:40===e.keyCode&&e.altKey&&t.open(),38===e.keyCode&&e.altKey&&t.close();break;case 9:case 13:if(!t.opened)return;t._performSelect(),e.stopPropagation(),e.preventDefault();break;case 27:if(!t.opened)return;t.close(),e.stopPropagation(),e.preventDefault();break;default:t._lookup(e),!t.opened||e.ctrlKey||e.shiftKey||(e.stopPropagation(),e.preventDefault()),t.$.fireEvent("changing",{value:t.$.input.value,oldValue:t._oldValue}),t.$.input.dataValue=t.$.input.value,t.setAttribute("data-value",t.$.input.dataValue)}}},{key:"propertyChangedHandler",value:function(e,t,n){o(s(h.prototype),"propertyChangedHandler",this).call(this,e,t,n);var a=this;if("selectedIndex"===e)a._setSelection();else if("dropDownClassList"===e){for(var r=a.$.scrollView,i=0,l=t.length;i<l;i+=1)r.classList.remove(t[i]);for(var u=0,c=n.length;u<c;u+=1)r.classList.add(n[u])}else if("dropDownHeight"===e)"auto"!==a.dropDownHeight?a.$.scrollView.style.setProperty("--smart-input-drop-down-menu-height",a.dropDownHeight+"px"):a.$.scrollView.style.setProperty("--smart-input-drop-down-menu-height","auto");else if("opened"===e)a.opened=t,n?a.open():a.close();else if("placeholder"===e){if(a.readonly){var d=a.getAttribute("aria-label");if(d&&d!==t)return;n?a.setAttribute("aria-label",n):a.removeAttribute("aria-label")}}else"value"===e?(a.displayMember!==a.valueMember&&"string"!=typeof n?(a.set("value",n[a.displayMember]),a.$.input.dataValue=n[a.valueMember],a.setAttribute("data-value",a.$.input.dataValue)):(a.$.input.value=a.$.input.dataValue=n,a.setAttribute("data-value",n)),a._refreshSelectedIndex()):"readonly"===e?(a._setAriaRelations(),a._setInputPurpose()):"theme"===e||"rightToLeft"===e?a.$.scrollView[e]=n:"inputPurpose"===e?a._setInputPurpose():"inverted"===e?n?a.$.scrollView.setAttribute("inverted",""):a.$.scrollView.removeAttribute("inverted"):"disabled"!==e&&"unfocusable"!==e||a._setFocusable()}},{key:"detached",value:function(){o(s(h.prototype),"detached",this).call(this),this.close(),this.removeAttribute("focus")}},{key:"render",value:function(){var e=this,t=e.dropDownClassList;e._createElement&&e._createElement();for(var n=e.$.scrollView,a=0,r=t.length;a<r;a+=1)n.classList.add(t[a]);e.opened&&(e.opened=!1,e.open());var i=e.$.menu;i&&(i.setAttribute("role","presentation"),n.appendChild(i)),"auto"!==e.dropDownHeight?n.style.setProperty("--smart-input-drop-down-menu-height",e.dropDownHeight+"px"):n.style.setProperty("--smart-input-drop-down-menu-height","auto"),n.classList.add("smart-input-drop-down-menu"),n.id=e.id+"_"+e.tagName.toLowerCase()+"_menu_"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),n.ownerElement=e,e._setAriaRelations(),e._setInputPurpose(),e._setSelection(),e.isInitialized=!0,o(s(h.prototype),"render",this).call(this)}},{key:"_setSelection",value:function(){var e=this,t=e.dataSource;if("string"==typeof t&&(t=e.$.deserialize(t,"array")),e.selectedIndex>=0&&t&&t.length>0){var n=t[e.selectedIndex];if("number"!=typeof n&&"boolean"!=typeof n||(n=""+n),"string"==typeof n){var a=e.$.input.dataValue,r=e.value;e.set("value",n),e.$.input.dataValue=n,e.$.input.setAttribute("data-value",n),e.isInitialized&&e.$.fireEvent("change",{value:e.value,label:e.label,oldValue:a,oldLabel:r})}else{var o=e.$.input.dataValue,i=e.value;n.value&&(e.set("value",void 0!==n.value?n.value+"":""),e.$.input.dataValue=n.value,e.$.input.setAttribute("data-value",n.value)),n.label&&e.set("value",n.label),e.isInitialized&&e.$.fireEvent("change",{value:e.$.input.dataValue,label:n.value,oldValue:o,oldLabel:i})}}}},{key:"_createElement",value:function(){var e=this,t=document.createElement("ul"),n=document.createElement("smart-scroll-viewer");n.rightToLeft=e.rightToLeft,n.theme=e.theme,n.horizontalScrollBarVisibility="hidden",e.inverted?n.setAttribute("inverted",""):n.removeAttribute("inverted"),e.$.scrollView=n,e.$.menu=t,e._setFocusable(),e.$.menu.onclick=function(t){t.stopPropagation(),t.preventDefault(),e._performSelect(),e.$.input.focus()}}},{key:"_setAriaRelations",value:function(){var e=this,t=e.getAttribute("aria-label");e.readonly?(e.setAttribute("role","button"),!t&&e.placeholder&&e.setAttribute("aria-label",e.placeholder),e.removeAttribute("aria-readonly"),e.$.input.setAttribute("aria-hidden",!0),e.$.input.removeAttribute("aria-activedescendant"),e.$.input.removeAttribute("aria-controls"),e.$.dropDownButton.setAttribute("aria-hidden",!0)):(e.setAttribute("role","combobox"),t&&t===e.placeholder&&e.removeAttribute("aria-label"),e.$.input.setAttribute("role","searchbox"),e.$.input.removeAttribute("aria-hidden",!0),e.$.dropDownButton.removeAttribute("aria-hidden")),e.setAttribute("aria-expanded",e.opened),e.setAttribute("aria-haspopup","listbox"),e.$.scrollView.setAttribute("role","listbox")}},{key:"_setActiveDescendant",value:function(e){var t=this;t.readonly||(e?t.setAttribute("aria-activedescendant",e.id):t.removeAttribute("aria-activedescendant"))}},{key:"_setInputPurpose",value:function(){var e=this;e.readonly?e.$.input.removeAttribute("autocomplete"):e.$.input.setAttribute("autocomplete",e.inputPurpose)}},{key:"_setFocusable",value:function(){var e=this;e.disabled||e.unfocusable?e.$.input.setAttribute("tabindex",-1):e.$.input.removeAttribute("tabindex")}}])&&r(u.prototype,c),d&&r(u,d),h}())},4570:()=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Smart("smart-number-input",function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(f,Smart.Input);var n,u,c,d,p,m=(d=f,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(d);if(p){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function f(){return a(this,f),m.apply(this,arguments)}return n=f,c=[{key:"properties",get:function(){return{numberFormat:{value:{},type:"any"},min:{value:-9999999999,type:"number"},max:{value:9999999999,type:"number"},step:{value:1,type:"number"},value:{value:0,type:"any"}}}}],(u=[{key:"template",value:function(){return'<div id="inputContainer" role="presentation"><input class="smart-input" id=\'input\' readonly=\'[[readonly]]\' placeholder=\'[[placeholder]]\' type=\'[[type]]\' name=\'[[name]]\' disabled=\'[[disabled]]\' aria-label="[[placeholder]]" /><span class="smart-hidden smart-hint" id="span">[[hint]]</span><div id="dropDownButton" tabindex=-1 class="nav smart-drop-down-button" role="button" aria-label="Toggle popup"></div></div>'}},{key:"getFormattedValue",value:function(e,t){return null===t?parseFloat(e):new Intl.NumberFormat(this.locale,t).format(""+e)}},{key:"setValue",value:function(e){this.value=e}},{key:"getValue",value:function(){return this.value}},{key:"render",value:function(){var e=this;o(s(f.prototype),"render",this).call(this),e.context=e,e.classList.add("smart-input");var n=e.$.input,a=document.createElement("div"),r=document.createElement("div");n.value=e.getFormattedValue(Math.min(Math.max(e.min,e.value),e.max),e.numberFormat),a.tabIndex=r.tabIndex=-1,n.classList.add("smart-input"),a.classList.add("up"),r.classList.add("down");var i=function(a){if("keydown"!==a.type);else{var r=n.value.toString(),o=1.1;o=o.toLocaleString(e.locale).substring(1,2);var i=r.indexOf(o);if(a.keyCode>=65&&a.keyCode<=90){if(a.ctrlKey)return;return a.stopPropagation(),void a.preventDefault()}if(" "===a.key)return a.stopPropagation(),void a.preventDefault();if("-"===a.key){var s=l();return u(-s),a.stopPropagation(),void a.preventDefault()}switch(a.key){case"'":case'"':case"/":case"\\":case"`":case"=":case"(":case")":return a.stopPropagation(),void a.preventDefault()}if(","===a.key&&","!==o||"."===a.key&&"."!==o)return a.stopPropagation(),void a.preventDefault();var c=t(r),d=c[n.selectionStart];if((d===o||void 0===d||-1===i)&&a.keyCode>=48&&a.keyCode<=57&&"0"===c[n.selectionStart-1]){var p=e.getFormattedValue(l(),e.numberFormat),m=n.selectionStart-1;(i>=0||-1===i&&0===l())&&n.value.length===p.length&&(n.value=p.substring(0,n.selectionStart-1)+p.substring(n.selectionStart),n.selectionStart=n.selectionEnd=m)}if(a.key===o){if(-1===e.getFormattedValue(l(),e.numberFormat).indexOf(o))return a.stopPropagation(),void a.preventDefault();if(i>=0)return a.stopPropagation(),a.preventDefault(),void(n.selectionStart=n.selectionEnd=i+1)}else if(a.keyCode>=48&&a.keyCode<=57&&n.selectionStart<i&&n.selectionEnd-n.selectionStart<=1){if(isNaN(parseInt(d)))for(var f=n.selectionStart;f<c.length;f++){var h=parseInt(c[f]);if(!isNaN(h)){n.selectionStart=n.selectionEnd=f;break}}}else{if(i>=0&&n.selectionStart>i&&a.keyCode>=48&&a.keyCode<=57){var v=n.selectionStart,g=e.getFormattedValue(l(),e.numberFormat),y=0;if(g&&-1!==g.indexOf(o))for(var b=g.indexOf(o);b<g.length;b++)!isNaN(parseInt(g.substring(b,b+1)))&&y++;var w=n.value.toString();return(w=w.substring(0,n.selectionStart)+a.key.toString()+w.substring(n.selectionStart+1)).substring(i+1,i+1+y).length<=y&&n.selectionStart<=i+y&&(n.value=w,n.selectionStart=n.selectionEnd=v+1),a.stopPropagation(),void a.preventDefault()}if("Backspace"===a.key||"Delete"===a.key){var _=n.selectionStart,k=i>=0&&n.selectionStart>i,C=e.getFormattedValue(l(),e.numberFormat),D=0;if(C&&-1!==C.indexOf(o))for(var x=C.indexOf(o);x<C.length;x++)!isNaN(parseInt(C.substring(x,x+1)))&&D++;var E=n.value.toString(),S=!1;if("Delete"===a.key&&n.selectionStart<=i+D){var A=(E=E.substring(0,n.selectionStart)+"0"+E.substring(n.selectionStart+1)).substring(i+1,i+1+D);-1===E.indexOf(o)&&i>=0?(n.selectionStart=n.selectionEnd=_+1,S=!0):k&&A.length<=D&&(n.value=E,n.selectionStart=n.selectionEnd=_+1,S=!0)}else if("Backspace"===a.key){var T=(E=E.substring(0,n.selectionStart-1)+"0"+E.substring(n.selectionStart)).substring(i+1,i+1+D);-1===E.indexOf(o)&&i>=0?(n.selectionStart=n.selectionEnd=_-1,S=!0):k&&T.length<=D&&(n.value=E,n.selectionStart=n.selectionEnd=_-1,S=!0)}return void(S&&(a.stopPropagation(),a.preventDefault()))}}}};e.$.dropDownButton.appendChild(a),e.$.dropDownButton.appendChild(r),e.dropDownButtonPosition="right";var l=function(){var a=n.value,r=1.1;r=r.toLocaleString(e.locale).substring(1,2);var o=!1;a.indexOf("(")>=0&&(o=!0,a=a.replace("(","").replace(")",""));for(var i=t(a),l="",s=0;s<i.length;s++){var u=i[s];switch(u===r&&(l+=u),u){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":l+=u}}a=l=l.replace(r,".");var c=parseFloat(a);return e.numberFormat&&e.numberFormat.style&&"percent"===e.numberFormat.style&&(c/=100),o&&(c=-c),isNaN(c)||c===1/0||c===-1/0?0:(c=Math.min(Math.max(e.min,c),e.max),e._number=c,c)};e.getValue=l;var u=function t(a){var r=parseFloat(a);if("-"===a)return t(-l()),n.selectionStart=n.selectionEnd=1,void(n.selectionEnd=n.value.length);if(!isNaN(r)){if(e.numberFormat){var o=parseFloat(a),i=e.getFormattedValue(o,e.numberFormat),s=isNaN(parseFloat(i.substring(0,1)))?1:0,u=a>0?0:1;n.value=i,n.selectionStart=n.selectionEnd=1+s+u,e._number=o}else n.value=r,e._number=r;"number"==typeof a&&(n.selectionStart=0,n.selectionEnd=n.value.length),e.set("value",""+e._number,!1)}};e.setValue=u,this._attach=function(){n.addEventListener("keydown",i),a.onkeydown=i,r.onkeydown=i;var t=function(t){return e.numberFormat?e.getFormattedValue(t,e.numberFormat):t},o=function(e){e.interval&&clearInterval(e.interval),e.timer&&clearTimeout(e.timer),e.interval=e.timer=null,e.removeAttribute("active")},s=function(t){t.onmouseleave=t.onmouseup=function(){o(t)},t.onpointerdown=function(){e._captured=!0,t.timer=setTimeout((function(){t.interval=setInterval((function(){t.click(),t.setAttribute("active","")}),50)}),100)}};a.onclick=function(){var r=l();e._captured||o(a),isNaN(r)||(r<e.max||""===e.max)&&(n.value=t(Math.min(e.max,r+e.step)))},r.onclick=function(){var a=l();e._captured||o(r),isNaN(a)||(a>e.min||""===e.min)&&(n.value=t(Math.max(e.min,a-e.step)))},s(a),s(r)},e._detach=function(){n.removeEventListener("keydown",i),a.onclick=r.onclick=null,a.onkeydown=r.onkeydown=null},e.setValue(e.getValue(),e.numberFormat),e.context=document}},{key:"_blurHandler",value:function(){var e=this;o(s(f.prototype),"_blurHandler",this).call(this),e.setValue(e.getValue(),e.numberFormat)}},{key:"attached",value:function(){this._attach()}},{key:"detached",value:function(){this._detach()}},{key:"_documentUpHandler",value:function(e){this._captured=!1,o(s(f.prototype),"_documentUpHandler",this).call(this,e)}},{key:"propertyChangedHandler",value:function(e,t,n){var a=this;o(s(f.prototype),"propertyChangedHandler",this).call(this,e,t,n),"locale"===e&&a.setValue(a._number||a.getValue(),a.numberFormat),"value"!==e&&"numberFormat"!==e&&"max"!==e&&"min"!==e||a.setValue(a.getValue(),a.numberFormat)}}])&&r(n.prototype,u),c&&r(n,c),f}())},6447:()=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,n,a,r,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function n(e){return function(){var n=this,a=arguments;return new Promise((function(r,o){var i=e.apply(n,a);function l(e){t(i,r,o,l,s,"next",e)}function s(e){t(i,r,o,l,s,"throw",e)}l(void 0)}))}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d(e);if(t){var r=d(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return c(this,n)}}function c(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Smart("smart-base-progress-bar",function(e){l(n,Smart.BaseElement);var t=u(n);function n(){return a(this,n),t.apply(this,arguments)}return o(n,[{key:"render",value:function(){var e=this;e.$.label.id||(e.$.label.id=e.id+"Label"),e.setAttribute("role","progressbar"),e.setAttribute("aria-labelledby",e.$.label.id),e.setAttribute("aria-valuemin",e.min),e.setAttribute("aria-valuemax",e.max),null===e.value||e.indeterminate||(e.$.value.style.transition="none"),e._updateProgress(),requestAnimationFrame((function(){return e.$.value.style.transition=""})),i(d(n.prototype),"render",this).call(this)}},{key:"propertyChangedHandler",value:function(e,t,a){i(d(n.prototype),"propertyChangedHandler",this).call(this,e,t,a);var r=this;r._updateProgress(),"value"===e?r.$.fireEvent("change",{value:a,oldValue:t,changeType:"api"}):"min"!==e&&"max"!==e||r.setAttribute("aria-value"+e,a)}},{key:"_updateProgress",value:function(){var e=this,t=e.value;null===t||e.indeterminate?e.removeAttribute("aria-valuenow"):e.setAttribute("aria-valuenow",t)}},{key:"_percentageValue",get:function(){var e=this,t=Math.max(e.min,e.max),n=Math.min(e.min,e.max);return(Math.min(t,Math.max(n,e.value))-n)/(t-n)}}],[{key:"properties",get:function(){return{indeterminate:{value:!1,type:"boolean"},inverted:{value:!1,type:"boolean"},formatFunction:{value:null,type:"function"},max:{value:100,type:"number"},min:{value:0,type:"number"},showProgressValue:{value:!1,type:"boolean"},value:{value:0,type:"number?"}}}},{key:"styleUrls",get:function(){return["smart.progressbar.css"]}}]),n}()),Smart("smart-circular-progress-bar",function(e){l(s,Smart.BaseProgressBar);var t,r=u(s);function s(){return a(this,s),r.apply(this,arguments)}return o(s,[{key:"template",value:function(){return'<div id="container" role="presentation">\n                    <svg width="100%" height="100%" viewPort="0 0 100 100" viewBox="0 0 100 100" role="presentation" aria-hidden="true">\n                        <circle id="value" class="smart-value-path" r="50" cx="50" cy="50" transform="rotate(270 50 50)"></circle>\n                        <circle id="value" class="smart-value" r="50" cx="50" cy="50" transform="rotate(270 50 50)"></circle>\n                    </svg>\n                    <div class="smart-label-container" role="presentation">\n                        <content></content>\n                        <span id="label" class="smart-label"></span>\n                    </div>\n                </div>'}},{key:"render",value:function(){var e=this;e.$.container.style.width=e.$.container.style.height=Math.min(e.offsetWidth,e.offsetHeight)+"px",e.$.hasClass("echo-animation")&&(e.value=e.max,e._updateProgress()),i(d(s.prototype),"render",this).call(this)}},{key:"_resizeHandler",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=this;e.$.container.style.width=e.$.container.style.height=Math.min(e.offsetWidth,e.offsetHeight)+"px"}},{key:"_updateProgress",value:(t=n(regeneratorRuntime.mark((function e(){var t,n,a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(d(s.prototype),"_updateProgress",this).call(this),n=(t=this).indeterminate?100*Math.PI:100*Math.PI-t._percentageValue*Math.PI*100,a=!!document.documentMode,r=!a&&!!window.StyleMedia,!t.showProgressValue){e.next=12;break}if(o=parseInt(100*t._percentageValue),t.$.label.innerHTML=o+"%",e.t0=t.formatFunction,!e.t0){e.next=10;break}return e.next=9,t.formatFunction(o);case 9:t.$.label.innerHTML=e.sent;case 10:e.next=13;break;case 12:t.$.label.innerHTML="";case 13:if(!a&&!r){e.next=15;break}return e.abrupt("return",null===t.value||t.indeterminate?(t.$.value.style.strokeDashoffset="",void t.$.value.setAttribute("class","smart-value smart-value-animation-ms")):(t.$.value.setAttribute("class","smart-value"),void(t.$.value.style.strokeDashoffset=t.inverted&&!t.rightToLeft||!t.inverted&&t.rightToLeft?-n:n)));case 15:t.$.value.style.strokeDashoffset=t.inverted&&!t.rightToLeft||!t.inverted&&t.rightToLeft?-n:n,null===t.value||t.indeterminate?t.$value.addClass("smart-value-animation"):t.$value.removeClass("smart-value-animation");case 16:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"listeners",get:function(){return{resize:"_resizeHandler"}}}]),s}()),Smart("smart-progress-bar",function(e){l(s,Smart.BaseProgressBar);var t,r=u(s);function s(){return a(this,s),r.apply(this,arguments)}return o(s,[{key:"template",value:function(){return'<div role="presentation">\n                    <div id="value" class="smart-value"></div>\n                    <div id="label" class="smart-label"></div>\n                </div>'}},{key:"_updateProgress",value:(t=n(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(d(s.prototype),"_updateProgress",this).call(this),!(t=this).showProgressValue){e.next=12;break}if(n=parseInt(100*t._percentageValue),t.$.label.innerHTML=n+"%",e.t0=t.formatFunction,!e.t0){e.next=10;break}return e.next=9,t.formatFunction(n);case 9:t.$.label.innerHTML=e.sent;case 10:e.next=13;break;case 12:t.$.label.innerHTML="";case 13:null===t.value||t.indeterminate?t.$value.addClass("smart-value-animation"):t.$value.removeClass("smart-value-animation"),t.$.value.style.transform="horizontal"===t.orientation?"scaleX("+t._percentageValue+")":"scaleY("+t._percentageValue+")";case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"properties",get:function(){return{orientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"}}}}]),s}())},4535:()=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Smart("smart-scroll-bar",function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(m,Smart.BaseElement);var l,s,u,c,d,p=(c=m,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=i(c);if(d){var n=i(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return o(this,e)});function m(){return t(this,m),p.apply(this,arguments)}return l=m,u=[{key:"properties",get:function(){return{clickRepeatDelay:{type:"integer",value:50},largeStep:{type:"integer",value:100},min:{type:"integer",value:0},max:{type:"integer",value:1e3},mechanicalAction:{value:"switchWhileDragging",allowedValues:["switchUntilReleased","switchWhenReleased","switchWhileDragging"],type:"string"},orientation:{type:"string",value:"horizontal",allowedValues:["horizontal","vertical"]},step:{type:"integer",value:10},showButtons:{type:"boolean",value:!0,defaultReflectToAttribute:!0},value:{type:"integer",value:0}}}},{key:"styleUrls",get:function(){return["smart.scrollbar.css"]}},{key:"listeners",get:function(){return{"nearButton.click":"_nearButtonClickHandler","nearButton.down":"_startRepeat","nearButton.up":"_stopRepeat","nearButton.pointerenter":"_updateInBoundsFlag","nearButton.pointerleave":"_updateInBoundsFlag","farButton.click":"_farButtonClickHandler","farButton.down":"_startRepeat","farButton.up":"_stopRepeat","farButton.pointerenter":"_updateInBoundsFlag","farButton.pointerleave":"_updateInBoundsFlag","track.down":"_trackDownHandler","track.click":"_trackClickHandler","track.move":"_trackMoveHandler","thumb.down":"_dragStartHandler","document.move":"_dragHandler","document.up":"_dragEndHandler",up:"_dragEndHandler","document.selectstart":"_selectStartHandler",resize:"_resizeHandler"}}}],(s=[{key:"template",value:function(){return'<div id="container" class="smart-container" role="presentation">\n                    <div id="nearButton" class="smart-scroll-button smart-arrow-left" role="presentation" aria-hidden="true"></div>\n                    <div  id="track" class="smart-track" role="presentation">\n                        <div id="thumb" class="smart-thumb" role="presentation"></div>\n                    </div>\n                    <div id="farButton" class="smart-scroll-button smart-arrow-right" role="presentation" aria-hidden="true"></div>\n            </div>'}},{key:"_updateInBoundsFlag",value:function(e){var t=e.target;t._isPointerInBounds=!0,-1!==e.type.indexOf("leave")&&(t._isPointerInBounds=!1),1!==("buttons"in e?e.buttons:e.which)&&this._stopRepeat(e)}},{key:"_startRepeat",value:function(e){var t=this;if(!t.disabled){var n=e.target;n._initialTimer||(n._initialTimer=setTimeout((function(){n._repeatTimer=setInterval((function(){if(n._isPointerInBounds){var t="buttons"in e?e.buttons:e.which;n.$.fireEvent("click",{buttons:t,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}}),t.clickRepeatDelay)}),3*t.clickRepeatDelay))}}},{key:"_stopRepeat",value:function(e){if(!this.disabled){var t=e.target;t._repeatTimer&&(clearInterval(t._repeatTimer),t._repeatTimer=null),t._initialTimer&&(clearTimeout(t._initialTimer),t._initialTimer=null)}}},{key:"_calculateThumbSize",value:function(e){var t=this,n=t.max-t.min,a="horizontal"===t.orientation?t.$.track.offsetWidth>10:t.$.track.offsetHeight>10,r=0;return n>=1&&a?(r=e/(n+e)*e,t.$.thumb.className.indexOf("smart-hidden")>=0&&t.$thumb.removeClass("smart-hidden")):t.$thumb.addClass("smart-hidden"),Math.max(10,Math.min(r,e))}},{key:"_dragStartHandler",value:function(e){var t=this;t.disabled||(t.thumbCapture=!0,t.dragStartX=e.clientX,t.dragStartY=e.clientY,t.dragStartValue=t.value,e.stopPropagation(),e.preventDefault())}},{key:"_dragHandler",value:function(e){var t=this;if(!0===t.thumbCapture){t._isThumbDragged=!0;var n=(t.max-t.min)/(t.scrollBarSize-t.thumbSize),a="horizontal"===t.orientation?(e.clientX-t.dragStartX)*n:(e.clientY-t.dragStartY)*n,r=a;t.rightToLeft&&"horizontal"===t.orientation&&(r=-a),t._updateValue(t.dragStartValue+r),e.stopPropagation(),e.preventDefault(),e.originalEvent&&(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault())}}},{key:"_dragEndHandler",value:function(e){var t=this;t._trackDownTimer&&(clearInterval(t._trackDownTimer),t._trackDownTimer=null),t.thumbCapture&&(t.thumbCapture=!1,t._isThumbDragged=!1,"switchWhenReleased"===t.mechanicalAction?t._updateValue(t.dragStartValue,t.value):"switchUntilReleased"===this.mechanicalAction&&t._updateValue(t.dragStartValue),e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation())}},{key:"_farButtonClickHandler",value:function(){var e=this;if(!e.disabled){var t=e.value;e._updateValue(e.value+("horizontal"===e.orientation&&e.rightToLeft?-1:1)*e.step),"switchUntilReleased"===e.mechanicalAction&&e._updateValue(t)}}},{key:"_nearButtonClickHandler",value:function(){var e=this;if(!e.disabled){var t=e.value;e._updateValue(e.value-("horizontal"===e.orientation&&e.rightToLeft?-1:1)*e.step),"switchUntilReleased"===e.mechanicalAction&&e._updateValue(t)}}},{key:"propertyChangedHandler",value:function(e,t,n){a(i(m.prototype),"propertyChangedHandler",this).call(this,e,t,n);var r=this;switch(e){case"min":case"max":case"orientation":case"showButtons":r._layout(),"min"===e?r.setAttribute("aria-valuemin",n):"max"===e?r.setAttribute("aria-valuemax",n):"orientation"===e&&r.setAttribute("aria-orientation",n);break;case"value":r._updateValue(t,n);break;default:r._layout()}}},{key:"render",value:function(){var e=this;e.setAttribute("role","scrollbar"),e.setAttribute("aria-orientation",e.orientation),e.setAttribute("aria-valuemin",e.min),e.setAttribute("aria-valuemax",e.max),e.setAttribute("aria-valuenow",e.value),e._layout(),a(i(m.prototype),"render",this).call(this)}},{key:"_resizeHandler",value:function(){this._layout()}},{key:"refresh",value:function(){this._layout()}},{key:"beginUpdate",value:function(){this._isUpdating=!0}},{key:"endUpdate",value:function(){this._isUpdating=!1,this.refreshValue()}},{key:"refreshValue",value:function(){var e=this;e._layout(),e._updateValue(e.value)}},{key:"_layout",value:function(){var e=this;e._isUpdating||(e.scrollBarSize="horizontal"===e.orientation?e.$.track.offsetWidth:e.$.track.offsetHeight,e.thumbSize=e._calculateThumbSize(e.scrollBarSize),"horizontal"===e.orientation&&e.$.thumb.style.width!==e.thumbSize+"px"?e.$.thumb.style.width=e.thumbSize+"px":"vertical"===e.orientation&&e.$.thumb.style.height!==e.thumbSize+"px"&&(e.$.thumb.style.height=e.thumbSize+"px"),"horizontal"===e.orientation?(e.$.nearButton.classList.contains("smart-arrow-up")&&e.$.nearButton.classList.remove("smart-arrow-up"),e.$.farButton.classList.contains("smart-arrow-down")&&e.$.farButton.classList.remove("smart-arrow-down"),e.$.nearButton.classList.contains("smart-arrow-left")||e.$.nearButton.classList.add("smart-arrow-left"),e.$.farButton.classList.contains("smart-arrow-right")||e.$.farButton.classList.add("smart-arrow-right")):(e.$.nearButton.classList.contains("smart-arrow-left")&&e.$.nearButton.classList.remove("smart-arrow-left"),e.$.farButton.classList.contains("smart-arrow-right")&&e.$.farButton.classList.remove("smart-arrow-right"),e.$.nearButton.classList.contains("smart-arrow-up")||e.$.nearButton.classList.add("smart-arrow-up"),e.$.farButton.classList.contains("smart-arrow-down")||e.$.farButton.classList.add("smart-arrow-down")),e._updateThumbPosition(),(e.value>e.max||e.value<e.min)&&e._updateValue(e.value,e.value>e.max?e.max:e.min))}},{key:"_selectStartHandler",value:function(e){this.thumbCapture&&e.preventDefault()}},{key:"_trackDownHandler",value:function(e){var t=this;e.target===t.$.track&&(t._trackDownTimer&&clearInterval(t._trackDownTimer),t.thumbCapture||(t._trackDownTimer=setInterval((function(){t._trackClickHandler(e)}),t.clickRepeatDelay),e.stopPropagation(),e.preventDefault()))}},{key:"_trackClickHandler",value:function(e){var t=this;if(!t.disabled){if(t._isThumbDragged)return clearInterval(t._trackDownTimer),void(t._trackDownTimer=null);var n=t.$.thumb.getBoundingClientRect(),a=e.pageX-window.pageXOffset,r=e.pageY-window.pageYOffset,o=(t.rightToLeft?-1:1)*t.value;"horizontal"===t.orientation?a>(t._isThumbDragged?t.dragStartX:n.right)?t._updateValue(t.value+(t.rightToLeft?-1:1)*t.largeStep):a<(t._isThumbDragged?t.dragStartX:n.left)&&t._updateValue(t.value-(t.rightToLeft?-1:1)*t.largeStep):r>(t._isThumbDragged?t.dragStartY:n.bottom)?t._updateValue(t.value+t.largeStep):r<(t._isThumbDragged?t.dragStartY:n.top)&&t._updateValue(t.value-t.largeStep),"switchUntilReleased"===t.mechanicalAction&&t._updateValue(o)}}},{key:"_trackMoveHandler",value:function(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}},{key:"_updateValue",value:function(e,t){var n=this;if(!n._isUpdating&&(1===arguments.length&&(t=e,e=n.value),(void 0===t||isNaN(t))&&(t=n.min),t>n.max&&(t=n.max),t<n.min&&(t=n.min),n.value=t,e!==t)){if(n.setAttribute("aria-valuenow",t),n._updateThumbPosition(),n.thumbCapture&&"switchWhenReleased"===n.mechanicalAction)return;if(n.onChange)return void n.onChange({value:n.value,oldValue:e,min:n.min,max:n.max,context:n});n.$.fireEvent("change",{value:n.value,oldValue:e,min:n.min,max:n.max})}}},{key:"_updateThumbPosition",value:function(){var e=this,t="horizontal"===e.orientation?e.$.track.offsetWidth:e.$.track.offsetHeight,n=e._calculateThumbSize(t),a=t-n,r=(t-n)/(e.max-e.min)*(e.value-e.min);e.rightToLeft&&"horizontal"===e.orientation&&(r=(t-n)/(e.max-e.min)*(e.max-e.value-e.min)),r=Math.min(a,Math.max(0,r)),"vertical"===e.orientation&&e.$.thumb.style.top!==r+"px"?e.$.thumb.style.top=r+"px":"horizontal"===e.orientation&&e.$.thumb.style.left!==r+"px"&&(e.$.thumb.style.left=r+"px")}}])&&n(l.prototype,s),u&&n(l,u),m}())},4470:()=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Smart("smart-tooltip",function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(m,Smart.ContentElement);var l,s,u,c,d,p=(c=m,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=i(c);if(d){var n=i(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return o(this,e)});function m(){return t(this,m),p.apply(this,arguments)}return l=m,u=[{key:"properties",get:function(){return{arrow:{value:!1,type:"boolean"},arrowDirection:{allowedValues:["bottom","top","left","right"],value:"bottom",type:"string"},align:{allowedValues:["left","center","right"],value:"center",type:"string"},delay:{value:0,type:"number"},messages:{extend:!0,value:{en:{invalidSelector:'{{elementType}}: "{{property}}" must be a String, an HTMLElement or null.',htmlTemplateNotSuported:"{{elementType}}: Browser doesn't support HTMLTemplate elements.",invalidTemplate:'{{elementType}}: "{{property}}" property accepts a string that must match the id of an HTMLTemplate element from the DOM.',invalidNode:'{{elementType}}: Invalid parameter "{{node}}" when calling {{method}}.'}},type:"object"},iframeRect:{value:null,type:"object?"},offset:{value:[],type:"array"},openMode:{allowedValues:["click","focus","hover","manual"],value:"hover",type:"string"},position:{allowedValues:["bottom","top","left","right","absolute","auto"],value:"top",type:"string"},selector:{value:null,type:"any?"},tooltipTemplate:{value:null,type:"any"},value:{value:"",type:"string",reflectToAttribute:!1},visible:{value:!1,type:"boolean"}}}},{key:"styleUrls",get:function(){return["smart.tooltip.css"]}}],(s=[{key:"template",value:function(){return'<div id="container" role="presentation">\n                    <div id="content" class="smart-tooltip-content" inner-h-t-m-l="[[innerHTML]]" role="presentation">\n                        <content></content>\n                    </div>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,t,n){a(i(m.prototype),"propertyChangedHandler",this).call(this,e,t,n);var r,o=this;switch(e){case"openMode":o.close(),o._handleEventListeners(t),o._handleResize();break;case"selector":o._oldOwnerElement=o._ownerElement,o._handleSelector(n),o._handleEventListeners();break;case"tooltipTemplate":o._handleTemplate(t);break;case"value":o.tooltipTemplate?o._handleTemplate():o.$.content.innerHTML=o.value;break;case"visible":r=n?"open":"close",o.$.fireEvent(r,{owner:o._ownerElement},o.isInShadowDOM?{composed:!0,bubbles:!0,cancelable:!0}:void 0);break;case"position":return void o._applyPosition(t)}o._applyPosition()}},{key:"ready",value:function(){var e=this;a(i(m.prototype),"ready",this).call(this),e.getAttribute("role")||e.setAttribute("role","tooltip"),e._isParentPositionStatic="static"===window.getComputedStyle(e.parentElement||document.querySelector("body")).position,e._handleSelector(e.selector),e.visible&&e._applyPosition(),e._handleEventListeners(),e._handleResize(),e.value=e.$.content.innerHTML=e.value?e.value:e.innerHTML,e._handleTemplate()}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted){var n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e?(t.$.content.appendChild(e),t._applyPosition()):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}},{key:"close",value:function(){var e=this;if(e._isOpening&&clearTimeout(e._isOpening),e.visible){var t=e.isInShadowDOM?{composed:!0,bubbles:!0,cancelable:!0}:void 0;e.$.fireEvent("closing",{owner:e._ownerElement},t).defaultPrevented||(e.$.fireEvent("close",{owner:e._ownerElement},t),e.visible=!1)}}},{key:"clear",value:function(){var e=this.$.content;if(e)for(;e.childNodes.length;)e.removeChild(e.firstChild)}},{key:"insertBefore",value:function(e,t){var n=this;if(!n.isCompleted){var a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(n,a.concat(Array.prototype.slice.call(arguments)))}e&&t?(n.$.content.insertBefore(e,t),n._applyPosition()):n.error(n.localize("invalidNode",{elementType:n.nodeName.toLowerCase(),method:"insertBefore",node:"newNode/referenceNode"}))}},{key:"open",value:function(){var e=this;e.disabled||e.readonly||e.visible||(e._isOpening=setTimeout((function(){var t=e.isInShadowDOM?{composed:!0,bubbles:!0,cancelable:!0}:void 0;if(e.$.fireEvent("opening",{owner:e._ownerElement},t).defaultPrevented)clearTimeout(e._isOpening);else{e._applyPosition(),e.$.fireEvent("open",{owner:e._ownerElement},t);var n=e.context;e.context=e,e.visible=!0,e.context=n}}),e.delay))}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted){var n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e?(t.$.content.removeChild(e),t._applyPosition()):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}},{key:"reposition",value:function(){this.isRendered&&this._applyPosition()}},{key:"toggle",value:function(){var e=this;e.visible?e.close():e.open()}},{key:"_getDomElementPosition",value:function(e){for(var t=[],n=e.parentElement;n&&"BODY"!==n.nodeName;)t.push(n),n=!this.enableShadowDOM||n.parentElement?n.parentElement:n.getRootNode().host;return t}},{key:"_getElementAndOwnerRelation",value:function(e){for(var t=this._getDomElementPosition(e||this),n=t.length,a=null,r=0;r<n;r++)if("static"!==window.getComputedStyle(t[r]).getPropertyValue("position")){a=t[r];break}return a}},{key:"_applyPosition",value:function(e){var t=this;if(t._ownerElement&&t.parentElement){t._isParentPositionStatic="static"===window.getComputedStyle(t.parentElement).position;var n,a,r=t._ownerElement.getBoundingClientRect(),o=t.parentElement?t.parentElement.getBoundingClientRect():{top:0,left:0};t.parentElement&&"BODY"===t.parentElement.nodeName.toUpperCase()?(n=r.top+window.scrollY,a=r.left+window.scrollX):(n=r.top-o.top,a=r.left-o.left);var i,l=t.position,s=t.iframeRect,u={top:r.top,left:r.left,right:r.right,width:r.width,height:r.height,nonStaticParent:t._getElementAndOwnerRelation()};switch(s&&(u.top+=s.top,u.left+=s.left,u.right+=s.right),l){case"auto":case"bottom":case"top":case"left":case"right":t.style.left="";var c=t["_position"+l.charAt(0).toUpperCase()+l.slice(1)](a,n,u);n=c.top,a=c.left,i=c.translate;break;case"absolute":e?(t.style.top=t.style.left="",n=a=0):(n=parseFloat(t.style.top),a=parseFloat(t.style.left))}var d=t.getAttribute("arrow-direction");i?t.$.container.style.setProperty("--smart-tooltip-arrow-translate",i+"px"):t.$.container.style.removeProperty("--smart-tooltip-arrow-translate"),void 0===n||isNaN(n)||(n+=("auto"===l&&"top"===d?-1:1)*parseInt(t.offset[1])||0,t.style.top=n+"px"),void 0===a||isNaN(a)||(a+=("auto"===l&&"left"===d?-1:1)*parseInt(t.offset[0])||0,t.style.left=a+"px")}}},{key:"_positionAuto",value:function(e,t,n){for(var a,r,o=this,i=o.parentElement;i;){if("hidden"===getComputedStyle(i).getPropertyValue("overflow")){a=i;break}i=i.parentElement}if(a)r=a.getBoundingClientRect();else{var l,s,u=document.scrollingElement;document.scrollingElement?(l=u.offsetWidth,s=u.offsetHeight):(l=window.innerWidth,s=window.innerHeight),a=document.body,r={width:l,height:s,left:0,top:0,right:l,bottom:s}}var c=parseFloat(window.getComputedStyle(o).getPropertyValue("--smart-tooltip-arrow-width"))||0,d=o._positionTop(e,t,n),p=n.nonStaticParent,m=o.offsetWidth/2-c,f=0,h=0,v=d.left,g=r.right-(v+h+o.offsetWidth),y=Math.min(0,g);if(v<=0&&g>0&&(v=Math.min(e,v+g)),y<=0&&(y=Math.sign(y)*(Math.abs(y)+r.right-(e+n.width))),p){var b=p.getBoundingClientRect();f=b.top,h=b.left}return d.top+f>=r.top?(v<=0&&(v=e),t=d.top,{left:e=Math.max(r.left-h,v+y),top:t,translate:Math.max(-m,Math.min(m,d.left-e))}):(d=o._positionBottom(e,t,n)).top+o.offsetHeight+f<=r.bottom?((v=d.left)<=0&&(v=e),t=d.top,{left:e=Math.max(r.left-h,v+y),top:t,translate:Math.max(-m,Math.min(m,d.left-e))}):(t=(d=o._positionLeft(e,t,n)).top,m=o.offsetHeight/2-c,t=Math.max(r.top-f,d.top+Math.min(0,r.bottom-(d.top+f+o.offsetHeight))),{left:e=d.left+h>=r.left||(d=o._positionRight(e,t,n)).left+o.offsetWidth+h<=r.right?d.left:r.right-o.offsetWidth,top:t,translate:Math.max(-m,Math.min(m,d.top-t))})}},{key:"_getRelativeParentOffset",value:function(e){var t=this,n=t._ownerElement,a=t._getElementAndOwnerRelation(n),r=0,o=0;if(!e)return{left:o,top:r};for(;e!==a;)r+=a.offsetTop,o+=a.offsetLeft,a=t._getElementAndOwnerRelation(a);return{left:o,top:r}}},{key:"_positionTop",value:function(e,t,n){var a=this,r=a._getRelativeParentOffset(n.nonStaticParent);if(a.set("arrowDirection","bottom"),null===n.nonStaticParent)return t=n.top+window.scrollY-a.offsetHeight,{left:(e=a._getAlignmentOffset(n.left,a.offsetWidth,n.width)+window.scrollX)+r.left,top:t+r.top};if(a._isParentPositionStatic){if(t=a._ownerElement.offsetTop-a.offsetHeight,e=a._getAlignmentOffset(a._ownerElement.offsetLeft,a.offsetWidth,n.width),a._ownerElement instanceof SVGElement){var o=a._ownerElement.getBoundingClientRect(),i=a._ownerElement.parentNode.getBoundingClientRect();t=o.top-i.top-a.offsetHeight/2,e=a._getAlignmentOffset(o.left,a.offsetWidth,i.left)}return{left:e+r.left,top:t+r.top}}if(a._ownerElement instanceof SVGElement&&a._ownerElement.parentElement){var l=a._ownerElement.getBoundingClientRect(),s=a._ownerElement.parentNode.getBoundingClientRect();return t=l.top-s.top-a.offsetHeight,{left:(e=a._getAlignmentOffset(l.left-s.left,a.offsetWidth,l.width))+r.left,top:t+r.top}}return t-=a.offsetHeight,{left:(e=a._getAlignmentOffset(e,a.offsetWidth,n.width))+r.left,top:t+r.top}}},{key:"_positionBottom",value:function(e,t,n){var a=this,r=a._getRelativeParentOffset(n.nonStaticParent);return a.set("arrowDirection","top"),null===n.nonStaticParent?(t=n.top+window.scrollY+n.height,{left:(e=a._getAlignmentOffset(n.left,a.offsetWidth,n.width)+window.scrollX)+r.left,top:t+r.top}):a._isParentPositionStatic?(t=a._ownerElement.offsetTop+n.height,{left:(e=a._getAlignmentOffset(a._ownerElement.offsetLeft,a.offsetWidth,n.width))+r.left,top:t+r.top}):(t+=n.height,{left:(e=a._getAlignmentOffset(e,a.offsetWidth,n.width))+r.left,top:t+r.top})}},{key:"_getAlignmentOffset",value:function(e,t,n){switch(this.align){case"left":return e;case"right":return e+t;default:return e-t/2+n/2}}},{key:"_positionLeft",value:function(e,t,n){var a=this,r=a._getRelativeParentOffset(n.nonStaticParent);return a.set("arrowDirection","right"),null===n.nonStaticParent?(t=n.top+window.scrollY+n.height/2-a.$.content.offsetHeight/2,{left:(e=n.left+window.scrollX-a.offsetWidth)+r.left,top:t+r.top}):a._isParentPositionStatic?(t=a._ownerElement.offsetTop+n.height/2-a.$.content.offsetHeight/2,{left:(e=a._ownerElement.offsetLeft-a.offsetWidth)+r.left,top:t+r.top}):(t=t+n.height/2-a.$.content.offsetHeight/2,{left:(e-=a.offsetWidth)+r.left,top:t+r.top})}},{key:"_positionRight",value:function(e,t,n){var a=this,r=a._getRelativeParentOffset(n.nonStaticParent);return a.set("arrowDirection","left"),null===n.nonStaticParent?(t=n.top+window.scrollY+n.height/2-a.$.content.offsetHeight/2,{left:(e=n.left+window.scrollX+n.width)+r.left,top:t+r.top}):a._isParentPositionStatic?(t=a._ownerElement.offsetTop+n.height/2-a.$.content.offsetHeight/2,{left:(e=a._ownerElement.offsetLeft+n.width)+r.left,top:t+r.top}):(t=t+n.height/2-a.$.content.offsetHeight/2,{left:(e+=n.width)+r.left,top:t+r.top})}},{key:"_eventsHandler",value:function(e){var t=this;t.disabled||t.readonly||("click"!==e.type?"mouseenter"===e.type||"focus"===e.type?this.open():this.close():t.visible?this.close():this.open())}},{key:"_handleEventListeners",value:function(e){var t=this;if(t._oldOwnerElement&&"manual"!==t.openMode){var n=t._oldOwnerElement.getAttribute("aria-describedby");n&&"tooltip"===t.getAttribute("role")&&(n===t.id?t._oldOwnerElement.removeAttribute("aria-describedby"):(n=(n=n.replace(" "+t.id,"")).replace(t.id+" ",""),t._oldOwnerElement.setAttribute("aria-describedby",n))),t._oldOwnerElement.$.unlisten("mouseenter.tooltip"),t._oldOwnerElement.$.unlisten("mouseleave.tooltip"),t._oldOwnerElement.$.unlisten("focus.tooltip"),t._oldOwnerElement.$.unlisten("blur.tooltip"),t._oldOwnerElement.$.unlisten("click.tooltip"),t._oldOwnerElement=null}if(t._ownerElement){if(e)switch(e){case"hover":t._ownerElement.$.unlisten("mouseenter.tooltip"),t._ownerElement.$.unlisten("mouseleave.tooltip");break;case"focus":t._ownerElement.$.unlisten("focus.tooltip"),t._ownerElement.$.unlisten("blur.tooltip");break;case"click":t._ownerElement.$.unlisten("click.tooltip")}if("manual"!==t.openMode)switch(t._ownerElement instanceof Smart.BaseElement||(t._ownerElement.$=Smart.Utilities.Extend(t._ownerElement)),t.openMode){case"hover":t._ownerElement.$.listen("mouseenter.tooltip",t._eventsHandler.bind(t)),t._ownerElement.$.listen("mouseleave.tooltip",t._eventsHandler.bind(t));break;case"focus":t._ownerElement.$.listen("focus.tooltip",t._eventsHandler.bind(t)),t._ownerElement.$.listen("blur.tooltip",t._eventsHandler.bind(t));break;case"click":t._ownerElement.$.listen("click.tooltip",t._eventsHandler.bind(t))}}}},{key:"_handleResize",value:function(){var e=this;function t(){e._applyPosition()}"click"===e.openMode?window.addEventListener("resize",t):window.removeEventListener("resize",t)}},{key:"_handleSelector",value:function(e){var t=this;if("string"==typeof e)t._ownerElement=e.length>0?document.getElementById(e):void 0;else if(e&&e.nodeType===Node.ELEMENT_NODE)t._ownerElement=e;else{if(null===e)return void(t._ownerElement=void 0);t.error(t.localize("invalidSelector",{elementType:t.nodeName.toLowerCase(),property:"selector"}))}if(t._ownerElement&&"tooltip"===t.getAttribute("role")){var n=t._ownerElement?t._ownerElement.getAttribute("aria-describedby"):null;n?n.indexOf(t.id)<0&&t._ownerElement.setAttribute("aria-describedby",n+" "+t.id):t._ownerElement.setAttribute("aria-describedby",t.id)}}},{key:"_handleTemplate",value:function(e){var t=this,n=t.tooltipTemplate;if(e&&(t.$.content.innerHTML=t.value?t.value:""),null!==n&&n)if("function"!=typeof t.tooltipTemplate)if("content"in document.createElement("template"))if(null!==(n=document.getElementById(n))&&"content"in n){for(var a,r=n.content,o=r.childNodes.length,i=/{{\w+}}/g,l=[],s=0;s<o;s++)for(a=i.exec(r.childNodes[s].innerHTML);a;)l.push({childNodeIndex:s,bindingString:a[0]}),a=i.exec(r.childNodes[s].innerHTML);for(var u,c,d=l.length,p=document.importNode(n.content,!0),m=0;m<d;m++){u=p.childNodes[l[m].childNodeIndex],c=l.length;for(var f=0;f<c;f++)u.innerHTML=u.innerHTML.replace(l[m].bindingString,t.value)}t.$.content.innerHTML="";for(var h=0;h<p.childNodes.length;h++)p.childNodes[h].outerHTML&&(t.$.content.innerHTML+=p.childNodes[h].outerHTML)}else t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"template"}));else t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()}));else t.tooltipTemplate(t.$.content,{value:t.value})}}])&&n(l.prototype,s),u&&n(l,u),m}())},762:()=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s(this,n)}}function s(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Smart("smart-window",function(n){o(s,Smart.ContentElement);var i=l(s);function s(){return t(this,s),i.apply(this,arguments)}return a(s,[{key:"hasStyleObserver",get:function(){return!1}},{key:"template",value:function(){return'<div role="presentation">\n                    <div class="smart-content-container" id="container">\n                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">\n                            <div id="header" class="smart-header" role="presentation">[[label]]</div>\n                            <div id="buttonsContainer" class="smart-buttons-container" role="presentation">\n                                <button id="pinButton" class="smart-button smart-element smart-pin-button" aria-label="Pin"></button>\n                                <button id="collapseButton" class="smart-button smart-element smart-collapse-button" aria-label="Collapse"></button>\n                                <button id="minimizeButton" class="smart-button smart-element smart-minimize-button"aria-label="Minimize"></button>\n                                <button id="maximizeButton" class="smart-button smart-element smart-maximize-button" aria-label="Maximize"></button>\n                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>\n                            </div>\n                        </div>\n                        <div class="smart-content" inner-h-t-m-l="[[innerHTML]]"><content></content></div>\n                        <div id="footer" class="smart-footer"></div>\n                    </div>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,t,n){var a=this;switch(e){case"collapsed":n?a.collapse(!0):a.expand(!0);break;case"disabled":case"unfocusable":a._setFocusable();break;case"headerTemplate":case"footerTemplate":a._applyLayoutTemplate(a.$[e.split(/[T]/)[0]],n);break;case"headerButtons":a._setHeaderButtons();break;case"headerPosition":var o=a.minimized;a._preventEventFiring=!0,a.restore(),delete a._preventEventFiring,o&&a.minimize();break;case"label":a.$.header.innerHTML=a.label;break;case"maximized":n?a.maximize(!0):a.restore(e);break;case"modal":a._setModal(),a.setAttribute("aria-modal",n);break;case"minimized":n?a.minimize(!0):a.restore(e);break;case"opened":n?a.open(!0):a.close(!0);break;case"resizeMode":a.$.container.classList.remove("smart-window-resizing-bottom-right","smart-window-resizing-top-right","smart-window-resizing-top-left","smart-window-resizing-bottom-left","smart-window-resizing-top","smart-window-resizing-bottom","smart-window-resizing-left","smart-window-resizing-right");break;case"windowParent":a._setElementParent(n);break;default:r(u(s.prototype),"propertyChangedHandler",this).call(this,e,t,n)}}},{key:"ready",value:function(){r(u(s.prototype),"ready",this).call(this),this._windowParent={initialParent:this.parentElement}}},{key:"render",value:function(){var e=this,t=e.animation;e.$.header.id||(e.$.header.id=e.id+"Header"),e.$.content.id||(e.$.content.id=e.id+"Content"),e.opened||(e.animation="none"),e._windowParent={initialParent:e.parentElement},e.$.addClass("smart-window"),e._createElement(),e._setElementParent(e.windowParent),e._setHeaderButtons(),e.headerTemplate&&e._applyLayoutTemplate(e.$.header,e.headerTemplate),e.footerTemplate&&e._applyLayoutTemplate(e.$.footer,e.footerTemplate),e.opened?e.open():e.close(),e.maximized&&e.maximize(!0),e.minimized&&e.minimize(!0),e.collapsed&&e.collapse(!0),e.pinned?e.pin():e.unpin(),e._setFocusable(),e.animation=t,e.setAttribute("aria-modal",e.modal),e.setAttribute("aria-labelledby",e.$.header.id),r(u(s.prototype),"render",this).call(this)}},{key:"refresh",value:function(){var e=this;e.headerTemplate&&e._applyLayoutTemplate(e.$.header,e.headerTemplate),e.footerTemplate&&e._applyLayoutTemplate(e.$.footer,e.footerTemplate),e.opened?e.open():e.close(),e.maximized&&e.maximize(!0),e.minimized&&e.minimize(!0),e.collapsed&&e.collapse(!0),e.pinned?e.pin():e.unpin()}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)e.removeAttribute("tabindex");else{var t=e.tabIndex>0?e.tabIndex:0;e.setAttribute("tabindex",t)}}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){var n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e?t.$.content.appendChild(e):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}},{key:"collapse",value:function(e){var t=this;!e&&t.collapsed||(t.collapsed=!0,t.$.fireEvent("collapse"),"left"===t.headerPosition||"right"===t.headerPosition?t.style.width="":t.style.height="")}},{key:"close",value:function(e){var t=this;if(e||!t.$.hasClass("smart-visibility-hidden")){if(t.isCompleted){if(t.$.fireEvent("closing").defaultPrevented)return;t.$.addClass("smart-visibility-hidden"),t.opened=!1,t.isRendered&&t.$.fireEvent("close")}else t.$.addClass("smart-visibility-hidden"),t.opened=!1;t._setModal(),t.removeAttribute("ontop")}}},{key:"attached",value:function(){r(u(s.prototype),"attached",this).call(this);var e=this;e.isRendered,e._windowParent.parent&&e._windowParent.parent!==e.getShadowRootOrBody()&&e._windowParent.parent.querySelectorAll("smart-window, smart-dialog-window, smart-progress-window, smart-wait-window, smart-alert-window, smart-prompt-window, smart-multiline-prompt-window")&&"static"===window.getComputedStyle(e._windowParent.parent).getPropertyValue("position")&&(e._windowParent.parent.style.position="relative"),e.opened&&e._modal&&e.parentElement.insertBefore(e._modal,e)}},{key:"bringToFront",value:function(){var e=this;if(e.parentElement){var t=e.parentElement.closest(".smart-window");if(t)t.bringToFront();else{for(var n=document.body.getElementsByClassName("smart-window"),a=[],r=0;r<n.length;r++){var o=n[r];o.removeAttribute("ontop"),o.opened&&a.push(o)}1===a.length&&a[0]===e||e.setAttribute("ontop","")}}}},{key:"clear",value:function(){var e=this;e.isCompleted&&"Smart-WINDOW"===e.nodeName&&(e.innerHTML=e.$.content.innerHTML="")}},{key:"detached",value:function(){r(u(s.prototype),"detached",this).call(this);var e=this;e._windowParent.parent&&!e._windowParent.parent.querySelectorAll("smart-window, smart-dialog-window, smart-progress-window, smart-wait-window, smart-alert-window, smart-prompt-window, smart-multiline-prompt-window")&&(e._windowParent.parent.style.position=""),e._modal&&e._modal.parentElement&&e._modal.parentElement.removeChild(e._modal),e._resizeDummy&&e._resizeDummy.parentElement&&e._handleWindowResizeDummy(),e._refreshMinimizedWindowsPosition()}},{key:"expand",value:function(e){var t=this;(e||t.collapsed)&&(t.collapsed=!1,t.$.fireEvent("expand"),t.maximized?"left"===t.headerPosition||"right"===t.headerPosition?t.style.width=Math.max(t._windowParent.scrollElement.scrollWidth,t._windowParent.element.clientWidth)-t._windowParent.borderWidth+"px":t.style.height=Math.max(t._windowParent.scrollElement.scrollHeight,t._windowParent.element.clientHeight)-t._windowParent.borderWidth+"px":"left"===t.headerPosition||"right"===t.headerPosition?t.style.width=t.className.indexOf("smart-window-snapped-")<0&&t._dragDetails?t._dragDetails.width+"px":"":t.style.height=t.className.indexOf("smart-window-snapped-")<0&&t._dragDetails?t._dragDetails.height+"px":"")}},{key:"maximize",value:function(e){var t=this;if(e||!t.maximized){t.minimized&&t._restoreFromMinimization(e),t._setDragDetails("minimize"),"none"!==t.resizeMode&&t.$.container.classList.remove("smart-window-resizing-bottom-right","smart-window-resizing-top-right","smart-window-resizing-top-left","smart-window-resizing-bottom-left","smart-window-resizing-top","smart-window-resizing-bottom","smart-window-resizing-left","smart-window-resizing-right"),t._snapDummy&&t.$.hasClass("smart-window-snapped-"+t._snapDummy._position)&&t.classList.remove("smart-window-snapped-"+t._snapDummy._position),t.maximized=!0,t.$.fireEvent("maximize"),t.style.left=t.style.top=0,t.style.maxWidth=t.style.maxHeight="none";var n=t._windowParent.scrollElement.scrollHeight,a=t._windowParent.scrollElement.scrollWidth,r=t._windowParent.element.clientHeight,o=t._windowParent.element.clientWidth,i=Math.max(n,r),l=Math.max(a,o);"top"===t.headerPosition||"bottom"===t.headerPosition?(t.style.width=a>o?l-t._windowParent.borderWidth+"px":"100%",t.collapsed||(t.style.height=n>r?i-t._windowParent.borderWidth+"px":"100%")):(t.collapsed||(t.style.width=a>o?l-t._windowParent.borderWidth+"px":"100%"),t.style.height=n>r?i-t._windowParent.borderWidth+"px":"100%"),"100%"!==t.style.height&&t.addEventListener("transitionend",(function e(){if(t.maximized&&t.hasAnimation){var n=t._windowParent.scrollElement.scrollHeight,a=t._windowParent.element.clientHeight,r=Math.max(n,a);("top"===t.headerPosition||"bottom"===t.headerPosition)&&t.collapsed||(t.style.height=n>a?r-t._windowParent.borderWidth+"px":"100%"),t.removeEventListener("transitionend",e)}}))}}},{key:"minimize",value:function(e){var t=this;if(e||!t.minimized){t.maximized&&(t._preventEventFiring=!0,t.restore(),delete t._preventEventFiring),t._setDragDetails(),t.minimized=!0,t.$.fireEvent("minimize"),t._snapDummy&&t.$.hasClass("smart-window-snapped-"+t._snapDummy._position)&&(t.$.removeClass("smart-window-snapped-"+t._snapDummy._position),t.style.right=t.style.top=t.style.left="");var n=t._getAllMinimizedWindows(t._windowParent.element);if(n.length>0){var a=n[n.length-1];t.style.left=(a.offsetLeft+a.offsetWidth+t._dragDetails.minWidth+10>t._windowParent.element.clientWidth?a.offsetLeft:a.offsetLeft+a.offsetWidth+5)+"px",t.style.top=a.offsetTop+"px"}else t.style.left="5px",t.style.top=t._windowParent.element.clientHeight+t._windowParent.scrollElement.scrollTop-t.$.headerSection.offsetHeight-5+"px";t.style.width="",t.style.height=t.$.headerSection.offsetHeight+"px"}}},{key:"_createElement",value:function(){this.setAttribute("role","dialog")}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted){var n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e?t.$.content.removeChild(e):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}},{key:"restore",value:function(e){var t=this;if("maximized"===e||t.maximized?(t.maximized=!1,t.style.width=t.style.height=t.style.top=t.style.left=""):("minimized"===e||t.minimized)&&t._restoreFromMinimization(e),t._preventEventFiring||t.$.fireEvent("restore"),t.style.maxWidth=t.style.maxHeight="",t._dragDetails){if(t.style.left=Math.max(0,Math.min(t._dragDetails.windowX,t._windowParent.element.clientWidth-t._dragDetails.width))+"px",t.style.top=Math.max(0,Math.min(t._dragDetails.windowY,t._windowParent.scrollElement.scrollHeight-t._dragDetails.height))+"px",t.collapsed)return void("top"===t.headerPosition||"bottom"===t.headerPosition?t.style.width=t._dragDetails.width+"px":t.style.height=t._dragDetails.height+"px");t._dragDetails.resized&&(t.style.width=t._dragDetails.width+"px",t.style.height=t._dragDetails.height+"px")}}},{key:"open",value:function(e){var t=this;if(e||t.$.hasClass("smart-visibility-hidden")){if(t.isCompleted){if(t.$.fireEvent("opening").defaultPrevented)return;t.$.removeClass("smart-visibility-hidden"),t.opened=!0,t.$.fireEvent("open")}else t.$.removeClass("smart-visibility-hidden"),t.opened=!0;t.bringToFront(),t._setModal(),t._handleActiveState(),t.hasAnimation?t.addEventListener("transitionend",n):n()}function n(e){if(!t.hasAnimation||e&&e.target===t){if(t.removeEventListener("transitionend",n),t._onOpenCallback)return void t._onOpenCallback();t.focus()}}}},{key:"pin",value:function(){this.pinned=!0}},{key:"unpin",value:function(){this.pinned=!1}},{key:"_applyLayoutTemplate",value:function(e,t){var n=this;if(!t)return e.innerHTML="",void(e===n.$.header&&n.label&&(e.innerHTML=n.label));"content"in document.createElement("template")?(t instanceof HTMLTemplateElement||(t=document.getElementById(t)),null!==t&&"content"in t?(e.innerHTML="",e.appendChild(document.importNode(t.content,!0))):n.error(n.localize("invalidTemplate",{elementType:n.nodeName.toLowerCase(),property:e===n.$.footer?"footerTemplate":"headerTemplate"}))):n.error(n.localize("htmlTemplateNotSuported",{elementType:n.nodeName.toLowerCase()}))}},{key:"_cancelDragging",value:function(e){var t=this;if(t._dragDetails&&t._dragDetails.started&&"drag"===t._dragDetails.type){if(!e){var n=t.getBoundingClientRect();e={pageX:n.left,pageY:n.top}}t.$.fireEvent("dragEnd",{left:e.pageX,top:e.pageY}),t.removeAttribute("dragged"),t._dragDetails.started=!1,delete t._mouseManipulation}}},{key:"_documentFocusInEventHandler",value:function(e){var t=this;t._changingFocus&&(t.contains(e.target)||t.contains(e.composedPath()[0])||t.focus(),delete t._changingFocus)}},{key:"_downHandler",value:function(e){var t=this,n=Smart.Utilities.Core.isMobile?document.elementFromPoint(e.pageX-window.pageXOffset,e.pageY-window.pageYOffset):e.originalEvent.target;if((t.shadowRoot||t.isInShadowDOM)&&(n=e.originalEvent.composedPath()[0]),e.stopPropagation(),!t.disabled&&(Smart.Utilities.Core.isMobile||1===e.which)){if(t._tabsWindow&&(t._tabsWindow._isAutoHideWindowClicked=!0),t.hasAttribute("ontop")||t.bringToFront(),n.closest&&n.closest(".smart-buttons-container")===t.$.buttonsContainer){if(t._buttonPressed=n.closest(".smart-button"),t._buttonPressed)return}else if(n.getRootNode()&&n.getRootNode().host&&(t._buttonPressed=n.getRootNode().host,t._buttonPressed.closest(".smart-buttons-container")===t.$.buttonsContainer))return;t._isWindowContentClicked=n.closest(".smart-content");var a=t.closest("smart-docking-layout");if(t.isInShadowDOM&&!a)for(var r=t.getRootNode().host;r&&!(a=r.closest("smart-docking-layout"))&&r.getRootNode();)r=r.getRootNode().host;if(!(t instanceof Smart.TabsWindow&&a&&a.disabled)){if(t._handleActiveState(),!(t instanceof Smart.TabsWindow&&a))return n.closest(".smart-header-section")===t.$.headerSection&&(void 0===t._dblClickDetails&&(t._dblClickDetails={clicks:0}),clearTimeout(t._dblClickDetails.timeOut),t._dblClickDetails.clicks++,t._dblClickDetails.timeOut=setTimeout((function(){t._dblClickDetails&&(t._dblClickDetails.clicks=0)}),300),2===t._dblClickDetails.clicks)?(t._headerDblCickHandler(e),void(t._dblClickDetails.clicks=0)):void(t.maximized||(Smart.Utilities.Core.isMobile&&t._moveHandler(e),!t.pinned&&!t.minimized&&t.$.container.className.indexOf("smart-window-resizing")<0&&(n=n.closest(".smart-header-section"),n&&n===t.$.headerSection&&(t._mouseManipulation=!0,t._setDragDetails("drag",e))),"none"!==t.resizeMode&&t.$.container.className.indexOf("smart-window-resizing")>-1&&(t._mouseManipulation=!0,t._setDragDetails("resize",e))));t.$.hasClass("smart-docking-layout-auto-hide-window")&&(Smart.Utilities.Core.isMobile&&t._moveHandler(e),"none"!==t.resizeMode&&t.$.container.className.indexOf("smart-window-resizing")>-1&&(t._mouseManipulation=!0,t._setDragDetails("resize",e)))}}}},{key:"_documentMoveHandler",value:function(e){var t=this;!t._dragDetails||!t._dragDetails.started||t.minimized||!t._mouseManipulation||Math.abs(e.pageX-t._dragDetails.x)<=5&&Math.abs(e.pageY-t._dragDetails.y)<=5||(t.hasAttribute("dragged")||t.hasAttribute("resized")||t.$.fireEvent(t._dragDetails.type+"Start",{left:e.pageX,top:e.pageY,width:t.offsetWidth,height:t.offsetHeight}),e.stopPropagation(),"drag"!==t._dragDetails.type||t.pinned?(t._dragDetails.resized=!0,t._resize(t._dragDetails.side,e),t._dragDetails.x=Math.max(t._windowParent.offsetLeft+t._dragDetails.left,Math.min(t._windowParent.offsetLeft+t._dragDetails.left+(t._dragDetails.side.toLowerCase().indexOf("left")>-1?0:t._dragDetails.newWidth),e.pageX)),t._dragDetails.y=Math.max(t._windowParent.offsetTop+t._dragDetails.top,Math.min(t._windowParent.offsetTop+t._dragDetails.top+(t._dragDetails.side.toLowerCase().indexOf("top")>-1?0:t._dragDetails.newHeight),e.pageY))):(t.setAttribute("dragged",""),t._snapDummy&&t.$.hasClass("smart-window-snapped-"+t._snapDummy._position)&&(t.$.removeClass("smart-window-snapped-"+t._snapDummy._position),t.style.right=t.style.top=t.style.left="",t.collapsed||(t.style.height=t._dragDetails.height+"px",t.style.width=t._dragDetails.width+"px")),t._drag(e,"both"),t._dragDetails.x=Math.max(t._windowParent.offsetLeft+t._dragDetails.offsetX-t._windowParent.scrollElement.scrollLeft,Math.min(t._windowParent.offsetLeft+t._windowParent.element.offsetWidth-(t._windowParent.element.offsetWidth-t.offsetLeft)+t._dragDetails.offsetX,e.pageX)),t._dragDetails.y=Math.max(t._windowParent.offsetTop+t._dragDetails.offsetY-t._windowParent.scrollElement.scrollTop,Math.min(t._windowParent.offsetTop+t._windowParent.element.offsetHeight-(t._windowParent.element.offsetHeight-t.offsetTop)+t._dragDetails.offsetY,e.pageY)),e.pageX>=t._windowParent.offsetLeft+t._windowParent.scrollElement.scrollWidth-1?t._handleSnapping("right"):e.pageY<=t._windowParent.offsetTop?t._handleSnapping("top"):e.pageX<=t._windowParent.offsetLeft?t._handleSnapping("left"):t._handleSnapping()))}},{key:"_documentUpHandler",value:function(e){var t=this,n=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(t.disabled)return t.removeAttribute("active"),delete t._buttonPressed,void delete t._isWindowContentClicked;if(t._dragDetails&&t._dragDetails.started&&(t.hasAttribute("resized")&&(t.$.fireEvent(t._dragDetails.type+"End",{left:e.pageX,top:e.pageY,width:t._dragDetails.newWidth,height:t._dragDetails.newHeight}),t.removeAttribute("resized"),t._handleWindowResizeDummy(),t.$.container.classList.remove("smart-window-resizing-bottom-right","smart-window-resizing-top-right","smart-window-resizing-top-left","smart-window-resizing-bottom-left","smart-window-resizing-top","smart-window-resizing-bottom","smart-window-resizing-left","smart-window-resizing-right")),setTimeout((function(){t.$.removeClass("no-transition")}),20),t.hasAttribute("dragged")&&(t.$.fireEvent(t._dragDetails.type+"End",{left:e.pageX,top:e.pageY}),t.removeAttribute("dragged")),t._dragDetails.started=!1,delete t._mouseManipulation),t._snapDummy&&!t._snapDummy.classList.contains("smart-visibility-hidden")){switch(t._snapDummy._position){case"left":case"top":t.style.left=t.style.top="0",t.style.right="auto";break;case"right":t.style.left="auto",t.style.top=t.style.right="0"}t.style.width="top"===t._snapDummy._position?"100%":"50%",t.style.height="100%",t.$.addClass("smart-window-snapped-"+t._snapDummy._position),t._handleSnapping()}t._modal&&n===t._modal&&!t._isWindowContentClicked&&(t.closeOnMaskClick?t.close():t.focus()),t._isWindowButton(n)&&t.focus(),delete t._isWindowContentClicked,delete t._buttonPressed;var a=t.shadowRoot&&t._windowParent.element&&t._windowParent.element.getRootNode()?t._windowParent.element.getRootNode().activeElement:document.activeElement;if(t.hasAttribute("active")&&a!==t&&n.closest){for(var r=n.closest(".smart-window");r&&r!==t;)(r=r.parentElement)&&(r=r.closest(".smart-window"));t.opened&&r!==t&&t.removeAttribute("active")}}},{key:"_documentSelectStartHandler",value:function(e){this._dragDetails&&this._dragDetails.started&&e.preventDefault()}},{key:"_drag",value:function(t,n){var a=this;if(t&&!a.pinned&&!a.maximized){var r,o;a._dragDetails&&a._dragDetails.started||a._setDragDetails("drag",t),a.$.addClass("no-transition"),"object"==e(t)?(r=t.pageX-a._dragDetails.x,o=t.pageY-a._dragDetails.y):r=o=t;var i=Math.max(a._windowParent.element.clientHeight,a._windowParent.scrollElement.scrollHeight),l=Math.max(a._windowParent.element.clientWidth,a._windowParent.scrollElement.scrollWidth);switch(n){case"horizontal":a._dragDetails.windowX=Math.max(0,Math.min(a._dragDetails.windowX+r,l-a.offsetWidth)),a.style.left=a._dragDetails.windowX+"px";break;case"vertical":a._dragDetails.windowY=Math.max(0,Math.min(a._dragDetails.windowY+o,i-a.offsetHeight)),a.style.top=a._dragDetails.windowY+"px";break;case"both":a._dragDetails.windowX=Math.max(0,Math.min(a._dragDetails.windowX+r,l-a.offsetWidth)),a._dragDetails.windowY=Math.max(0,Math.min(a._dragDetails.windowY+o,i-a.offsetHeight)),a.style.left=a._dragDetails.windowX+"px",a.style.top=a._dragDetails.windowY+"px"}a._dragDetails.top=a.offsetTop,a._dragDetails.left=a.offsetLeft}}},{key:"_dragStartHandler",value:function(e){this._dragDetails&&this._dragDetails.started&&e.preventDefault()}},{key:"_focusHandler",value:function(e){var t=this;"focus"===e.type?(t.setAttribute("focus",""),t.bringToFront()):t._buttonPressed||(t.removeAttribute("focus"),t._dragDetails&&t._dragDetails.started&&t._handleWindowResizeDummy())}},{key:"_getAllMinimizedWindows",value:function(e){var t=[];e||(e=this._windowParent.element);for(var n=e.querySelectorAll("smart-window"),a=0;a<n.length;a++)n[a]!==this&&n[a].hasAttribute("minimized")&&t.push(n[a]);return t.sort((function(e,t){var n=e.getBoundingClientRect(),a=t.getBoundingClientRect();return n.right-a.right})),t}},{key:"_handleSnapping",value:function(e){var t=this;e?t.disableSnap||t.collapsed||(t._snapDummy||(t._snapDummy=document.createElement("div"),t._snapDummy.addEventListener("transitionend",(function(){t._snapDummy.classList.contains("smart-visibility-hidden")&&t._snapDummy.parentElement&&t._snapDummy.parentElement.removeChild(t._snapDummy)}))),t._snapDummy.className="smart-window-snap-"+e+"-feedback",t._snapDummy._position=e,t._snapDummy.parentElement||t._windowParent.element.appendChild(t._snapDummy)):t._snapDummy&&t._snapDummy.parentElement&&t._snapDummy.classList.add("smart-visibility-hidden")}},{key:"_headerDblCickHandler",value:function(e){var t=this,n=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;n!==t.$.headerSection&&n!==t.$.header||t.$.maximizeButton&&0===t.$.maximizeButton.offsetHeight||(t.maximized?t.restore():t.maximize())}},{key:"_isWindowButton",value:function(e){for(var t=this;e&&(e.closest&&e.closest(".smart-buttons-container"))!==t.$.buttonsContainer;)e=e.getRootNode().host;if(e){var n=/smart-(\w+[-]*\w*)-button/gi;if((e=e.closest(".smart-button"))&&e===t._buttonPressed)switch(e){case t.$.closeButton:return t.close(),!0;case t.$.collapseButton:return t.collapsed?t.expand():t.collapse(),!0;case t.$.maximizeButton:return t.maximized?t.restore():t.maximize(),!0;case t.$.minimizeButton:return t.minimized?t.restore():t.minimize(),!0;case t.$.pinButton:return t.pinned?t.unpin():t.pin(),!0;default:if(!n.test(e.className))return;return t.$.fireEvent(Smart.Utilities.Core.toCamelCase(e.className.match(n).toString().replace("smart-","").replace("-button","")),{button:e}),!0}}}},{key:"_keyDownHandler",value:function(e){var t=this;if(delete t._changingFocus,!(t.disabled||(t.hasAttribute("dragged")||t.hasAttribute("resized"))&&t._mouseManipulation)){e.stopPropagation();var n="ArrowDown"===e.key||"ArrowRight"===e.key?10:-10,a=t.enableShadowDOM&&t._windowParent.element.getRootNode()?t._windowParent.element.getRootNode().activeElement:document.activeElement;switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":if(t.minimized||a!==t)return;var r=e.key.indexOf("Right")>-1||e.key.indexOf("Left")>-1;e.preventDefault();var o=(t.isInShadowDOM?t.getRootNode().host:t).closest("smart-docking-layout");if(!r&&e.altKey&&!(t instanceof Smart.TabsWindow&&o))return void("ArrowUp"===e.key?t.maximize():t.restore());if(t.maximized)return;if(t.$.addClass("no-transition"),e.ctrlKey&&"none"!==t.resizeMode&&!t.collapsed)return r=-1===["horizontal","vertical","both"].indexOf(t.resizeMode)?t.resizeMode:r?"right":"bottom",t.hasAttribute("dragged")&&t._cancelDragging(e),t.hasAttribute("resized")||t.$.fireEvent("resizeStart",{position:{x:e.pageX,y:e.pageY}}),void t._resize(r,n);t.pinned||(t.hasAttribute("dragged")||(t.setAttribute("dragged",""),t.$.fireEvent("dragStart",{left:e.pageX,top:e.pageY})),t._drag(n,r?"horizontal":"vertical")),t.$.removeClass("no-transition");break;case"Escape":t.headerButtons.indexOf("close")>-1&&t.close();break;case"p":e.altKey&&t.headerButtons.indexOf("pin")>-1&&(t.pinned?t.unpin():t.pin());break;case"c":e.altKey&&t.headerButtons.indexOf("collapse")>-1&&(t.collapsed?t.expand():t.collapse());break;case"m":e.altKey&&t.headerButtons.indexOf("minimize")>-1&&(t.minimized?t.restore():t.minimize());break;case"Tab":t.opened&&t.modal&&(t._changingFocus=!0);break;case"Enter":case" ":var i;if(t.shadowRoot||t.isInShadowDOM?(i=e.composedPath()[0],t._buttonPressed=i.getRootNode().host):(i=e.target.closest&&e.target.closest(".smart-button"),t._buttonPressed=i),!i)return;t._isWindowButton(i),delete t._buttonPressed}}}},{key:"_keyUpHandler",value:function(e){var t=this;if(e.key){if("Control"===e.key&&t._dragDetails&&t.hasAttribute("resized")&&!t._mouseManipulation){if(!t._dragDetails.started)return;"drag"!==t._dragDetails.type&&(t.removeAttribute("resized"),t.$.fireEvent("resizeEnd",{left:e.pageX,top:e.pageY,width:t._dragDetails.newWidth,height:t._dragDetails.newHeight}),t._handleWindowResizeDummy()),t._dragDetails.started=!1}e.key.indexOf("Arrow")>-1&&t.hasAttribute("dragged")&&!t._mouseManipulation&&t._cancelDragging(e)}}},{key:"_mouseWheelHandler",value:function(e){var t=this;!t.disabled&&t._dragDetails&&t._dragDetails.started&&(e.deltaY<0&&t._windowParent.scrollElement.scrollTop+e.deltaY<=0?t.style.top=Math.max(0,t._dragDetails.windowY)+"px":e.deltaY>0&&(t._dragDetails.windowY+t.offsetHeight+e.deltaY>=t._windowParent.scrollElement.scrollHeight||t._windowParent.scrollElement.scrollTop+t._windowParent.element.clientHeight===t._windowParent.scrollElement.scrollHeight)||("drag"===t._dragDetails.type?(t._dragDetails.windowY+=e.deltaY,t.style.top=t._dragDetails.windowY+"px"):(t._dragDetails.height+=e.deltaY,t.style.height=t._dragDetails.height+"px")))}},{key:"_moveHandler",value:function(e){var t=this;if(!(t.disabled||t.collapsed||t.maximized||t.minimized||(Smart.Utilities.Core.isMobile&&navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)&&t.hasAttribute("dragged")&&e.originalEvent.preventDefault(),t._mouseManipulation||(t.$.container.className.indexOf("smart-window-resizing")>-1&&t.$.container.classList.remove("smart-window-resizing-bottom-right","smart-window-resizing-top-right","smart-window-resizing-top-left","smart-window-resizing-bottom-left","smart-window-resizing-top","smart-window-resizing-bottom","smart-window-resizing-left","smart-window-resizing-right"),"none"===t.resizeMode)))){var n=t.getBoundingClientRect(),a=e.clientY<n.top+10,r=e.clientY>n.bottom-10,o=e.clientX>n.right-10,i=e.clientX<n.left+10;switch(t.resizeMode){case"none":break;case"both":if(t.resizeIndicator)return void(r&&o&&t.$.container.classList.add("smart-window-resizing-bottom-right"));if(i||o)return a?void t.$.container.classList.add("smart-window-resizing-top-"+(i?"left":"right")):r?void t.$.container.classList.add("smart-window-resizing-bottom-"+(i?"left":"right")):void t.$.container.classList.add("smart-window-resizing-"+(i?"left":"right"));if(a||r){if(o)return void t.$.container.classList.add("smart-window-resizing-"+(a?"top-right":"bottom-right"));if(i)return void t.$.container.classList.add("smart-window-resizing-"+(a?"top-left":"bottom-left"));t.$.container.classList.add("smart-window-resizing-"+(a?"top":"bottom"))}break;case"horizontal":if(t.resizeIndicator)return void(r&&o&&t.$.container.classList.add("smart-window-resizing-right"));if(i)return void t.$.container.classList.add("smart-window-resizing-left");o&&t.$.container.classList.add("smart-window-resizing-right");break;case"vertical":if(t.resizeIndicator)return void(r&&o&&t.$.container.classList.add("smart-window-resizing-bottom"));if(a)return void t.$.container.classList.add("smart-window-resizing-top");r&&t.$.container.classList.add("smart-window-resizing-bottom");break;case"top":if(a){if(t.resizeIndicator&&!i)return;t.$.container.classList.add("smart-window-resizing-top")}break;case"bottom":if(r){if(t.resizeIndicator&&!o)return;t.$.container.classList.add("smart-window-resizing-bottom")}break;case"left":if(i){if(t.resizeIndicator&&!a)return;t.$.container.classList.add("smart-window-resizing-left")}break;case"right":if(o){if(t.resizeIndicator&&!r)return;t.$.container.classList.add("smart-window-resizing-right")}}}}},{key:"_handleActiveState",value:function(){for(var e=this,t=document.querySelectorAll(".smart-window"),n=0;n<t.length;n++)t[n].contains(e)||e.contains(t[n])||(t[n].removeAttribute("active"),t[n].removeAttribute("focus"));e.setAttribute("active","")}},{key:"_handleWindowResizeDummy",value:function(){var e=this;if(e._resizeDummy||(e._resizeDummy=document.createElement("div"),e._resizeDummy.classList.add("smart-window-resize-feedback")),!e.hasAttribute("resized"))return e._resizeDummy&&e._resizeDummy.remove(),void(!e.liveResize&&"resize"===e._dragDetails.type&&e._dragDetails.started&&(e.style.top=e._dragDetails.top+"px",e.style.left=e._dragDetails.left+"px",e.style.width=e._dragDetails.newWidth+"px",e.style.height=e._dragDetails.newHeight+"px"));e._resizeDummy.parentElement||e._resizeDummy.getRootNode().host||(e._resizeDummy.style.width=e.offsetWidth+"px",e._resizeDummy.style.height=e.offsetHeight+"px",e._resizeDummy.style.top=e.offsetTop+"px",e._resizeDummy.style.left=e.offsetLeft+"px",e._windowParent.element.appendChild(e._resizeDummy))}},{key:"_resize",value:function(t,n){var a,r=this;if((!r._dragDetails||r._dragDetails&&"drag"===r._dragDetails.type)&&r._setDragDetails("resize"),r._dragDetails){r._dragDetails.started=!0,r.hasAttribute("resized")||(r.setAttribute("resized",""),r.hasAnimation&&r.$.addClass("no-transition")),r.liveResize||r._handleWindowResizeDummy();var o=r._snapDummy&&r.$.hasClass("smart-window-snapped-"+r._snapDummy._position)?"snapWindowWidth":"width";switch(t){case"left":a=(a="object"==e(n)?n.pageX-r._dragDetails.x:n)>0?Math.min(a,r._dragDetails[o]-r._dragDetails.minWidth):-1*Math.min(r._dragDetails.maxWidth?r._dragDetails.maxWidth-r._dragDetails[o]:r._dragDetails.left,Math.abs(a)),r._dragDetails[o]=Math.min(r._dragDetails[o]+r._dragDetails.left-r._windowParent.scrollElement.scrollLeft,r._dragDetails[o]-a),r._dragDetails.windowX=Math.max(r._windowParent.scrollElement.scrollLeft,r._dragDetails.windowX+a),"object"!=e(n)&&(r._dragDetails[o]=Math.max(r._dragDetails[o],r._dragDetails.minWidth)),r._dragDetails[o]>=r._dragDetails.minWidth&&(r._dragDetails.left=r._dragDetails.windowX,r._dragDetails.newWidth=r._dragDetails[o]);break;case"right":var i=r._windowParent.element.clientWidth!==r._windowParent.element.offsetWidth?r._windowParent.borderWidth:0,l=r._snapDummy&&r.$.hasClass("smart-window-snapped-"+r._snapDummy._position)?"snapWindowWidth":"width";(a="object"==e(n)?n.pageX-r._dragDetails.x:n)>0&&r._dragDetails.maxWidth&&(a=Math.min(r._dragDetails.maxWidth-r._dragDetails[l],a)),r._dragDetails[l]=Math.min(r._windowParent.element.clientWidth+r._windowParent.scrollElement.scrollLeft-r._dragDetails.left-i,Math.max(0,r._dragDetails[l]+a)),"object"!=e(n)&&(r._dragDetails[l]=Math.max(r._dragDetails[l],r._dragDetails.minWidth)),r._dragDetails.left=r.offsetLeft,r._dragDetails.newWidth=Math.max(r._dragDetails.minWidth,r._dragDetails[l]);break;case"top":r._snapDummy&&r.$.hasClass("smart-window-snapped-"+r._snapDummy._position)&&(r._dragDetails.height=r._dragDetails.snapWindowHeight),a=(a="object"==e(n)?n.pageY-r._dragDetails.y:n)>0?Math.min(a,r._dragDetails.height-r._dragDetails.minHeight):-1*Math.min(r._dragDetails.maxHeight?r._dragDetails.maxHeight-r._dragDetails.height:r._dragDetails.top,Math.abs(a)),r._dragDetails.snapWindowHeight=r._dragDetails.height=Math.min(r._dragDetails.height+r._dragDetails.top-r._windowParent.scrollElement.scrollTop,r._dragDetails.height-a),r._dragDetails.windowY=Math.max(r._windowParent.scrollElement.scrollTop,r._dragDetails.windowY+a),"object"!=e(n)&&(r._dragDetails.snapWindowHeight=r._dragDetails.height=Math.max(r._dragDetails.height,r._dragDetails.minHeight)),r._dragDetails.height>=r._dragDetails.minHeight&&(r._dragDetails.top=r._dragDetails.windowY,r._dragDetails.newHeight=r._dragDetails.height),r._dragDetails.newWidth=Math.max(r._dragDetails[o],r._dragDetails.newWidth);break;case"bottom":r._snapDummy&&r.$.hasClass("smart-window-snapped-"+r._snapDummy._position)&&(r._dragDetails.height=r._dragDetails.snapWindowHeight),(a="object"==e(n)?n.pageY-r._dragDetails.y:n)>0&&r._dragDetails.maxHeight&&(a=Math.min(r._dragDetails.maxHeight-r._dragDetails.height,a)),r._dragDetails.snapWindowHeight=r._dragDetails.height=Math.min(r._windowParent.element.clientHeight+r._windowParent.scrollElement.scrollTop-r._dragDetails.top-r._windowParent.borderWidth,Math.max(0,r._dragDetails.height+a)),"object"!=e(n)&&(r._dragDetails.snapWindowHeight=r._dragDetails.height=Math.max(r._dragDetails.height,r._dragDetails.minHeight)),r._dragDetails.newHeight=Math.max(r._dragDetails.minHeight,r._dragDetails.height),r._dragDetails.newWidth=Math.max(r._dragDetails[o],r._dragDetails.newWidth);break;case"bottomLeftCorner":r._resize("bottom",n),r._resize("left",n);break;case"bottomRightCorner":r._resize("bottom",n),r._resize("right",n);break;case"topLeftCorner":r._resize("top",n),r._resize("left",n);break;case"topRightCorner":r._resize("top",n),r._resize("right",n)}var s=r.liveResize?r:r._resizeDummy;r._dragDetails.newHeight=Math.max(r._dragDetails.snapWindowHeight,r._dragDetails.newHeight),s.style.top=r._dragDetails.top+"px",s.style.left=r._dragDetails.left+"px",s.style.width=r._dragDetails.newWidth+"px",s.style.height=r._dragDetails.newHeight+"px"}}},{key:"_restoreFromMinimization",value:function(){var e=this;e.minimized=!1,e.style.width=e.style.height=e.style.top=e.style.left="",e._refreshMinimizedWindowsPosition()}},{key:"_refreshMinimizedWindowsPosition",value:function(){var e=this._getAllMinimizedWindows();if(0!==e.length){var t;e[0].style.left="5px";for(var n=1;n<e.length;n++)parseFloat(e[n-1].style.left)+e[n-1].offsetWidth+e[n].offsetWidth+10<this._windowParent.element.clientWidth?(e[n].style.left=parseFloat(e[n-1].style.left)+e[n-1].offsetWidth+5+"px",e[n].style.top=e[n-1].offsetTop+"px",t=e[n]):(e[n].style.left=parseFloat(t.style.left)+"px",e[n].style.top=t.offsetTop+"px")}}},{key:"_setHeaderButtons",value:function(){for(var e=this,t=e.headerButtons,n=e.$.buttonsContainer.children,a=function(t){var n=e.$.buttonsContainer.getElementsByClassName("smart-"+(t+"").split(/(?=[A-Z])/).join("-").toLowerCase()+"-button")[0];return n&&n.classList.remove("smart-hidden"),n},r=0;r<n.length;r++)n[r].classList.add("smart-hidden");if(t.length>0)for(var o=0;o<t.length;o++){var i=a(t[o]);if(!i){var l=(t[o]+"").split(/(?=[A-Z])/);(i=document.createElement("button")).setAttribute("aria-label",l.map((function(e){return e.slice(0,1).toUpperCase()+e.slice(1)})).join(" ")),i.classList.add("smart-"+l.join("-").toLowerCase()+"-button","smart-button","smart-element")}e.$.buttonsContainer.insertBefore(i,e.$.buttonsContainer.firstElementChild)}}},{key:"_setDragDetails",value:function(t,n){var a=this;if(a._dragDetails||(a._dragDetails={}),void 0===a._dragDetails.minWidth||void 0===a._dragDetails.minHeight||void 0===a._dragDetails.maxWidth||void 0===a._dragDetails.maxHeight){var r=getComputedStyle(a);a._dragDetails.minWidth=parseFloat(r.getPropertyValue("min-width"))||0,a._dragDetails.minHeight=parseFloat(r.getPropertyValue("min-height"))||0,a._dragDetails.maxWidth=parseFloat(r.getPropertyValue("max-width"))||0,a._dragDetails.maxHeight=parseFloat(r.getPropertyValue("max-height"))||0}a._dragDetails.windowX=a.offsetLeft,a._dragDetails.windowY=a.offsetTop;var o=a.getBoundingClientRect();if(a._snapDummy&&a.$.hasClass("smart-window-snapped-"+a._snapDummy._position))"right"===a.headerPosition&&a.collapsed&&(a._dragDetails.offsetX=o.left+a.offsetWidth-n.clientX);else{var i=a.parentElement===document.body?document.documentElement.getBoundingClientRect():a.parentElement?a.parentElement.getBoundingClientRect():document.documentElement.getBoundingClientRect(),l=window.scrollX||window.pageXOffset,s=window.scrollY||window.pageYOffset;a._windowParent.offsetLeft=i.left+l,a._windowParent.offsetTop=i.top+s,n&&"object"==e(n)&&(a._dragDetails.offsetX=n.clientX-o.left,a._dragDetails.offsetY=n.clientY-o.top),a.collapsed||(a.hasAnimation&&"minimize"===t?(a._dragDetails.width=a._dragDetails.width?a._dragDetails.width:a.offsetWidth,a._dragDetails.height=a._dragDetails.height?a._dragDetails.height:a.offsetHeight):(a._dragDetails.width=a.offsetWidth,a._dragDetails.height=a.offsetHeight),(a.style.width||a.style.height)&&(a._dragDetails.resized=!0))}if("minimize"!==t&&t&&(a._dragDetails.type=t,a._dragDetails.started=!0,a._dragDetails.snapWindowWidth=a.offsetWidth,a._dragDetails.snapWindowHeight=a.offsetHeight,n&&"object"==e(n)?(a._dragDetails.x=n.pageX,a._dragDetails.y=n.pageY):(a._dragDetails.x=a.offsetLeft,a._dragDetails.y=a.offsetTop),"resize"===t)){if("none"===a.resizeMode)return void delete a._dragDetails;a._dragDetails.top=a.offsetTop,a._dragDetails.left=a.offsetLeft,a._dragDetails.newWidth=a._dragDetails.width,a._dragDetails.newHeight=a._dragDetails.height,a.$container.hasClass("smart-window-resizing-right")?a._dragDetails.side="right":a.$container.hasClass("smart-window-resizing-left")?a._dragDetails.side="left":a.$container.hasClass("smart-window-resizing-top")?a._dragDetails.side="top":a.$container.hasClass("smart-window-resizing-bottom")?a._dragDetails.side="bottom":a.$container.hasClass("smart-window-resizing-top-left")?a._dragDetails.side="topLeftCorner":a.$container.hasClass("smart-window-resizing-bottom-left")?a._dragDetails.side="bottomLeftCorner":a.$container.hasClass("smart-window-resizing-top-right")?a._dragDetails.side="topRightCorner":a.$container.hasClass("smart-window-resizing-bottom-right")&&(a._dragDetails.side="bottomRightCorner")}}},{key:"_setElementParent",value:function(e){var t=this;if(t._windowParent.element=void 0,t._windowParent.parent&&!t._windowParent.parent.querySelectorAll("smart-window, smart-dialog-window, smart-progress-window, smart-wait-window, smart-alert-window, smart-prompt-window, smart-multiline-prompt-window")&&(t._windowParent.parent.style.position=""),e instanceof HTMLElement)t._windowParent.element=e;else if("string"==typeof e)if("body"===e){var n=t.getRootNode();t._windowParent.element=n&&n.host?t.getShadowRootOrBody():document.body}else t._windowParent.element=document.getElementById(e);if(t._windowParent.element||(t._windowParent.initialParent?t._windowParent.element=t._windowParent.initialParent.parentElement?t._windowParent.initialParent:t.getShadowRootOrBody():t._windowParent.element=t.getShadowRootOrBody()),t.parentElement!==t._windowParent.element&&t._windowParent.element.appendChild(t),t._windowParent.element===document.body)t._windowParent.element=document.documentElement,t._windowParent.scrollElement=document.scrollingElement,t._windowParent.parent=document.body,t._windowParent.borderWidth=0;else{if(t.parentElement instanceof Smart.Window&&!t.parentElement.isCompleted)return void t.parentElement.whenRendered((function(){t.parentElement.appendChild(t),t._setElementParent(t.windowParent)}));t._windowParent.element instanceof Smart.Window&&(t._windowParent.element=t._windowParent.element.$.content);var a=getComputedStyle(t.parentElement),r=a.getPropertyValue("position");t._windowParent.borderWidth=2*parseInt(a.getPropertyValue("border-width")||0),t._windowParent.parent=t.parentElement,t._windowParent.scrollElement=t._windowParent.element,"static"===r&&(t.parentElement.style.position="relative")}t._setModal(),t.style.left&&t.offsetLeft>t._windowParent.scrollElement.scrollWidth&&(t.style.left=t._windowParent.scrollElement.scrollWidth-t.offsetWidth+"px"),t.style.top&&t.offsetTop>t._windowParent.scrollElement.scrollHeight&&(t.style.top=t._windowParent.scrollElement.scrollHeight-t.offsetHeight+"px")}},{key:"_setModal",value:function(){var e=this;if(delete e._changingFocus,e._windowParent.element)if(e.modal)if(e._modal||(e._modal=document.createElement("div"),e._modal.classList.add("smart-modal")),e._windowParent.parent!==document.body?e._modal.setAttribute("nested-modal",""):e._modal.removeAttribute("nested-modal"),e._modal._window=e,e.opened&&!e._modal.parentElement){var t=parseInt(getComputedStyle(e).getPropertyValue("z-index"));isNaN(t)||(e._modal.style.zIndex=t-1),e.parentElement.insertBefore(e._modal,e)}else e._modal.parentElement&&e._modal.parentElement.removeChild(e._modal);else e._modal&&e._modal.parentElement&&(e._modal.parentElement.removeChild(e._modal),delete e._modal)}}],[{key:"properties",get:function(){return{collapsed:{value:!1,type:"boolean"},closeOnMaskClick:{value:!1,type:"boolean"},disableSnap:{value:!1,type:"boolean"},footerPosition:{value:"bottom",allowedValues:["bottom","none"],type:"string"},footerTemplate:{value:null,type:"any"},headerButtons:{value:["close","maximize","minimize"],type:"array"},headerPosition:{value:"top",allowedValues:["top","bottom","left","right","none"],type:"string"},headerTemplate:{value:null,type:"any"},label:{value:"",type:"string"},liveResize:{value:!1,type:"boolean"},maximized:{value:!1,type:"boolean"},modal:{value:!1,type:"boolean"},minimized:{value:!1,type:"boolean"},opened:{value:!1,type:"boolean"},pinned:{value:!1,type:"boolean"},resizeIndicator:{value:!1,type:"boolean"},resizeMode:{allowedValues:["none","horizontal","vertical","both","top","bottom","left","right"],value:"none",type:"string"},windowParent:{value:null,type:"any"}}}},{key:"listeners",get:function(){return{"document.dragstart":"_dragStartHandler","document.focusin":"_documentFocusInEventHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler","document.wheel":"_mouseWheelHandler","document.selectstart":"_documentSelectStartHandler",down:"_downHandler",focus:"_focusHandler",blur:"_focusHandler",move:"_moveHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler"}}},{key:"styleUrls",get:function(){return["smart.button.css","smart.window.css"]}},{key:"requires",get:function(){return{"Smart.Button":"smart.button.js"}}}]),s}()),Smart("smart-dialog-window",function(e){o(r,Smart.Window);var n=l(r);function r(){return t(this,r),n.apply(this,arguments)}return a(r,[{key:"template",value:function(){return'<div role="presentation">\n                    <div class="smart-content-container" id="container">\n                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">\n                            <div id="header" class="smart-header">[[label]]</div>\n                            <div id="buttonsContainer" class="smart-buttons-container">\n                                <button id="pinButton" class="smart-pin-button" aria-label="Pin"></button>\n                                <button id="collapseButton" class="smart-button smart-element smart-collapse-button" aria-label="Collapse"></button>\n                                <button id="minimizeButton" class="smart-button smart-element smart-minimize-button" aria-label="Minimize"></button>\n                                <button id="maximizeButton" class="smart-button smart-element smart-maximize-button" aria-label="Maximize"></button>\n                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>\n                            </div>\n                        </div>\n                        <div class="smart-content">\n                            <content></content>\n                        </div>\n                        <div id="footer" class="smart-footer">\n                            <button id="confirmButton" class="smart-button smart-element smart-confirm-button">[[confirmLabel]]</button>\n                            <button id="cancelButton" class="smart-button smart-element smart-cancel-button">[[cancelLabel]]</button>\n                        </div>\n                    </div>\n                </div>'}},{key:"_createElement",value:function(){var e=this;e.setAttribute("role","alertdialog"),e.setAttribute("aria-describedby",e.$.content.id)}},{key:"_footerClickHandler",value:function(e){var t=e.target;t.closest(".smart-confirm-button")?this.$.fireEvent("confirm"):t.closest(".smart-cancel-button")&&this.$.fireEvent("cancel")}},{key:"_keyDownHandler",value:function(e){var t=this;if(delete t._changingFocus,!(t.disabled||(t.hasAttribute("dragged")||t.hasAttribute("resized"))&&t._mouseManipulation)){e.stopPropagation();var n="ArrowDown"===e.key||"ArrowRight"===e.key?10:-10,a=t.enableShadowDOM&&t._windowParent.element.getRootNode()?t._windowParent.element.getRootNode().activeElement:document.activeElement;switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":if(t.minimized||a!==t)return;var r=e.key.indexOf("Right")>-1||e.key.indexOf("Left")>-1;if(e.preventDefault(),!r&&e.altKey)return void("ArrowUp"===e.key?t.maximize():t.restore());if(t.$.addClass("no-transition"),t.maximized)return;if(e.ctrlKey&&"none"!==t.resizeMode)return t.hasAttribute("dragged")&&t._cancelDragging(e),t.hasAttribute("resized")||t.$.fireEvent("resizeStart",{position:{x:e.pageX,y:e.pageY}}),void t._resize(r?"right":"bottom",n);t.pinned||(t.hasAttribute("dragged")||(t.setAttribute("dragged",""),t.$.fireEvent("dragStart",{left:e.pageX,top:e.pageY})),t._drag(n,r?"horizontal":"vertical")),t.$.removeClass("no-transition");break;case"Escape":t.headerButtons.indexOf("close")>-1&&t.close();break;case"Tab":t.opened&&t.modal&&(t._changingFocus=!0);break;case"Enter":case" ":var o;if(t.shadowRoot||t.isInShadowDOM?(o=e.composedPath()[0],t._buttonPressed=o.getRootNode().host):(o=e.target.closest&&e.target.closest(".smart-button"),t._buttonPressed=o),!o)return;t._isWindowButton(o),delete t._buttonPressed}}}}],[{key:"properties",get:function(){return{cancelLabel:{value:"Cancel",type:"string"},confirmLabel:{value:"Ok",type:"string"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},headerButtons:{value:["close"],type:"array"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0}}}},{key:"listeners",get:function(){return{"footer.click":"_footerClickHandler"}}}]),r}()),Smart("smart-alert-window",function(e){o(r,Smart.DialogWindow);var n=l(r);function r(){return t(this,r),n.apply(this,arguments)}return a(r,[{key:"_createElement",value:function(){var e=this;e.setAttribute("role","alertdialog"),e.setAttribute("aria-describedby",e.$.content.id)}}],[{key:"properties",get:function(){return{headerButtons:{value:[],type:"array"}}}}]),r}()),Smart("smart-prompt-window",function(e){o(r,Smart.DialogWindow);var n=l(r);function r(){return t(this,r),n.apply(this,arguments)}return a(r,[{key:"template",value:function(){return'<div role="presentation">\n                    <div class="smart-content-container" id="container">\n                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">\n                            <div id="header" class="smart-header">[[label]]</div>\n                            <div id="buttonsContainer" class="smart-buttons-container">\n                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>\n                            </div>\n                        </div>\n                        <div class="smart-content">\n                            <content></content>\n                            <smart-text-box id="textBox"\n                                animation="[[animation]]"\n                                auto-complete="[[autoComplete]]"\n                                max-length="[[maxLength]]"\n                                value="{{value}}"\n                                form="[[form]]"\n                                label="[[promptLabel]]"\n                                hint="[[hint]]"\n                                display-mode="[[displayMode]]"\n                                max-length="[[maxLength]]"\n                                placeholder="[[placeholder]]"\n                                required="[[required]]"\n                                required-message="[[requiredMessage]]"\n                                select-all-on-focus="[[selectAllOnFocus]]"\n                                theme="[[theme]]"\n                                right-to-left="[[rightToLeft]]">\n                            </smart-text-box>\n                        </div>\n                        <div id="footer" class="smart-footer">\n                            <button id="confirmButton" class="smart-button smart-element smart-confirm-button flat">[[confirmLabel]]</button>\n                            <button id="cancelButton" class="smart-button smart-element smart-cancel-button flat">[[cancelLabel]]</button>\n                        </div>\n                    </div>\n                </div>'}},{key:"_footerClickHandler",value:function(e){var t=this,n=e.target;n.closest(".smart-confirm-button")?t.$.fireEvent("confirm",{value:t.$.textBox.value}):n.closest(".smart-cancel-button")&&t.$.fireEvent("cancel",{value:t.$.textBox.value})}},{key:"_keyDownHandler",value:function(e){var t=this;function n(){t._dragDetails&&(t._dragDetails.started=!1),t.$.removeClass("no-transition")}if(delete t._changingFocus,!(t.disabled||t._dragDetails&&t._dragDetails.started)){e.stopPropagation();var a="ArrowDown"===e.key||"ArrowRight"===e.key?10:-10,r=t.enableShadowDOM&&t._windowParent.element.getRootNode()?t._windowParent.element.getRootNode().activeElement:document.activeElement;switch(t.$.removeClass("no-transition"),e.key){case"ArrowUp":case"ArrowDown":if(r!==t)return;if(e.preventDefault(),e.altKey)return"ArrowUp"===e.key?t.maximize():t.restore(),void n();if(t.$.addClass("no-transition"),e.ctrlKey)return t._resize("bottom",a),void n();t._drag(a,"vertical");break;case"ArrowLeft":case"ArrowRight":if(r!==t)return;if(e.preventDefault(),t.$.addClass("no-transition"),e.ctrlKey)return t._resize("right",a),void n();t._drag(a,"horizontal"),t.$.removeClass("no-transition");break;case"Escape":t.headerButtons.indexOf("close")>-1&&t.close();break;case"Tab":t.opened&&t.modal&&(t._changingFocus=!0);break;case"Enter":case" ":var o;if(t.shadowRoot||t.isInShadowDOM?(o=e.composedPath()[0],t._buttonPressed=o.getRootNode().host):(o=e.target.closest&&e.target.closest(".smart-button"),t._buttonPressed=o),!o)return;t._isWindowButton(o),delete t._buttonPressed}n()}}}],[{key:"properties",get:function(){return{autoComplete:{allowedValues:["none","manual","auto","inline"],type:"string",value:"manual"},confirmLabel:{value:"Ok",type:"string"},cancelLabel:{value:"Cancel",type:"string"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},displayMode:{value:"default",allowedValues:["default","escaped"],type:"string"},headerButtons:{value:["close"],type:"array"},form:{value:"",type:"string"},hint:{value:null,type:"any?"},maxLength:{value:null,type:"number?"},minLength:{value:2,type:"number"},messages:{extend:!0,value:{en:{missingReference:"{{elementType}}: Missing reference to {{files}}."}},type:"object"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},name:{value:"",type:"string"},placeholder:{value:"",type:"string"},promptLabel:{value:"",type:"string?"},required:{value:!1,type:"boolean"},requiredMessage:{value:"",type:"string"},selectAllOnFocus:{value:!1,type:"boolean"},value:{value:"",type:"string"}}}},{key:"listeners",get:function(){return{"footer.click":"_footerClickHandler"}}},{key:"requires",get:function(){return{"Smart.TextBox":"smart.textbox.js"}}}]),r}()),Smart("smart-multiline-prompt-window",function(e){o(r,Smart.PromptWindow);var n=l(r);function r(){return t(this,r),n.apply(this,arguments)}return a(r,[{key:"template",value:function(){return'<div role="presentation">\n                    <div class="smart-content-container" id="container">\n                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">\n                            <div id="header" class="smart-header">[[label]]</div>\n                            <div id="buttonsContainer" class="smart-buttons-container">\n                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>\n                            </div>\n                        </div>\n                        <div class="smart-content">\n                            <content></content>\n                           <smart-multiline-text-box id="textBox"\n                                animation="[[animation]]"\n                                horizontal-scroll-bar-visibility= "[[horizontalScrollBarVisibility]]"\n                                vertical-scroll-bar-visibility= "[[verticalScrollBarVisibility]]"\n                                auto-capitalize="[[autoCapitalize]]"\n                                auto-expand = "[[autoExpand]]"\n                                selection-direction= "[[selectionDirection]]"\n                                selection-end= "[[selectionEnd]]"\n                                selection-start="[[selectionStart]]"\n                                spell-check= "[[spellCheck]]"\n                                wrap="[[wrap]]"\n                                max-length="[[maxLength]]"\n                                value="{{value}}"\n                                form="[[form]]"\n                                label="[[promptLabel]]"\n                                hint="[[hint]]"\n                                display-mode="[[displayMode]]"\n                                max-length="[[maxLength]]"\n                                placeholder="[[placeholder]]"\n                                required="[[required]]"\n                                required-message="[[requiredMessage]]"\n                                select-all-on-focus="[[selectAllOnFocus]]"\n                                theme="[[theme]]"\n                                right-to-left="[[rightToLeft]]">\n                           </smart-multiline-text-box>\n                        </div>\n                        <div id="footer" class="smart-footer">\n                            <button id="confirmButton" class="smart-button smart-element smart-confirm-button flat">[[confirmLabel]]</button>\n                            <button id="cancelButton" class="smart-button smart-element smart-cancel-button flat">[[cancelLabel]]</button>\n                        </div>\n                    </div>\n                </div>'}},{key:"_footerClickHandler",value:function(e){var t=this,n=e.target;n.closest(".smart-confirm-button")?t.$.fireEvent("confirm",{value:t.$.textBox.value}):n.closest(".smart-cancel-button")&&t.$.fireEvent("cancel",{value:t.$.textBox.value})}}],[{key:"properties",get:function(){return{autoCapitalize:{value:"none",allowedValues:["none","words","characters"],type:"string"},autoExpand:{value:!1,type:"boolean"},headerButtons:{value:["close"],type:"array"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},selectionDirection:{value:"none",allowedValues:["forward","backward","none"],type:"string"},selectionEnd:{value:0,reflectToAttribute:!1,type:"number"},selectionStart:{value:0,reflectToAttribute:!1,type:"number"},spellCheck:{value:!1,type:"boolean"},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},wrap:{value:"soft",allowedValues:["hard","soft","off"],type:"string"}}}},{key:"listeners",get:function(){return{"footer.click":"_footerClickHandler"}}},{key:"requires",get:function(){return{"Smart.MultilineTextBox":"smart.multilinetextbox.js"}}}]),r}()),Smart("smart-progress-window",function(e){o(i,Smart.Window);var n=l(i);function i(){return t(this,i),n.apply(this,arguments)}return a(i,[{key:"template",value:function(){return'<div role="presentation">\n                    <div class="smart-content-container" id="container">\n                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">\n                            <div id="header" class="smart-header">[[label]]</div>\n                            <div id="buttonsContainer" class="smart-buttons-container">\n                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>\n                            </div>\n                        </div>\n                        <div class="smart-content" inner-h-t-m-l="[[innerHTML]]">\n                            <content></content>\n                        </div>\n                        <div id="footer" class="smart-footer">\n                            <smart-progress-bar id="progressBar"\n                                animation="[[animation]]"\n                                min="[[min]]"\n                                max="[[max]]"\n                                indeterminate="[[inditerminate]]"\n                                inverted="[[inverted]]"\n                                format-function="[[formatFunction]]"\n                                show-progress-value="[[showProgressValue]]"\n                                theme="[[theme]]"\n                                right-to-left="[[rightToLeft]]"\n                                value="{{value}}">\n                            </smart-progress-bar>\n                            <button id="completeButton" class="smart-button smart-element smart-complete-button smart-visibility-hidden">[[completeLabel]]</button>\n                        </div>\n                    </div>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,t,n){switch(e){case"value":this._handleCompletion();break;default:r(u(i.prototype),"propertyChangedHandler",this).call(this,e,t,n)}}},{key:"_createElement",value:function(){this.setAttribute("role","dialog"),this._handleCompletion()}},{key:"_handleCompletion",value:function(){var e=this;e.$.completeButton&&(e.value>=e.max?(e.$completeButton.removeClass("smart-visibility-hidden"),e.$progressBar.addClass("smart-visibility-hidden")):(e.$completeButton.addClass("smart-visibility-hidden"),e.$progressBar.removeClass("smart-visibility-hidden")))}},{key:"_keyDownHandler",value:function(e){var t=this;function n(){t._dragDetails&&(t._dragDetails.started=!1),t.$.removeClass("no-transition")}if(delete t._changingFocus,!(t.disabled||t._dragDetails&&t._dragDetails.started)){e.stopPropagation();var a="ArrowDown"===e.key||"ArrowRight"===e.key?10:-10,r=t.enableShadowDOM&&t._windowParent.element.getRootNode()?t._windowParent.element.getRootNode().activeElement:document.activeElement;switch(t.$.removeClass("no-transition"),e.key){case"ArrowUp":case"ArrowDown":if(r!==t)return;if(e.preventDefault(),e.altKey)return"ArrowUp"===e.key?t.maximize():t.restore(),void n();if(t.$.addClass("no-transition"),e.ctrlKey)return t._resize("bottom",a),void n();t._drag(a,"vertical"),t.$.removeClass("no-transition");break;case"ArrowLeft":case"ArrowRight":if(r!==t)return;if(e.preventDefault(),t.$.addClass("no-transition"),e.ctrlKey)return t._resize("right",a),void n();t._drag(a,"horizontal"),t.$.removeClass("no-transition");break;case"Escape":t.headerButtons.indexOf("close")>-1&&t.close();break;case"Tab":t.opened&&t.modal&&(t._changingFocus=!0);break;case"Enter":case" ":var o;if(t.shadowRoot||t.isInShadowDOM?(o=e.composedPath()[0],t._buttonPressed=o.getRootNode().host):(o=e.target.closest&&e.target.closest(".smart-button"),t._buttonPressed=o),!o)return;t._isWindowButton(o),delete t._buttonPressed}n()}}}],[{key:"properties",get:function(){return{completeLabel:{value:"Continue",type:"string"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},headerButtons:{value:["close"],type:"array"},indeterminate:{value:!1,type:"boolean"},inverted:{value:!1,type:"boolean"},formatFunction:{value:null,type:"function"},max:{value:100,type:"number"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},min:{value:0,type:"number"},showProgressValue:{value:!1,type:"boolean"},value:{value:0,type:"number?"}}}},{key:"requires",get:function(){return{"Smart.ProgressBar":"smart.progressbar.js"}}}]),i}()),Smart("smart-tabs-window",function(e){o(i,Smart.Window);var n=l(i);function i(){return t(this,i),n.apply(this,arguments)}return a(i,[{key:"template",value:function(){return'<div role="presentation">\n                    <div class="smart-content-container" id="container">\n                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">\n                            <div id="header" class="smart-header">[[label]]</div>\n                            <div id="buttonsContainer" class="smart-buttons-container">\n                                <button id="minimizeButton" class="smart-button smart-element smart-minimize-button" aria-label="Minimize"></button>\n                                <button id="maximizeButton" class="smart-button smart-element smart-maximize-button" aria-label="Maximize"></button>\n                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>\n                            </div>\n                        </div>\n                        <div id="contentSection" class="smart-content">\n                           <smart-tabs id="tabsElement"\n                                animation="[[animation]]"\n                                add-new-tab="[[addNewTab]]"\n                                allow-toggle="[[allowToggle]]"\n                                close-button-mode="[[tabCloseButtonMode]]"\n                                close-buttons="[[tabCloseButtons]]"\n                                disabled="[[disabled]]"\n                                overflow="[[tabOverflow]]"\n                                reorder="[[tabReorder]]"\n                                resize="[[tabResize]]"\n                                scroll-buttons-position="[[tabScrollButtonsPosition]]"\n                                selected-index="{{selectedIndex}}"\n                                selection-mode="[[selectionMode]]"\n                                tab-layout="[[tabLayout]]"\n                                tab-position="[[tabPosition]]"\n                                tab-text-orientation="[[tabTextOrientation]]"\n                                theme="[[theme]]"\n                                right-to-left="[[rightToLeft]]">\n                                <content></content>\n                            </smart-tabs>\n                        </div>\n                        <div id="footer" class="smart-footer smart-hidden"></div>\n                    </div>\n                </div>'}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){var n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e?(e instanceof Smart.TabItem||t.error(t.localize("tabItemRequired",{method:"removeChild"})),t.$.tabsElement.appendChild(e)):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}},{key:"insert",value:function(e,t){this.$.tabsElement.insert(e,t)}},{key:"insertBefore",value:function(e,t){this.$.tabsElement.insertBefore(e,t)}},{key:"removeAt",value:function(e){this.$.tabsElement.removeAt(e)}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){var n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e?(e instanceof Smart.TabItem||t.error(t.localize("tabItemRequired",{method:"removeChild"})),(t.shadowRoot||t).contains(e)||t.error(t.localize("referenceNodeNotChild",{argument:"node"})),t.$.tabsElement.removeChild(e)):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}},{key:"refreshTabHeader",value:function(){var e=this;e.$.tabsElement&&e.$.tabsElement.isCompleted&&e.$.tabsElement.refreshTabHeader()}},{key:"refreshTabs",value:function(){var e=this;e.$.tabsElement&&e.$.tabsElement.isCompleted&&e.$.tabsElement._applyTabOverflow()}},{key:"select",value:function(e){this.$.tabsElement.select(e)}},{key:"update",value:function(e,t,n){this.$.tabsElement.update(e,t,n)}},{key:"items",get:function(){return this.isCompleted&&this.$.tabsElement?this.$.tabsElement._tabs:null}},{key:"itemLabels",get:function(){return this.$?this.$.tabsElement._tabLabelContainers:null}},{key:"siblings",get:function(){var e=this,t=[];if(!e.isCompleted)return t;var n=e.closest("smart-splitter");if(!n||!n.closest("smart-docking-layout"))return t;var a=n._items;if(!a||!a.length)return t;for(var r=0;r<a.length;r++){var o=a[r];o!==e.closest("smart-splitter-item")&&o.querySelector("smart-tabs-window").closest("smart-splitter")===n&&t.push(o.querySelector("smart-tabs-window"))}return t}},{key:"propertyChangedHandler",value:function(e,t,n){var a=this;switch("collapsed"!==e&&r(u(i.prototype),"propertyChangedHandler",this).call(this,e,t,n),e){case"theme":""!==t&&(a.$.closeButton.classList.remove(t),a.$.collapseButton.classList.remove(t),a.$.maximizeButton.classList.remove(t),a.$.pinButton.classList.remove(t)),a._applyTheme(n);break;case"autoHideWindow":a._handleAutoHideWindow();break;case"autoHide":n||(null!==a.$.tabsElement.selectedIndex&&(a.$.tabsElement._tabs[a.$.tabsElement.selectedIndex]._autoHideWindowSize=void 0),a._autoHideWindow&&a._autoHideWindow.close());break;case"dataSource":a.$.tabsElement.dataSource=n;break;case"layout":a._handleLayoutProperty();break;case"collapsible":case"collapsed":case"locked":case"max":case"min":case"size":var o=a.getRootNode(),l=(o&&o.host?o.host:a).closest("smart-docking-layout"),s=a.closest("smart-splitter-item");if(!l)return void("collapsed"===e&&r(u(i.prototype),"propertyChangedHandler",this).call(this,e,t,n));s&&(s[e]=n)}}},{key:"_applyTheme",value:function(e){if(""!==e)for(var t=this.$.buttonsContainer.children,n=0;n<t.length;n++)t[n].classList.add(e)}},{key:"_autoHideWindowCloseHandler",value:function(){var e=this;e.allowToggle&&null!==e.$.tabsElement.selectedIndex&&e.$.tabsElement.select(e.$.tabsElement.selectedIndex),e._autoHideWindow&&e._moveContent(e._autoHideWindow.items[0],e._autoHideWindow._tab)}},{key:"_autoHideWindowOpenHandler",value:function(){var e=this;e.$.tabsElement.selectedIndex&&e._handleAutoHide(e.$.tabsElement.selectedIndex)}},{key:"_createElement",value:function(){var e=this;e.setAttribute("role","dialog"),e.$.tabsElement.$.tabHeaderControls&&!e.$.tabsElement.$.tabHeaderControls.innerHTML&&e.$.tabsElement.$tabHeaderControls.addClass("smart-hidden"),e.$.tabsElement.dataSource=e.dataSource,e._applyTheme(e.theme),e._handleAutoHideWindow(),e.autoHide&&e._handleAutoHide(e.$.tabsElement.selectedIndex),e.allowToggle||e.selectedIndex||null===e.$.tabsElement.selectedIndex||(e.selectedIndex=e.$.tabsElement.selectedIndex,e.$.tabsElement.setAttribute("selected-index",e.selectedIndex)),e._handleLayoutProperty();var t=(e.isInShadowDOM?e.getRootNode().host:e||e).closest("smart-docking-layout"),n=e.closest("smart-splitter-item");t&&n&&(n.collapsible=e.collapsible,n.collapsed=e.collapsed,n.min=e.min,n.max=e.max,n.size=e.size,n.locked=e.locked)}},{key:"attached",value:function(){r(u(i.prototype),"attached",this).call(this);var e=this;e.classList.add("smart-window"),e.shadowRoot&&e.$.root.classList.add("smart-window")}},{key:"_handleLayoutProperty",value:function(){var e=this,t=e.closest("smart-docking-layout");if(Smart.DockingLayout){if(!e.ownerLayout&&e.getRootNode())for(var n=e.getRootNode().host;n;){if(!n.closest)return;if(n.closest("smart-docking-layout")){t=n.closest("smart-docking-layout");break}n=n.getRootNode()?n.getRootNode().host:void 0}t?e.layout=t:e.layout instanceof Smart.DockingLayout||"string"==typeof e.layout&&(e.layout=document.getElementById(e.layout))}}},{key:"_headerDblCickHandler",value:function(e){var t=this,n=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;e.ctrlKey||n!==t.$.headerSection&&n!==t.$.header||t.$.maximizeButton&&0===t.$.maximizeButton.offsetHeight||(t.maximized?t.restore():t.maximize())}},{key:"_documentUpHandler",value:function(e){var t=this,n=e.originalEvent.target.closest?e.originalEvent.target.closest(".smart-window"):e.originalEvent.target,a=n===t||n===t._autoHideWindow||t._isAutoHideWindowClicked,o=t.closest("smart-docking-layout");(t.shadowRoot||t.isInShadowDOM)&&(a=(n=e.originalEvent.composedPath()[0]).getRootNode()===t.shadowRoot||n.closest(".smart-window")===t||n.closest(".smart-window")===t._autoHideWindow||t._isAutoHideWindowClicked),(o=((t.isInShadowDOM?t.getRootNode().host:t)||t).closest("smart-docking-layout"))&&o.disabled?delete t._isWindowContentClicked:(r(u(i.prototype),"_documentUpHandler",this).call(this,e),delete t._isAutoHideWindowClicked,t.autoHide&&t._autoHideWindow&&(a&&t._autoHideWindow.opened||(t.selectedIndex=null,t._autoHideWindow.parentElement&&t._autoHideWindow.parentElement.closest(".smart-window")===t&&t._autoHideWindow.close())))}},{key:"_handleAutoHide",value:function(e){var t=this;if(t.autoHide&&null!==e&&(t._autoHideWindow||t._handleAutoHideWindow(!0),t._autoHideWindow)){t._autoHideWindow._tabsWindow&&t._autoHideWindow._tabsWindow!==t&&(t._autoHideWindow._tabsWindow.selectedIndex=null);var n=t.$.tabsElement._tabs[e];t._autoHideWindow._tab!==n&&t._moveContent(t._autoHideWindow.items[0],t._autoHideWindow._tab),t._autoHideWindow.label=n.label,t._autoHideWindow.draggable=n.draggable,t._autoHideWindow.floatable=n.floatable,t._autoHideWindow._tab=n,t._moveContent(t._autoHideWindow._tab,t._autoHideWindow.items[0]),t._autoHideWindow.bringToFront(),t._setAutoHideWindowSize(e),t._autoHideWindow.open(),t._autoHideWindow._tabsWindow=t,t._autoHideWindow.controlledBy&&t._autoHideWindow.controlledBy.removeAttribute("aria-controls"),t._autoHideWindow.controlledBy=t.$.tabsElement._tabLabelContainers[e],t._autoHideWindow.controlledBy.setAttribute("aria-controls",t._autoHideWindow.id)}}},{key:"_moveHandler",value:function(e){var t=this,n=t.closest("smart-docking-layout");n&&n.items.indexOf(t)>-1||(Smart.Utilities.Core.isMobile&&navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)&&t.layout instanceof Smart.DockingLayout&&t.layout.hasAttribute("dragged")&&e.originalEvent.preventDefault(),r(u(i.prototype),"_moveHandler",this).call(this,e))}},{key:"_setAutoHideWindowSize",value:function(e){var t=this;if(t._autoHideWindow){t._autoHideWindow.$.addClass("no-transition"),t._autoHideWindow.style.maxWidth=t._autoHideWindow.style.maxHeight="";var n,a,r=t.$.tabsElement._tabs[e],o=(t._autoHideWindow.isInShadowDOM?t._autoHideWindow.getRootNode().host:t._autoHideWindow).closest("smart-docking-layout")||t._autoHideWindow.parentElement;if(r){if("top"===t.tabPosition||"bottom"===t.tabPosition){t._autoHideWindow.resizeMode="top"===t.tabPosition?"bottom":"top",t._autoHideWindow.style.width=t.$.tabsElement.offsetWidth+"px",n=o.getBoundingClientRect(),a=t.$.tabsElement.getBoundingClientRect();var i=r._autoHideWindowSize&&parseFloat(r._autoHideWindowSize)||"";Smart.DockingLayout&&o instanceof Smart.DockingLayout&&(i&&(i=Math.min(o.$.itemsContainer.offsetHeight,i)+"px"),t._autoHideWindow.style.maxHeight=o.$.itemsContainer.offsetHeight+"px"),t._autoHideWindow.style.height=i,t._autoHideWindow.style.left=a.left-n.left+"px",t._autoHideWindow&&("top"===t.tabPosition?t._autoHideWindow.style.top=a.top+-n.top+a.height+"px":t._autoHideWindow.style.top=a.top-n.top-t._autoHideWindow.offsetHeight+"px")}else{t._autoHideWindow.resizeMode="left"===t.tabPosition?"right":"left",t._autoHideWindow.style.height=t.$.tabsElement.offsetHeight+"px";var l=r._autoHideWindowSize&&parseFloat(r._autoHideWindowSize)||"";o instanceof Smart.DockingLayout&&(l&&(l=Math.min(o.$.itemsContainer.offsetWidth,l)+"px"),t._autoHideWindow.style.maxWidth=o.$.itemsContainer.offsetWidth+"px"),t._autoHideWindow.style.width=l,n=o.getBoundingClientRect(),a=t.$.tabsElement.getBoundingClientRect(),t._autoHideWindow.style.top=a.top-n.top+"px","left"===t.tabPosition?t._autoHideWindow.style.left=a.left-n.left+t.$.tabsElement.offsetWidth+"px":t._autoHideWindow.style.left=a.left-n.left-t._autoHideWindow.offsetWidth+"px"}t._autoHideWindow._dragDetails&&(t._autoHideWindow._dragDetails.maxWidth=void 0),t._autoHideWindow._setDragDetails("resize"),t._autoHideWindow._dragDetails.started=!1,t._autoHideWindow.$.removeClass("no-transition")}}}},{key:"_handleAutoHideWindow",value:function(e){var t=this;if(t.autoHideWindow){if(t._autoHideWindow&&t._autoHideWindow.parentElement.removeChild(t._autoHideWindow),"string"==typeof t.autoHideWindow)return void(t._autoHideWindow=document.getElementById(t.autoHideWindow));if(t.autoHideWindow instanceof Smart.Window)return void(t._autoHideWindow=t.autoHideWindow)}if(!(!e||t._autoHideWindow||2===t.$.contentSection.children.length&&t.$.contentSection.children[1]instanceof Smart.Window)){var n=document.createElement("smart-window");n.$=Smart.Utilities.Extend(n),n.disableSnap=n.pinned=!0,n.headerButtons=["close"],t.$.contentSection.appendChild(n),t._autoHideWindow=n}}},{key:"_moveContent",value:function(e,t){if(e&&t)for(var n=[].slice.call(e.$.content.childNodes),a=0;a<n.length;a++)t.appendChild(n[a])}},{key:"_tabsChangeHandler",value:function(e){var t=this;if(e.target===t.$.tabsElement&&t.autoHide){if(t._autoHideWindow||t._handleAutoHideWindow(!0),null!==e.detail.oldIndex&&t._autoHideWindow.opened&&(t.$.tabsElement._tabs[e.detail.oldIndex]._autoHideWindowSize=t._autoHideWindow.style["right"===t.$.tabsElement.tabPosition||"left"===t.$.tabsElement.tabPosition?"width":"height"]),!t.autoHide||null===e.detail.index||void 0===e.detail.index)return t._autoHideWindow.setAttribute("active",""),void t._autoHideWindow.close();t._handleAutoHide(e.detail.index)}}},{key:"_tabsFocusHandler",value:function(e){var t=this;"focus"===e.type?(t.bringToFront(),t.setAttribute("focus","")):t.removeAttribute("focus")}}],[{key:"properties",get:function(){return{disableSnap:{value:!0,readOnly:!0,type:"boolean"},dropPosition:{value:["all"],type:"array"},addNewTab:{value:!1,type:"boolean"},allowToggle:{value:!1,type:"boolean"},autoHide:{value:!1,type:"boolean"},autoHideWindow:{value:null,type:"any"},dataSource:{value:null,type:"array?",reflectToAttribute:!1},tabCloseButtonMode:{value:"default",allowedValues:["default","selected"],type:"string"},tabCloseButtons:{value:!1,type:"boolean"},messages:{value:{en:{ambiguousIndexes:"smart-tabs: Initially set smart-tab-item indexes are ambiguous and are ignored in favour of the HTML structure.",detailsObjectRequired:'smart-tabs: The method "insert" requires a details Object to be passed as a second argument.',invalidIndex:'smart-tabs: "{{method}}" method accepts an index of type number.',referenceNodeNotChild:"smart-tabs: Passed {{argument}} is not part of this smart-tabs element.",tabItemRequired:'smart-tabs: The method "{{method}}" requires a "smart-tab-item" element to be passed as an argument.'}},type:"object",extend:!0},tabOverflow:{value:"auto",allowedValues:["auto","hidden","scroll"],type:"string"},tabReorder:{value:!1,type:"boolean"},tabResize:{value:!1,type:"boolean"},tabScrollButtonsPosition:{value:"both",allowedValues:["near","far","both"],type:"string"},selectedIndex:{value:null,type:"number?"},selectionMode:{value:"click",allowedValues:["click","dblclick","mouseenter","none"],type:"string"},collapsed:{value:!1,type:"boolean"},collapsible:{value:!1,type:"boolean"},locked:{value:!1,type:"boolean"},max:{value:"",type:"any"},min:{value:"",type:"any"},size:{value:"",type:"any"},tabLayout:{value:"scroll",allowedValues:["scroll","dropdown","wrap","shrink"],type:"string",defaultReflectToAttribute:!0},tabPosition:{value:"top",allowedValues:["top","bottom","left","right","hidden"],type:"string"},tabTextOrientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"},layout:{value:null,type:"any"}}}},{key:"listeners",get:function(){return{"tabsElement.blur":"_tabsFocusHandler","tabsElement.change":"_tabsChangeHandler","tabsElement.focus":"_tabsFocusHandler","autoHideWindow.close":"_autoHideWindowCloseHandler","autoHideWindow.open":"_autoHideWindowOpenHandler"}}},{key:"requires",get:function(){return{"Smart.Tabs":"smart.tabs.js"}}}]),i}()),Smart("smart-wait-window",function(e){o(r,Smart.ProgressWindow);var n=l(r);function r(){return t(this,r),n.apply(this,arguments)}return a(r,[{key:"template",value:function(){return'<div role="presentation">\n                    <div class="smart-content-container" id="container">\n                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">\n                            <div id="header" class="smart-header">[[label]]</div>\n                            <div id="buttonsContainer" class="smart-buttons-container">\n                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>\n                            </div>\n                        </div>\n                        <div class="smart-content">\n                            <content></content>\n                            <smart-progress-bar id="progressBar" animation="[[animation]]" indeterminate theme="[[theme]]" right-to-left="[[rightToLeft]]"></smart-progress-bar>\n                        </div>\n                        <div id="footer" class="smart-footer"></div>\n                    </div>\n                </div>'}},{key:"_keyDownHandler",value:function(e){var t=this;function n(){t._dragDetails&&(t._dragDetails.started=!1),t.$.removeClass("no-transition")}if(delete t._changingFocus,!(t.disabled||t._dragDetails&&t._dragDetails.started)){var a=t.shadowRoot||t._windowParent.element.getRootNode()?t._windowParent.element.getRootNode().activeElement:document.activeElement;e.stopPropagation();var r="ArrowDown"===e.key||"ArrowRight"===e.key?10:-10;switch(t.$.removeClass("no-transition"),e.key){case"ArrowUp":case"ArrowDown":if(a!==t)return;if(e.preventDefault(),e.altKey)return"ArrowUp"===e.key?t.maximize():t.restore(),void n();if(t.$.addClass("no-transition"),e.ctrlKey)return t._resize("bottom",r),void n();t._drag(r,"vertical");break;case"ArrowLeft":case"ArrowRight":if(a!==t)return;if(e.preventDefault(),t.$.addClass("no-transition"),e.ctrlKey)return t._resize("right",r),void n();t._drag(r,"horizontal");break;case"Tab":t.opened&&t.modal&&(t._changingFocus=!0);break;case"Enter":case" ":var o;if(t.shadowRoot||t.isInShadowDOM?(o=e.composedPath()[0],t._buttonPressed=o.getRootNode().host):(o=e.target.closest&&e.target.closest(".smart-button"),t._buttonPressed=o),!o)return;t._isWindowButton(o),delete t._buttonPressed}n()}}}],[{key:"properties",get:function(){return{headerButtons:{value:[],type:"array"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},pinned:{value:!0,type:"boolean",readOnly:!0}}}}]),r}())}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";n(6731),n(1530),n(510),n(1006),n(4863),n(4535),n(1019),n(4570),n(949),n(6447),n(7438),n(9924),n(4470),n(762),n(533)})()})();